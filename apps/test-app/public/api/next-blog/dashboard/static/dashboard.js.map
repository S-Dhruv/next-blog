{"version":3,"file":"dashboard.js","sources":["../../../../node_modules/.bun/preact@10.28.2/node_modules/preact/hooks/dist/hooks.module.js","../../../../node_modules/.bun/preact@10.28.2/node_modules/preact/compat/dist/compat.module.js","../../../../node_modules/.bun/preact-iso@2.11.1+06426bbb61afc433/node_modules/preact-iso/src/router.js","../../../../node_modules/.bun/preact-iso@2.11.1+06426bbb61afc433/node_modules/preact-iso/src/lazy.js","../../src/api/errors.ts","../../src/api/client.ts","../../src/context/UserContext.tsx","../../../../node_modules/.bun/idb@8.0.3/node_modules/idb/build/index.js","../../src/utils/pluginCache.ts","../../../utils/dist/client.mjs","../../src/context/PluginContext.tsx","../../../jsx-runtime/dist/preact.js","../../src/sdk/settings-helper.client.ts","../../src/sdk/cache-helper.client.ts","../../src/sdk/events-helper.client.ts","../../../../node_modules/.bun/goober@2.1.18+78f434d643685d9b/node_modules/goober/dist/goober.modern.js","../../../../node_modules/.bun/react-hot-toast@2.6.0+bf16f8eded5e12ee/node_modules/react-hot-toast/dist/index.mjs","../../src/sdk/sdk-factory.client.ts","../../src/dashboard/components/plugins/PluginSlot.tsx","../../src/dashboard/components/ExtensionZone.tsx","../../src/dashboard/components/UserMenu.tsx","../../src/dashboard/components/Layout.tsx","../../src/components/PaginationControls.tsx","../../src/components/Loader.tsx","../../src/hooks/usePagination.ts","../../src/hooks/useEntityList.ts","../../src/components/ListPageLayout.tsx","../../src/dashboard/pages/blogs/List.tsx","../../src/components/utils/dynamic-form/TextField.tsx","../../src/components/utils/dynamic-form/TextArea.tsx","../../../../node_modules/.bun/domelementtype@2.3.0/node_modules/domelementtype/lib/esm/index.js","../../../../node_modules/.bun/domhandler@5.0.3/node_modules/domhandler/lib/esm/node.js","../../../../node_modules/.bun/domhandler@5.0.3/node_modules/domhandler/lib/esm/index.js","../../../../node_modules/.bun/entities@6.0.1/node_modules/entities/dist/esm/generated/decode-data-html.js","../../../../node_modules/.bun/entities@6.0.1/node_modules/entities/dist/esm/generated/decode-data-xml.js","../../../../node_modules/.bun/entities@6.0.1/node_modules/entities/dist/esm/decode-codepoint.js","../../../../node_modules/.bun/entities@6.0.1/node_modules/entities/dist/esm/decode.js","../../../../node_modules/.bun/htmlparser2@10.0.0/node_modules/htmlparser2/dist/esm/Tokenizer.js","../../../../node_modules/.bun/htmlparser2@10.0.0/node_modules/htmlparser2/dist/esm/Parser.js","../../../../node_modules/.bun/htmlparser2@10.0.0/node_modules/htmlparser2/dist/esm/index.js","../../../utils/dist/content-transformers/index.mjs","../../src/components/utils/dynamic-form/editorjs-tools/ImageSelectorTool.ts","../../src/components/utils/dynamic-form/RichText.tsx","../../src/components/utils/dynamic-form/PasswordField.tsx","../../src/components/utils/dynamic-form/AutocompleteField.tsx","../../src/components/utils/dynamic-form/CheckboxGroupField.tsx","../../src/components/utils/dynamic-form/HiddenField.tsx","../../src/intent/intent-registry.ts","../../src/intent/IntentProvider.tsx","../../../types/dist/index.mjs","../../src/intent/components/MediaSelector.tsx","../../src/intent/handlers/media-selector-handler.ts","../../src/intent/index.ts","../../src/components/utils/dynamic-form/MediaField.tsx","../../src/components/utils/dynamic-form/FormField.tsx","../../src/components/utils/dynamic-form/index.tsx","../../src/dashboard/pages/blogs/Create.tsx","../../src/dashboard/pages/blogs/Update.tsx","../../src/dashboard/pages/users/List.tsx","../../src/dashboard/pages/users/Create.tsx","../../src/dashboard/pages/users/Update.tsx","../../src/dashboard/pages/categories/List.tsx","../../src/dashboard/pages/categories/Create.tsx","../../src/dashboard/pages/categories/Update.tsx","../../src/dashboard/pages/tags/List.tsx","../../src/dashboard/pages/tags/Create.tsx","../../src/dashboard/pages/tags/Update.tsx","../../src/dashboard/pages/settings/List.tsx","../../src/dashboard/pages/settings/Create.tsx","../../src/dashboard/pages/settings/Update.tsx","../../src/dashboard/components/PluginActionsDropdown.tsx","../../src/dashboard/components/UpdatePluginDialog.tsx","../../src/dashboard/pages/plugins/List.tsx","../../src/dashboard/components/plugins/AvailablePlugins.tsx","../../src/dashboard/pages/plugins/Create.tsx","../../src/dashboard/pages/plugins/Panel.tsx","../../src/dashboard/pages/Login.tsx","../../src/dashboard/pages/Home.tsx","../../src/dashboard/index.tsx"],"sourcesContent":["import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as m,useId as p,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u.type=n,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=n,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u,o=null;function i(i){if(e||(e=n()).then(function(n){n&&(o=n.default||n),u=!0},function(n){r=n,u=!0}),r)throw r;if(!u)throw e;return o?t(o,i):null}return i.displayName=\"Lazy\",i.__f=!0,i}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),ln=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:m,useDeferredValue:w,useEffect:h,useId:p,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=mn,Rn={useState:a,useId:p,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:m,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:l,createFactory:dn,cloneElement:_n,createRef:c,Fragment:u,isValidElement:mn,isElement:xn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,pn as isFragment,yn as isMemo,mn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import { h, createContext, cloneElement, toChildArray } from 'preact';\nimport { useContext, useMemo, useReducer, useLayoutEffect, useRef } from 'preact/hooks';\n\n/**\n * @template T\n * @typedef {import('preact').RefObject<T>} RefObject\n * @typedef {import('./internal.d.ts').VNode} VNode\n */\n\n/** @type {boolean} */\nlet push;\n/** @type {string | RegExp | undefined} */\nlet scope;\n\n/**\n * @param {string} href\n * @returns {boolean}\n */\nfunction isInScope(href) {\n\treturn !scope || (typeof scope == 'string'\n\t\t? href.startsWith(scope)\n\t\t: scope.test(href)\n\t);\n}\n\n/**\n * @param {string} state\n * @param {MouseEvent | PopStateEvent | { url: string, replace?: boolean }} action\n */\nfunction handleNav(state, action) {\n\tlet url = '';\n\tpush = undefined;\n\tif (action && action.type === 'click') {\n\t\t// ignore events the browser takes care of already:\n\t\tif (action.ctrlKey || action.metaKey || action.altKey || action.shiftKey || action.button !== 0) {\n\t\t\treturn state;\n\t\t}\n\n\t\tconst link = action.composedPath().find(el => el.nodeName == 'A' && el.href),\n\t\t\thref = link && link.getAttribute('href');\n\t\tif (\n\t\t\t!link ||\n\t\t\tlink.origin != location.origin ||\n\t\t\t/^#/.test(href) ||\n\t\t\t!/^(_?self)?$/i.test(link.target) ||\n\t\t\t!isInScope(href) ||\n\t\t\tlink.download\n\t\t) {\n\t\t\treturn state;\n\t\t}\n\n\t\tpush = true;\n\t\taction.preventDefault();\n\t\turl = link.href.replace(location.origin, '');\n\t} else if (action && action.url) {\n\t\tpush = !action.replace;\n\t\turl = action.url;\n\t} else {\n\t\turl = location.pathname + location.search;\n\t}\n\n\tif (push === true) history.pushState(null, '', url);\n\telse if (push === false) history.replaceState(null, '', url);\n\treturn url;\n};\n\nexport const exec = (url, route, matches = {}) => {\n\turl = url.split('/').filter(Boolean);\n\troute = (route || '').split('/').filter(Boolean);\n\tif (!matches.params) matches.params = {};\n\tfor (let i = 0, val, rest; i < Math.max(url.length, route.length); i++) {\n\t\tlet [, m, param, flag] = (route[i] || '').match(/^(:?)(.*?)([+*?]?)$/);\n\t\tval = url[i];\n\t\t// segment match:\n\t\tif (!m && param == val) continue;\n\t\t// /foo/* match\n\t\tif (!m && val && flag == '*') {\n\t\t\tmatches.rest = '/' + url.slice(i).map(decodeURIComponent).join('/');\n\t\t\tbreak;\n\t\t}\n\t\t// segment mismatch / missing required field:\n\t\tif (!m || (!val && flag != '?' && flag != '*')) return;\n\t\trest = flag == '+' || flag == '*';\n\t\t// rest (+/*) match:\n\t\tif (rest) val = url.slice(i).map(decodeURIComponent).join('/') || undefined;\n\t\t// normal/optional field:\n\t\telse if (val) val = decodeURIComponent(val);\n\t\tmatches.params[param] = val;\n\t\tif (!(param in matches)) matches[param] = val;\n\t\tif (rest) break;\n\t}\n\treturn matches;\n};\n\n/**\n * @param {Object} props\n * @param {string | RegExp} [props.scope]\n * @param {import('preact').ComponentChildren} [props.children]\n */\nexport function LocationProvider(props) {\n\t// @ts-expect-error - props.url is not implemented correctly & will be removed in the future\n\tconst [url, route] = useReducer(handleNav, props.url || location.pathname + location.search);\n\tif (props.scope) scope = props.scope;\n\tconst wasPush = push === true;\n\n\tconst value = useMemo(() => {\n\t\tconst u = new URL(url, location.origin);\n\t\tconst path = u.pathname.replace(/\\/+$/g, '') || '/';\n\t\t// @ts-ignore-next\n\t\treturn {\n\t\t\turl,\n\t\t\tpath,\n\t\t\tquery: Object.fromEntries(u.searchParams),\n\t\t\troute: (url, replace) => route({ url, replace }),\n\t\t\twasPush\n\t\t};\n\t}, [url]);\n\n\tuseLayoutEffect(() => {\n\t\taddEventListener('click', route);\n\t\taddEventListener('popstate', route);\n\n\t\treturn () => {\n\t\t\tremoveEventListener('click', route);\n\t\t\tremoveEventListener('popstate', route);\n\t\t};\n\t}, []);\n\n\t// @ts-ignore\n\treturn h(LocationProvider.ctx.Provider, { value }, props.children);\n}\n\nconst RESOLVED = Promise.resolve();\n/** @this {import('./internal.d.ts').AugmentedComponent} */\nexport function Router(props) {\n\tconst [c, update] = useReducer(c => c + 1, 0);\n\n\tconst { url, query, wasPush, path } = useLocation();\n\tif (!url) {\n\t\tthrow new Error(`preact-iso's <Router> must be used within a <LocationProvider>, see: https://github.com/preactjs/preact-iso#locationprovider`);\n\t}\n\tconst { rest = path, params = {} } = useContext(RouteContext);\n\n\tconst isLoading = useRef(false);\n\tconst prevRoute = useRef(path);\n\t// Monotonic counter used to check if an un-suspending route is still the current route:\n\tconst count = useRef(0);\n\t// The current route:\n\tconst cur = /** @type {RefObject<VNode<any>>} */ (useRef());\n\t// Previous route (if current route is suspended):\n\tconst prev = /** @type {RefObject<VNode<any>>} */ (useRef());\n\t// A not-yet-hydrated DOM root to remove once we commit:\n\tconst pendingBase = /** @type {RefObject<Element | Text>} */ (useRef());\n\t// has this component ever successfully rendered without suspending:\n\tconst hasEverCommitted = useRef(false);\n\t// was the most recent render successful (did not suspend):\n\tconst didSuspend = /** @type {RefObject<boolean>} */ (useRef());\n\tdidSuspend.current = false;\n\n\tlet pathRoute, defaultRoute, matchProps;\n\ttoChildArray(props.children).some((/** @type {VNode<any>} */ vnode) => {\n\t\tconst matches = exec(\n\t\t\trest,\n\t\t\tvnode.props.path,\n\t\t\t(matchProps = {\n\t\t\t\t...vnode.props,\n\t\t\t\tpath: rest,\n\t\t\t\tquery,\n\t\t\t\tparams: Object.assign({}, params),\n\t\t\t\trest: ''\n\t\t\t})\n\t\t);\n\t\tif (matches) return (pathRoute = cloneElement(vnode, matchProps));\n\t\tif (vnode.props.default) defaultRoute = cloneElement(vnode, matchProps);\n\t});\n\n\t/** @type {VNode<any> | undefined} */\n\tlet incoming = pathRoute || defaultRoute;\n\n\tconst isHydratingSuspense = cur.current && cur.current.__u & MODE_HYDRATE && cur.current.__u & MODE_SUSPENDED;\n\tconst isHydratingBool = cur.current && cur.current.__h;\n\tconst routeChanged = useMemo(() => {\n\t\tprev.current = cur.current;\n\n\t\tcur.current = /** @type {VNode<any>} */ (h(RouteContext.Provider, { value: matchProps }, incoming));\n\n\t\t// Only mark as an update if the route component changed.\n\t\tconst outgoing = prev.current && prev.current.props.children;\n\t\tif (!outgoing || !incoming || incoming.type !== outgoing.type || incoming.props.component !== outgoing.props.component) {\n\t\t\t// This hack prevents Preact from diffing when we swap `cur` to `prev`:\n\t\t\tif (this.__v && this.__v.__k) this.__v.__k.reverse();\n\t\t\tcount.current++;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}, [url, JSON.stringify(matchProps)]);\n\n\tif (isHydratingSuspense) {\n\t\tcur.current.__u |= MODE_HYDRATE;\n\t\tcur.current.__u |= MODE_SUSPENDED;\n\t} else if (isHydratingBool) {\n\t\tcur.current.__h = true;\n\t}\n\n\t// Reset previous children - if rendering succeeds synchronously, we shouldn't render the previous children.\n\tconst p = prev.current;\n\tprev.current = null;\n\n\t// This borrows the _childDidSuspend() solution from compat.\n\tthis.__c = (e, suspendedVNode) => {\n\t\t// Mark the current render as having suspended:\n\t\tdidSuspend.current = true;\n\n\t\t// The new route suspended, so keep the previous route around while it loads:\n\t\tprev.current = p;\n\n\t\t// Fire an event saying we're waiting for the route:\n\t\tif (props.onLoadStart) props.onLoadStart(url);\n\t\tisLoading.current = true;\n\n\t\t// Re-render on unsuspend:\n\t\tlet c = count.current;\n\t\te.then(() => {\n\t\t\t// Ignore this update if it isn't the most recently suspended update:\n\t\t\tif (c !== count.current) return;\n\n\t\t\t// Successful route transition: un-suspend after a tick and stop rendering the old route:\n\t\t\tprev.current = null;\n\t\t\tif (cur.current) {\n\t\t\t\tif (suspendedVNode.__h) {\n\t\t\t\t\t// _hydrating\n\t\t\t\t\tcur.current.__h = suspendedVNode.__h;\n\t\t\t\t}\n\n\t\t\t\tif (suspendedVNode.__u & MODE_SUSPENDED) {\n\t\t\t\t\t// _flags\n\t\t\t\t\tcur.current.__u |= MODE_SUSPENDED;\n\t\t\t\t}\n\n\t\t\t\tif (suspendedVNode.__u & MODE_HYDRATE) {\n\t\t\t\t\tcur.current.__u |= MODE_HYDRATE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tRESOLVED.then(update);\n\t\t});\n\t};\n\n\tuseLayoutEffect(() => {\n\t\tconst currentDom = this.__v && this.__v.__e;\n\n\t\t// Ignore suspended renders (failed commits):\n\t\tif (didSuspend.current) {\n\t\t\t// If we've never committed, mark any hydration DOM for removal on the next commit:\n\t\t\tif (!hasEverCommitted.current && !pendingBase.current) {\n\t\t\t\tpendingBase.current = currentDom;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// If this is the first ever successful commit and we didn't use the hydration DOM, remove it:\n\t\tif (!hasEverCommitted.current && pendingBase.current) {\n\t\t\tif (pendingBase.current !== currentDom) pendingBase.current.remove();\n\t\t\tpendingBase.current = null;\n\t\t}\n\n\t\t// Mark the component has having committed:\n\t\thasEverCommitted.current = true;\n\n\t\t// The route is loaded and rendered.\n\t\tif (prevRoute.current !== path) {\n\t\t\tif (wasPush) scrollTo(0, 0);\n\t\t\tif (props.onRouteChange) props.onRouteChange(url);\n\n\t\t\tprevRoute.current = path;\n\t\t}\n\n\t\tif (props.onLoadEnd && isLoading.current) props.onLoadEnd(url);\n\t\tisLoading.current = false;\n\t}, [path, wasPush, c]);\n\n\t// Note: cur MUST render first in order to set didSuspend & prev.\n\treturn routeChanged\n\t\t? [h(RenderRef, { r: cur }), h(RenderRef, { r: prev })]\n\t\t: h(RenderRef, { r: cur });\n}\n\nconst MODE_HYDRATE = 1 << 5;\nconst MODE_SUSPENDED = 1 << 7;\n\n// Lazily render a ref's current value:\nconst RenderRef = ({ r }) => r.current;\n\nRouter.Provider = LocationProvider;\n\nLocationProvider.ctx = createContext(\n\t/** @type {import('./router.d.ts').LocationHook & { wasPush: boolean }} */ ({})\n);\nconst RouteContext = createContext(\n\t/** @type {import('./router.d.ts').RouteHook & { rest: string }} */ ({})\n);\n\nexport const Route = props => h(props.component, props);\n\nexport const useLocation = () => useContext(LocationProvider.ctx);\nexport const useRoute = () => useContext(RouteContext);\n","import { h, options } from 'preact';\nimport { useState, useRef } from 'preact/hooks';\n\nconst oldDiff = options.__b;\noptions.__b = (vnode) => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiff) oldDiff(vnode);\n};\n\nexport default function lazy(load) {\n\tlet p, c;\n\n\tconst loadModule = () =>\n\t\tload().then(m => (c = (m && m.default) || m));\n\n\tconst LazyComponent = props => {\n\t\tconst [, update] = useState(0);\n\t\tconst r = useRef(c);\n\t\tif (!p) p = loadModule();\n\t\tif (c !== undefined) return h(c, props);\n\t\tif (!r.current) r.current = p.then(() => update(1));\n\t\tthrow p;\n\t};\n\n\tLazyComponent.preload = () => {\n\t\tif (!p) p = loadModule();\n\t\treturn p;\n\t}\n\n\tLazyComponent._forwarded = true;\n\treturn LazyComponent;\n}\n\n// See https://github.com/preactjs/preact/blob/88680e91ec0d5fc29d38554a3e122b10824636b6/compat/src/suspense.js#L5\nconst oldCatchError = options.__e;\noptions.__e = (err, newVNode, oldVNode) => {\n\tif (err && err.then) {\n\t\tlet v = newVNode;\n\t\twhile ((v = v.__)) {\n\t\t\tif (v.__c && v.__c.__c) {\n\t\t\t\tif (newVNode.__e == null) {\n\t\t\t\t\tnewVNode.__c.__z = [oldVNode.__e];\n\t\t\t\t\tnewVNode.__e = oldVNode.__e; // ._dom\n\t\t\t\t\tnewVNode.__k = oldVNode.__k; // ._children\n\t\t\t\t}\n\t\t\t\tif (!newVNode.__k) newVNode.__k = [];\n\t\t\t\treturn v.__c.__c(err, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\tif (oldCatchError) oldCatchError(err, newVNode, oldVNode);\n};\n\nexport function ErrorBoundary(props) {\n\tthis.__c = childDidSuspend;\n\tthis.componentDidCatch = props.onError;\n\treturn props.children;\n}\n\nfunction childDidSuspend(err) {\n\terr.then(() => this.forceUpdate());\n}\n","/**\n * Client-side error classes that mirror server-side plugin errors\n * These are reconstructed from API responses with non-zero codes\n */\n\n/**\n * Plugin error codes - must match server-side codes\n */\nexport const PLUGIN_ERROR_CODES = {\n    PLUGIN_NOT_FOUND: -1001,\n    PLUGIN_MODULE_ERROR: -1002,\n    PLUGIN_RPC_ERROR: -1003,\n    PLUGIN_HOOK_ERROR: -1004,\n    PLUGIN_INITIALIZATION_ERROR: -1005,\n    RPC_HANDLER_NOT_FOUND: -1006,\n} as const;\n\nexport type PluginErrorCode = typeof PLUGIN_ERROR_CODES[keyof typeof PLUGIN_ERROR_CODES];\n\n/**\n * Base class for all plugin-related client errors\n */\nexport abstract class ClientPluginError extends Error {\n    constructor(\n        message: string,\n        public code: number,\n        public pluginId?: string,\n        public operation?: string,\n        public payload?: any\n    ) {\n        super(message);\n        this.name = 'ClientPluginError';\n    }\n}\n\n/**\n * Client-side version of PluginNotFoundError\n */\nexport class ClientPluginNotFoundError extends ClientPluginError {\n    constructor(message: string, code: number = 404, pluginId?: string, operation?: string, payload?: any) {\n        super(message, code, pluginId, operation, payload);\n        this.name = 'ClientPluginNotFoundError';\n    }\n}\n\n/**\n * Client-side version of PluginModuleError\n */\nexport class ClientPluginModuleError extends ClientPluginError {\n    constructor(message: string, code: number = 500, pluginId?: string, operation?: string, payload?: any) {\n        super(message, code, pluginId, operation, payload);\n        this.name = 'ClientPluginModuleError';\n    }\n}\n\n/**\n * Client-side version of PluginRpcError\n */\nexport class ClientPluginRpcError extends ClientPluginError {\n    constructor(\n        message: string,\n        code: number = 404,\n        pluginId?: string,\n        public rpcName?: string,\n        payload?: any\n    ) {\n        super(message, code, pluginId, 'rpc', payload);\n        this.name = 'ClientPluginRpcError';\n    }\n}\n\n/**\n * Client-side version of PluginHookError\n */\nexport class ClientPluginHookError extends ClientPluginError {\n    constructor(\n        message: string,\n        code: number = 404,\n        pluginId?: string,\n        public hookName?: string,\n        payload?: any\n    ) {\n        super(message, code, pluginId, 'hook', payload);\n        this.name = 'ClientPluginHookError';\n    }\n}\n\n/**\n * Client-side version of PluginInitializationError\n */\nexport class ClientPluginInitializationError extends ClientPluginError {\n    constructor(message: string, code: number = 500, operation?: string, payload?: any) {\n        super(message, code, undefined, operation, payload);\n        this.name = 'ClientPluginInitializationError';\n    }\n}\n\n/**\n * Client-side version of RpcHandlerNotFoundError\n */\nexport class ClientRpcHandlerNotFoundError extends ClientPluginError {\n    constructor(message: string, code: number = 404, rpcName?: string, payload?: any) {\n        super(message, code, undefined, 'rpc', payload);\n        this.name = 'ClientRpcHandlerNotFoundError';\n    }\n}\n\n/**\n * Generic API error for non-plugin-specific errors\n */\nexport class ClientApiError extends Error {\n    constructor(\n        message: string,\n        public code: number,\n        public payload?: any\n    ) {\n        super(message);\n        this.name = 'ClientApiError';\n    }\n}\n\n/**\n * Reconstructs appropriate error class based on error code\n */\nexport function reconstructError(response: { code: number; message: string; payload?: any }): Error {\n    const {code, message, payload} = response;\n\n    // Extract common payload properties\n    const pluginId = payload?.pluginId;\n    const operation = payload?.operation;\n    const rpcName = payload?.rpcName;\n    const hookName = payload?.hookName;\n\n    // Use error code for precise error type detection\n    switch (code) {\n        case PLUGIN_ERROR_CODES.PLUGIN_NOT_FOUND:\n            return new ClientPluginNotFoundError(message, code, pluginId, operation, payload);\n\n        case PLUGIN_ERROR_CODES.PLUGIN_MODULE_ERROR:\n            return new ClientPluginModuleError(message, code, pluginId, operation, payload);\n\n        case PLUGIN_ERROR_CODES.PLUGIN_RPC_ERROR:\n            return new ClientPluginRpcError(message, code, pluginId, rpcName, payload);\n\n        case PLUGIN_ERROR_CODES.PLUGIN_HOOK_ERROR:\n            return new ClientPluginHookError(message, code, pluginId, hookName, payload);\n\n        case PLUGIN_ERROR_CODES.PLUGIN_INITIALIZATION_ERROR:\n            return new ClientPluginInitializationError(message, code, operation, payload);\n\n        case PLUGIN_ERROR_CODES.RPC_HANDLER_NOT_FOUND:\n            return new ClientRpcHandlerNotFoundError(message, code, rpcName, payload);\n\n        // Standard HTTP error codes\n        case 400: // Bad Request\n        case 401: // Unauthorized\n        case 403: // Forbidden\n        case 404: // Not Found (non-plugin)\n        case 500: // Internal Server Error (non-plugin)\n            return new ClientApiError(message, code, payload);\n\n        // For any other code (including positive codes or unknown negative codes)\n        default:\n            return new ClientApiError(message, code, payload);\n    }\n}","import type {\n    APIClient,\n    APIResponse,\n    Blog,\n    Category,\n    ClientPaginationParams,\n    Media,\n    PaginatedResponse,\n    Permission,\n    Plugin,\n    PluginHookMapping,\n    SettingsEntry,\n    Tag,\n    UIConfiguration,\n    User\n} from '@supergrowthai/next-blog-types';\nimport {reconstructError} from './errors.js';\n\nclass ApiClientImpl implements APIClient {\n    private readonly baseUrl: string;\n    private readonly defaultHeaders: Record<string, string>;\n\n    constructor(baseUrl: string = '/api', defaultHeaders: Record<string, string> = {}) {\n        this.baseUrl = baseUrl;\n        this.defaultHeaders = defaultHeaders;\n    }\n\n    // Auth APIs\n    async login(username: string, password: string): Promise<APIResponse<User>> {\n        return this.request<User>('/login', 'POST', {username, password});\n    }\n\n    async logout(): Promise<APIResponse<null>> {\n        return this.request<null>('/logout', 'POST');\n    }\n\n    async getCurrentUser(): Promise<APIResponse<User>> {\n        return this.request<User>('/me');\n    }\n\n    async checkPermission(permission: Permission): Promise<APIResponse<boolean>> {\n        return this.request<boolean>('/check-permission', 'POST', {permission});\n    }\n\n    // Config API\n    async getConfig(): Promise<APIResponse<UIConfiguration>> {\n        return this.request('/config');\n    }\n\n    // Blog APIs\n    async getBlogs(params?: ClientPaginationParams): Promise<APIResponse<PaginatedResponse<Blog>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<Blog>>(`/blogs${queryString}`);\n    }\n\n    async getBlog(id: string): Promise<APIResponse<Blog>> {\n        return this.request<Blog>(`/blogs/${id}`);\n    }\n\n    async createBlog(data: {\n        title: string;\n        slug: string;\n        content: string;\n        status: 'draft' | 'published';\n        categoryId: string;\n        tagIds: string[];\n        excerpt?: string;\n        featuredMediaId?: string;\n        metadata?: Record<string, any>;\n    }): Promise<APIResponse<Blog>> {\n        return this.request<Blog>('/blogs/create', 'POST', data);\n    }\n\n    async updateBlog(id: string, data: {\n        title?: string;\n        slug?: string;\n        content?: string;\n        excerpt?: string;\n        categoryId?: string;\n        tagIds?: string[];\n        status?: 'draft' | 'pending' | 'private' | 'published' | 'trash';\n        featuredMediaId?: string;\n    }): Promise<APIResponse<Blog>> {\n        return this.request<Blog>(`/blog/${id}/update`, 'POST', data);\n    }\n\n    async deleteBlog(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/blog/${id}/delete`, 'POST');\n    }\n\n    // User APIs\n    async getUsers(params?: ClientPaginationParams): Promise<APIResponse<PaginatedResponse<User>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<User>>(`/users${queryString}`);\n    }\n\n    async getUser(id: string): Promise<APIResponse<User>> {\n        return this.request<User>(`/users/${id}`);\n    }\n\n    async createUser(data: {\n        username: string;\n        email: string;\n        password: string;\n        name: string;\n        slug: string;\n        bio: string;\n        permissions?: Permission[];\n    }): Promise<APIResponse<User>> {\n        return this.request<User>('/users/create', 'POST', data);\n    }\n\n    async updateUser(id: string, data: {\n        username?: string;\n        email?: string;\n        password?: string;\n        name?: string;\n        slug?: string;\n        bio?: string;\n        permissions?: Permission[];\n    }): Promise<APIResponse<User>> {\n        return this.request<User>(`/user/${id}/update`, 'POST', data);\n    }\n\n    async deleteUser(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/user/${id}/delete`, 'POST');\n    }\n\n    // Permissions\n    async getAllPermissions(): Promise<APIResponse<Permission[]>> {\n        return this.request<Permission[]>('/permissions');\n    }\n\n    // Category APIs\n    async getCategories(params?: ClientPaginationParams & {\n        search?: string;\n        ids?: string\n    }): Promise<APIResponse<PaginatedResponse<Category>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<Category>>(`/categories${queryString}`);\n    }\n\n    async getCategory(id: string): Promise<APIResponse<Category>> {\n        return this.request<Category>(`/categories/${id}`);\n    }\n\n    async createCategory(data: {\n        name: string;\n        description: string;\n        slug: string;\n    }): Promise<APIResponse<Category>> {\n        return this.request<Category>('/categories/create', 'POST', data);\n    }\n\n    async updateCategory(id: string, data: {\n        name?: string;\n        description?: string;\n        slug?: string;\n    }): Promise<APIResponse<Category>> {\n        return this.request<Category>(`/category/${id}/update`, 'POST', data);\n    }\n\n    async deleteCategory(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/category/${id}/delete`, 'POST');\n    }\n\n    // Tag APIs\n    async getTags(params?: ClientPaginationParams & {\n        search?: string;\n        ids?: string\n    }): Promise<APIResponse<PaginatedResponse<Tag>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<Tag>>(`/tags${queryString}`);\n    }\n\n    async getTag(id: string): Promise<APIResponse<Tag>> {\n        return this.request<Tag>(`/tags/${id}`);\n    }\n\n    async createTag(data: {\n        name: string;\n        slug: string;\n    }): Promise<APIResponse<Tag>> {\n        return this.request<Tag>('/tags/create', 'POST', data);\n    }\n\n    async updateTag(id: string, data: {\n        name?: string;\n        slug?: string;\n    }): Promise<APIResponse<Tag>> {\n        return this.request<Tag>(`/tag/${id}/update`, 'POST', data);\n    }\n\n    async deleteTag(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/tag/${id}/delete`, 'POST');\n    }\n\n    // Settings APIs\n    async getSettings(params?: ClientPaginationParams & {\n        search?: string;\n    }): Promise<APIResponse<PaginatedResponse<SettingsEntry>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<SettingsEntry>>(`/settings${queryString}`);\n    }\n\n    async getSetting(id: string): Promise<APIResponse<SettingsEntry>> {\n        return this.request<SettingsEntry>(`/settings/${id}`);\n    }\n\n    async createSetting(data: {\n        key: string;\n        value: string | boolean | number | boolean[] | string[] | number[];\n        scope?: 'global' | 'user';\n        isSecure?: boolean;\n    }): Promise<APIResponse<SettingsEntry>> {\n        return this.request<SettingsEntry>('/settings/create', 'POST', data);\n    }\n\n    async updateSetting(id: string, data: {\n        key?: string;\n        value?: string | boolean | number | boolean[] | string[] | number[];\n    }): Promise<APIResponse<SettingsEntry>> {\n        return this.request<SettingsEntry>(`/setting/${id}/update`, 'POST', data);\n    }\n\n    async deleteSetting(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/setting/${id}/delete`, 'POST');\n    }\n\n    // Plugin APIs\n    async getPlugins(params?: ClientPaginationParams): Promise<APIResponse<PaginatedResponse<Plugin>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PaginatedResponse<Plugin>>(`/plugins${queryString}`);\n    }\n\n    async getPlugin(id: string): Promise<APIResponse<Plugin>> {\n        return this.request<Plugin>(`/plugins/${id}`);\n    }\n\n    async createPlugin(data: {\n        url: string;\n    }): Promise<APIResponse<Plugin>> {\n        return this.request<Plugin>('/plugins/create', 'POST', data);\n    }\n\n    async updatePlugin(id: string, data: {\n        name?: string;\n        description?: string;\n        version?: string;\n        url?: string;\n        author?: string;\n    }): Promise<APIResponse<Plugin>> {\n        return this.request<Plugin>(`/plugin/${id}/update`, 'POST', data);\n    }\n\n    async deletePlugin(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/plugin/${id}/delete`, 'POST');\n    }\n\n    async reinstallPlugin(id: string): Promise<APIResponse<{ clearCache: boolean }>> {\n        return this.request<{ clearCache: boolean }>(`/plugin/${id}/reinstall`, 'POST');\n    }\n\n    // Plugin Hook Mapping APIs\n    async getPluginHookMappings(params?: {\n        type: 'client' | 'server' | 'rpc'\n    }): Promise<APIResponse<PluginHookMapping[]>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>).toString() : '';\n        return this.request<PluginHookMapping[]>(`/plugin-hooks${queryString}`);\n    }\n\n    async callPluginHook<TPayload = any, TResponse = any>(hookName: string, payload: TPayload): Promise<TResponse> {\n        const response = await this.request<any>(`/plugin/hook/${hookName}`, 'POST', payload);\n        return response.payload;\n    }\n\n    async callPluginRPC<TPayload = any, TResponse = any>(rpcName: string, payload: TPayload): Promise<TResponse> {\n        const response = await this.request<any>(`/plugin/rpc/${rpcName}`, 'POST', payload);\n        return response.payload;\n    }\n\n    // Media APIs\n    async getMedia(params?: ClientPaginationParams & {\n        mimeType?: string;\n        userId?: string;\n    }): Promise<APIResponse<PaginatedResponse<Media>>> {\n        const queryString = params ? '?' + new URLSearchParams(params as Record<string, string>) : '';\n        return this.request<PaginatedResponse<Media>>(`/media${queryString}`);\n    }\n\n    async getMediaById(id: string): Promise<APIResponse<Media>> {\n        return this.request<Media>(`/media/${id}`);\n    }\n\n    async createMedia(data: {\n        filename: string;\n        url: string;\n        mimeType: string;\n        size?: number;\n        dimensions?: {\n            width: number;\n            height: number;\n        };\n        metadata?: Record<string, any>;\n    }): Promise<APIResponse<Media>> {\n        return this.request<Media>('/media/create', 'POST', data);\n    }\n\n    async updateMedia(id: string, data: {\n        filename?: string;\n        url?: string;\n        mimeType?: string;\n        size?: number;\n        dimensions?: {\n            width: number;\n            height: number;\n        };\n        metadata?: Record<string, any>;\n    }): Promise<APIResponse<Media>> {\n        return this.request<Media>(`/media/${id}`, 'POST', data);\n    }\n\n    async deleteMedia(id: string): Promise<APIResponse<null>> {\n        return this.request<null>(`/media/delete/${id}`, 'POST');\n    }\n\n    async uploadMediaFile(mediaId: string, file: File): Promise<APIResponse<Media>> {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        return this.request<Media>(`/media/upload/${mediaId}`, \"POST\", formData, {\"Content-Type\": undefined});\n    }\n\n    getCsrfHeaders(): {} {\n        const csrf = document.cookie.split(\"; \").find(c => c.startsWith(\"csrf=\"))?.split(\"=\")[1] ?? \"\";\n        if (csrf)\n            return {\"x-csrf-token\": csrf}\n        return {};\n    }\n\n    private async request<TResponsePayload, BODY = any, HEADERS = any>(\n        endpoint: string,\n        method: 'GET' | 'POST' = 'GET',\n        body?: BODY,\n        extraHeaders?: HEADERS\n    ): Promise<APIResponse<TResponsePayload>> {\n\n        const url = `${this.baseUrl}${endpoint}`;\n\n        const headers: HeadersInit = {\n            'Content-Type': 'application/json',\n            ...this.getCsrfHeaders(),\n            ...extraHeaders,\n            ...this.defaultHeaders,\n        };\n\n        const options: RequestInit = {\n            method,\n            headers,\n            credentials: 'include',\n        };\n\n        if (body && method !== 'GET') {\n            if (body instanceof FormData) {\n                options.body = body;\n                delete headers['Content-Type'];\n            } else {\n                options.body = JSON.stringify(body);\n            }\n        }\n\n        try {\n            const response = await fetch(url, options);\n            // API responses are always JSON\n            const data: APIResponse<TResponsePayload> = await response.json();\n            if (!response.ok) {\n                const error = new Error('HTTP error') as Error & { payload?: unknown; isHttpError?: boolean };\n                error.payload = data;\n                error.isHttpError = true;\n                throw error;\n            }\n\n            // Check for non-zero error codes and reconstruct appropriate error classes\n            if (data.code !== 0) {\n                throw reconstructError(data);\n            }\n\n            return data as APIResponse<TResponsePayload>;\n        } catch (error) {\n            console.error('API request failed:', error);\n            const err = error as Error & { payload?: unknown; isHttpError?: boolean };\n            return {\n                code: 500,\n                message: 'API request failed',\n                payload: err.isHttpError ? err.payload : (err.message || error),\n            } as APIResponse<TResponsePayload>;\n        }\n    }\n}\n\nexport default ApiClientImpl;\n","import {createContext, h} from 'preact';\nimport {useContext, useEffect, useState} from 'preact/hooks';\nimport {APIClient, EntityType, Permission, PermissionType, UIConfiguration, User} from '@supergrowthai/next-blog-types';\nimport ApiClientImpl from '../api/client';\nimport {useMemo} from \"react\";\n\ninterface UserContextType {\n    user: User | null;\n    config: UIConfiguration | null;\n    loading: boolean;\n    error: string | null;\n    login: (username: string, password: string) => Promise<boolean>;\n    logout: () => Promise<void>;\n    refreshUser: () => Promise<void>;\n    hasPermission: (permission: Permission) => boolean;\n    hasAnyPermission: (permissions: Permission[]) => boolean;\n    hasAllPermissions: (permissions: Permission[]) => boolean;\n    apis: APIClient\n}\n\nconst defaultApiClient = new ApiClientImpl(\"/api/next-blog/api\");\n\nconst UserContext = createContext<UserContextType>({\n    user: null,\n    config: null,\n    loading: true,\n    error: null,\n    login: async () => false,\n    logout: async () => {\n    },\n    refreshUser: async () => {\n    },\n    hasPermission: () => false,\n    hasAnyPermission: () => false,\n    hasAllPermissions: () => false,\n    apis: defaultApiClient\n});\n\nexport const UserProvider = ({children}: { children: any }) => {\n\n    const apiClient = useMemo(() => new ApiClientImpl(\"/api/next-blog/api\"), []);\n\n    const [user, setUser] = useState<User | null>(null);\n    const [config, setConfig] = useState<UIConfiguration | null>(null);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n\n    const loadConfig = async () => {\n        try {\n            const response = await apiClient.getConfig();\n            if (response.code === 0 && response.payload) {\n                setConfig(response.payload);\n            } else {\n                console.error('Failed to load config:', response.message);\n            }\n        } catch (err) {\n            console.error('Error loading config:', err);\n        }\n    };\n\n    const refreshUser = async () => {\n        setLoading(true);\n        setError(null);\n\n        try {\n            const response = await apiClient.getCurrentUser();\n\n            if (response.code === 0 && response.payload) {\n                setUser(response.payload);\n            } else if (response.code === 401) {\n                // Not authenticated\n                setUser(null);\n            } else {\n                setError(response.message);\n                setUser(null);\n            }\n        } catch (err) {\n            setError('Failed to fetch user');\n            setUser(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Load user and config on initial mount\n    useEffect(() => {\n        const initialize = async () => {\n            await Promise.all([refreshUser(), loadConfig()]);\n        };\n\n        initialize();\n    }, []);\n\n    const login = async (username: string, password: string): Promise<boolean> => {\n        setLoading(true);\n        setError(null);\n\n        try {\n            const response = await apiClient.login(username, password);\n\n            if (response.code === 0 && response.payload) {\n                setUser(response.payload);\n                return true;\n            } else {\n                setError(response.message);\n                return false;\n            }\n        } catch (err) {\n            setError('Login failed');\n            return false;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const logout = async () => {\n        setLoading(true);\n\n        try {\n            await apiClient.logout();\n            setUser(null);\n        } catch (err) {\n            console.error('Logout error:', err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Permission helpers\n    const hasPermission = (permission: Permission): boolean => {\n        if (!user || !user.permissions) return false;\n\n        // Check for all:all super admin permission\n        if (user.permissions.includes('all:all')) return true;\n\n        // Split the required permission\n        const [reqEntity, reqAction] = permission.split(':') as [EntityType, PermissionType];\n\n        // Check for entity:all permission\n        if (user.permissions.includes(`${reqEntity}:all`)) return true;\n\n        // Check for all:action permission\n        if (user.permissions.includes(`all:${reqAction}`)) return true;\n\n        // Check for exact permission\n        return user.permissions.includes(permission);\n    };\n\n    const hasAnyPermission = (permissions: Permission[]): boolean => {\n        return permissions.some(permission => hasPermission(permission));\n    };\n\n    const hasAllPermissions = (permissions: Permission[]): boolean => {\n        return permissions.every(permission => hasPermission(permission));\n    };\n\n    return (\n        <UserContext.Provider\n            value={{\n                user,\n                config,\n                loading,\n                error,\n                login,\n                logout,\n                refreshUser,\n                hasPermission,\n                hasAnyPermission,\n                hasAllPermissions,\n                apis: apiClient // Provide the API client instance\n            }}\n        >\n            {children}\n        </UserContext.Provider>\n    );\n};\n\n// Custom hook to use the user context\nexport const useUser = () => {\n    const context = useContext(UserContext);\n\n    if (context === undefined) {\n        throw new Error('useUser must be used within a UserProvider');\n    }\n\n    return context;\n};","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","import {IDBPDatabase, openDB} from 'idb';\n\nconst DB_NAME = 'PluginCacheDB';\nconst STORE_NAME = 'plugins';\nconst DB_VERSION = 1;\nconst CACHE_EXPIRY_HOURS = 4; // Cache expires after 4 hours\n\ninterface PluginCacheEntry {\n    url: string;\n    code: string;\n    timestamp: number;\n}\n\nclass PluginCache {\n    private readonly dbPromise: Promise<IDBPDatabase<PluginCacheEntry>>;\n\n    constructor() {\n        this.dbPromise = openDB<PluginCacheEntry>(DB_NAME, DB_VERSION, {\n            upgrade(db) {\n                if (!db.objectStoreNames.contains(STORE_NAME)) {\n                    db.createObjectStore(STORE_NAME, {keyPath: 'url'});\n                }\n            },\n        });\n    }\n\n    async get(url: string): Promise<string | undefined> {\n        const db = await this.dbPromise;\n        const entry = await db.get(STORE_NAME, url);\n\n        if (!entry) return undefined;\n\n        // Check if entry has expired\n        const now = Date.now();\n        const expiryTime = entry.timestamp + (CACHE_EXPIRY_HOURS * 60 * 60 * 1000);\n\n        if (now > expiryTime) {\n            // Entry has expired, remove it\n            await db.delete(STORE_NAME, url);\n            return undefined;\n        }\n\n        return entry.code;\n    }\n\n    async set(url: string, code: string): Promise<void> {\n        const db = await this.dbPromise;\n        await db.put(STORE_NAME, {url, code, timestamp: Date.now()});\n    }\n\n    async clear(): Promise<void> {\n        const db = await this.dbPromise;\n        await db.clear(STORE_NAME);\n    }\n\n    async cleanupExpired(): Promise<number> {\n        const db = await this.dbPromise;\n        const tx = db.transaction(STORE_NAME, 'readwrite');\n        const store = tx.objectStore(STORE_NAME);\n\n        const now = Date.now();\n        const expiryThreshold = now - (CACHE_EXPIRY_HOURS * 60 * 60 * 1000);\n\n        let deletedCount = 0;\n        let cursor = await store.openCursor();\n\n        while (cursor) {\n            const entry = cursor.value as PluginCacheEntry;\n            if (entry.timestamp < expiryThreshold) {\n                await cursor.delete();\n                deletedCount++;\n            }\n            cursor = await cursor.continue();\n        }\n\n        await tx.done;\n        return deletedCount;\n    }\n}\n\nexport const pluginCache = new PluginCache();","var LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nclass Logger {\n  constructor(prefix, initialLogLevel = 1) {\n    this.prefix = prefix;\n    this.logLevel = initialLogLevel;\n  }\n  getLogLevel() {\n    return this.logLevel;\n  }\n  setLogLevel(level) {\n    this.logLevel = level;\n  }\n  debug(message, ...args) {\n    if (this.logLevel === 0) {\n      console.debug(`[${this.prefix}] ${message}`, ...args);\n    }\n  }\n  info(message, ...args) {\n    if (this.logLevel <= 1) {\n      console.info(`[${this.prefix}] ${message}`, ...args);\n    }\n  }\n  error(message, ...args) {\n    console.error(`[${this.prefix}] ${message}`, ...args);\n  }\n  warn(message, ...args) {\n    if (this.logLevel <= 2) {\n      console.warn(`[${this.prefix}] ${message}`, ...args);\n    }\n  }\n  time(message) {\n    if (this.logLevel < 1) {\n      console.time(`[${this.prefix}] ${message}`);\n    }\n  }\n  timeEnd(message) {\n    if (this.logLevel < 1) {\n      console.timeEnd(`[${this.prefix}] ${message}`);\n    }\n  }\n}\nexport {\n  LogLevel,\n  Logger\n};\n//# sourceMappingURL=client.mjs.map\n","import {createContext, FunctionComponent, h} from 'preact';\nimport {useCallback, useContext, useEffect, useMemo, useState} from 'preact/hooks';\nimport {useUser} from \"./UserContext.tsx\";\nimport {ClientHookFunction, Plugin} from '@supergrowthai/next-blog-types';\nimport {pluginCache} from \"../utils/pluginCache.ts\";\nimport {Logger, LogLevel} from \"@supergrowthai/utils/client\";\nimport {ClientPluginModule} from \"@supergrowthai/next-blog-types/client\";\n\nconst logger = new Logger('PluginSystem', LogLevel.INFO);\n\n// Helper to resolve internal:// URLs to static paths\nfunction resolveInternalUrl(url: string): string | null {\n    if (!url.startsWith('internal://')) {\n        return null;\n    }\n\n    const path = url.replace('internal://', '');\n\n    return `/api/next-blog/dashboard/static/${path}`;\n}\n\nfunction isInternalPlugin(url: string): boolean {\n    return url.startsWith('internal://');\n}\n\n/**\n * Matches hook names against patterns\n * @param hookName The actual hook name\n * @param pattern The pattern to match against (can include * wildcards)\n * @returns true if the hook name matches the pattern\n */\nfunction matchesHookPattern(hookName: string, pattern: string): boolean {\n    // Direct match\n    if (hookName === pattern) return true;\n\n    // Convert pattern to regex (e.g., \"dashboard-*-header\" -> /^dashboard-[^-]+-header$/)\n    const regexPattern = pattern\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // Escape special regex chars\n        .replace(/\\\\\\*/g, '[^-]+') // Replace * with non-dash matcher\n        .replace(/{([^}]+)}/g, '([^-]+)'); // Replace {var} with capture group\n\n    const regex = new RegExp(`^${regexPattern}$`);\n    return regex.test(hookName);\n}\n\ninterface PluginContextType {\n    status: 'idle' | 'initializing' | 'ready' | 'error';\n    plugins: Plugin[];\n    loadedPlugins: Map<string, ClientPluginModule>;\n    getHookFunctions: (hookName: string) => { plugin: Plugin, hookFn: ClientHookFunction }[];\n    reloadPlugins: () => Promise<void>;\n    hardReloadPlugins: () => Promise<void>;\n}\n\ninterface HookIndex {\n    exact: Map<string, Array<{ pluginId: string, hookFn: ClientHookFunction }>>;\n    patterns: Map<string, Array<{ pattern: string, pluginId: string, hookFn: ClientHookFunction }>>;\n}\n\nconst PluginContext = createContext<PluginContextType | undefined>(undefined);\n\nexport const PluginProvider: FunctionComponent = ({children}) => {\n    const [status, setStatus] = useState<'idle' | 'initializing' | 'ready' | 'error'>('idle');\n    const {user, apis} = useUser();\n\n    const [plugins, setPlugins] = useState<Plugin[]>([]);\n    const [loadedPlugins, setLoadedPlugins] = useState<Map<string, ClientPluginModule>>(new Map());\n    const [hookIndex, setHookIndex] = useState<HookIndex>({exact: new Map(), patterns: new Map()});\n\n    const loadPluginModule = useCallback(async (plugin: Plugin): Promise<[string, ClientPluginModule] | null> => {\n        logger.time(`Load plugin ${plugin.name}`);\n        if (!plugin.client)\n            throw new Error(\"No client side found for plugin\");\n\n        try {\n            let url = plugin.client.url;\n\n            // Resolve internal:// URLs to static paths\n            if (isInternalPlugin(url)) {\n                const resolvedUrl = resolveInternalUrl(url);\n                if (!resolvedUrl) {\n                    throw new Error(`Failed to resolve internal URL: ${url}`);\n                }\n                url = resolvedUrl;\n                logger.debug(`Resolved internal plugin ${plugin.name}: ${url}`);\n            }\n\n            // Load all plugins the same way now\n            let code: string;\n\n            // Skip caching for devMode plugins\n            if (plugin.devMode) {\n                logger.debug(`DevMode enabled for ${plugin.name}, fetching fresh copy`);\n                const response = await fetch(url);\n                if (!response.ok) throw new Error(`Fetch failed: ${response.statusText}`);\n                code = await response.text();\n            } else {\n                const cachedCode = await pluginCache.get(url);\n                if (!cachedCode) {\n                    logger.debug(`Fetching plugin from ${url}`);\n                    const response = await fetch(url);\n                    if (!response.ok) throw new Error(`Fetch failed: ${response.statusText}`);\n                    code = await response.text();\n                    await pluginCache.set(url, code);\n                    logger.debug(`Fetched and cached plugin ${plugin.name}`);\n                } else {\n                    code = cachedCode;\n                    logger.debug(`Loaded plugin ${plugin.name} from cache`);\n                }\n            }\n\n            const blob = new Blob([`return ${code}`], {type: 'text/javascript'});\n            const objectUrl = URL.createObjectURL(blob);\n            const moduleFactory = new Function(await (await fetch(objectUrl)).text());\n            URL.revokeObjectURL(objectUrl);\n            const module = moduleFactory();\n            if (!module || typeof module !== 'object') throw new Error(`Plugin ${plugin.name} did not return a valid module object.`);\n            logger.info(`Successfully loaded plugin: ${plugin.name}`);\n            return [plugin._id, module];\n        } catch (error) {\n            logger.error(`Failed to load plugin ${plugin.name}:`, error);\n            return null;\n        } finally {\n            logger.timeEnd(`Load plugin ${plugin.name}`);\n        }\n    }, [apis]);\n\n    const doLoadAll = useCallback(async () => {\n        if (!user || !['idle', 'ready'].includes(status)) return;\n        logger.time('Initialization');\n        logger.info('Initializing...');\n        setStatus('initializing');\n        try {\n            const pluginsRes = await apis.getPlugins({page: 1, limit: 999});\n\n            if (pluginsRes.code !== 0) throw new Error('Failed to fetch plugins.');\n\n            const pluginsToLoad = pluginsRes.payload?.data || [];\n            setPlugins(pluginsToLoad);\n            logger.debug(`Found ${pluginsToLoad.length} plugins to load.`);\n\n            const results = await Promise.all(pluginsToLoad.map(p => loadPluginModule(p).catch(console.error.bind(null, \"Failed to load plugin:\"))));\n\n            const newPlugins = new Map<string, ClientPluginModule>();\n            results.forEach(result => {\n                if (result) newPlugins.set(result[0], result[1]);\n            });\n\n            setLoadedPlugins(newPlugins);\n\n            // Build hook index for O(1) lookups\n            const index: HookIndex = {exact: new Map(), patterns: new Map()};\n            newPlugins.forEach((plugin, pluginId) => {\n                if (!plugin.hooks) return;\n\n                Object.entries(plugin.hooks).forEach(([hookName, fn]) => {\n                    if (typeof fn !== 'function') return;\n\n                    // Check if this is a pattern-based hook\n                    if (hookName.includes('*') || hookName.includes(':')) {\n                        if (!index.patterns.has(hookName)) {\n                            index.patterns.set(hookName, []);\n                        }\n                        index.patterns.get(hookName)!.push({\n                            pattern: hookName,\n                            pluginId,\n                            hookFn: fn as ClientHookFunction\n                        });\n                    } else {\n                        // Exact match hook\n                        if (!index.exact.has(hookName)) {\n                            index.exact.set(hookName, []);\n                        }\n                        index.exact.get(hookName)!.push({\n                            pluginId,\n                            hookFn: fn as ClientHookFunction\n                        });\n                    }\n                });\n            });\n\n            setHookIndex(index);\n            logger.info(`Hook index built: ${index.exact.size} exact hooks, ${index.patterns.size} pattern hooks`);\n\n            setStatus('ready');\n            logger.info(`Initialization complete. ${newPlugins.size} plugins loaded.`);\n        } catch (error) {\n            logger.error('Initialization failed:', error);\n            setStatus('error');\n        } finally {\n            logger.timeEnd('Initialization');\n        }\n    }, [user, status, loadPluginModule]);\n\n    const reloadPlugins = useCallback(async () => {\n        try {\n            await doLoadAll();\n            logger.info('Plugins reloaded');\n        } catch (err) {\n            logger.error('reloadPlugins failed:', err);\n            setStatus('error');\n        }\n    }, [doLoadAll]);\n\n    const hardReloadPlugins = useCallback(async () => {\n        await pluginCache.clear();\n        await reloadPlugins();\n    }, [reloadPlugins]);\n\n    const cleanupExpiredCache = useCallback(async (): Promise<number> => {\n        try {\n            const deletedCount = await pluginCache.cleanupExpired();\n            logger.info(`Cleaned up ${deletedCount} expired cache entries`);\n            return deletedCount;\n        } catch (error) {\n            logger.error('Failed to cleanup expired cache:', error);\n            throw error;\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!user || status !== 'idle') return;\n        doLoadAll()\n            .catch(err => {\n                logger.error('Initialization failed:', err);\n                setStatus('error');\n            });\n    }, [doLoadAll]);\n\n    // Periodic cache cleanup every 30 minutes\n    useEffect(() => {\n        const interval = setInterval(() => {\n            cleanupExpiredCache().catch(err => {\n                logger.warn('Periodic cache cleanup failed:', err);\n            });\n        }, 30 * 60 * 1000); // 30 minutes\n\n        return () => clearInterval(interval);\n    }, [cleanupExpiredCache]);\n\n    const getHookFunctions = useCallback((hookName: string): {\n        plugin: Plugin,\n        hookFn: ClientHookFunction\n    }[] => {\n        logger.debug(`getHookFunctions called for hook: \"${hookName}\"`);\n\n        const functions: { plugin: Plugin, hookFn: ClientHookFunction }[] = [];\n        const seenPlugins = new Set<string>(); // Avoid duplicate plugins\n\n        // O(1) exact match lookup\n        if (hookIndex.exact.has(hookName)) {\n            const exactMatches = hookIndex.exact.get(hookName)!;\n            logger.debug(`Found ${exactMatches.length} exact matches for \"${hookName}\"`);\n            exactMatches.forEach(match => {\n                if (!seenPlugins.has(match.pluginId)) {\n                    // Find the plugin to get the full Plugin object\n                    const plugin = plugins.find(p => p._id === match.pluginId);\n                    if (!plugin) {\n                        throw new Error(`Plugin with ID ${match.pluginId} not found in plugins list`);\n                    }\n                    functions.push({plugin, hookFn: match.hookFn});\n                    seenPlugins.add(match.pluginId);\n                }\n            });\n        }\n\n        // Check patterns (much smaller set than all hooks)\n        for (const [pattern, hooks] of hookIndex.patterns) {\n            // Check if this is a zone pattern\n            if (hookName.includes(':') && pattern.includes(':')) {\n                const [hookZone, hookPosition] = hookName.split(':');\n                const [patternZone, patternPosition] = pattern.split(':');\n\n                if ((patternZone === '*' || patternZone === hookZone) &&\n                    (patternPosition === '*' || patternPosition === hookPosition)) {\n                    hooks.forEach(hook => {\n                        if (!seenPlugins.has(hook.pluginId)) {\n                            logger.debug(`Hook \"${hookName}\" matches zone pattern \"${pattern}\"`);\n                            // Find the plugin to get the full Plugin object\n                            const plugin = plugins.find(p => p._id === hook.pluginId);\n                            if (!plugin) {\n                                throw new Error(`Plugin with ID ${hook.pluginId} not found in plugins list`);\n                            }\n                            functions.push({plugin, hookFn: hook.hookFn});\n                            seenPlugins.add(hook.pluginId);\n                        }\n                    });\n                }\n            } else if (matchesHookPattern(hookName, pattern)) {\n                hooks.forEach(hook => {\n                    if (!seenPlugins.has(hook.pluginId)) {\n                        logger.debug(`Hook \"${hookName}\" matches pattern \"${pattern}\"`);\n                        // Find the plugin to get the full Plugin object\n                        const plugin = plugins.find(p => p._id === hook.pluginId);\n                        if (!plugin) {\n                            throw new Error(`Plugin with ID ${hook.pluginId} not found in plugins list`);\n                        }\n                        functions.push({plugin, hookFn: hook.hookFn});\n                        seenPlugins.add(hook.pluginId);\n                    }\n                });\n            }\n        }\n\n        logger.debug(`Returning ${functions.length} hook implementations for \"${hookName}\"`);\n        return functions;\n    }, [hookIndex, plugins]);\n\n    const value = useMemo(() => ({\n        status,\n        plugins,\n        loadedPlugins,\n        getHookFunctions,\n        reloadPlugins,\n        hardReloadPlugins\n    }), [status, plugins, loadedPlugins, getHookFunctions, reloadPlugins, hardReloadPlugins]);\n\n    return <PluginContext.Provider value={value}>{children}</PluginContext.Provider>;\n};\n\nexport const usePlugins = (): PluginContextType => {\n    const context = useContext(PluginContext);\n    if (!context) throw new Error('usePlugins must be used within a PluginProvider');\n    return context;\n};\n\n","const f = [\n  // Structural elements\n  \"div\",\n  \"span\",\n  \"section\",\n  \"article\",\n  \"nav\",\n  \"header\",\n  \"footer\",\n  \"main\",\n  \"aside\",\n  // Text elements\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"p\",\n  \"ul\",\n  \"ol\",\n  \"li\",\n  \"dl\",\n  \"dt\",\n  \"dd\",\n  \"blockquote\",\n  \"pre\",\n  \"code\",\n  \"em\",\n  \"strong\",\n  \"small\",\n  \"mark\",\n  \"del\",\n  \"ins\",\n  \"sub\",\n  \"sup\",\n  // Interactive elements\n  \"button\",\n  \"a\",\n  \"input\",\n  \"textarea\",\n  \"select\",\n  \"option\",\n  \"optgroup\",\n  // Table elements\n  \"table\",\n  \"thead\",\n  \"tbody\",\n  \"tfoot\",\n  \"tr\",\n  \"td\",\n  \"th\",\n  \"caption\",\n  \"colgroup\",\n  \"col\",\n  // Form elements\n  \"form\",\n  \"label\",\n  \"fieldset\",\n  \"legend\",\n  // Media elements\n  \"img\",\n  \"audio\",\n  \"video\",\n  \"canvas\",\n  // Other common elements\n  \"br\",\n  \"hr\",\n  \"details\",\n  \"summary\",\n  \"dialog\"\n], y = [\n  \"key\",\n  // Common attributes\n  \"className\",\n  \"class\",\n  \"id\",\n  \"style\",\n  \"title\",\n  \"role\",\n  \"tabIndex\",\n  // Interactive attributes\n  \"onClick\",\n  \"onChange\",\n  \"onSubmit\",\n  \"onFocus\",\n  \"onBlur\",\n  \"onKeyDown\",\n  \"onKeyUp\",\n  \"onKeyPress\",\n  \"onMouseDown\",\n  \"onMouseUp\",\n  \"onMouseEnter\",\n  \"onMouseLeave\",\n  \"onMouseOver\",\n  \"onMouseOut\",\n  // Form attributes\n  \"type\",\n  \"value\",\n  \"defaultValue\",\n  \"checked\",\n  \"defaultChecked\",\n  \"placeholder\",\n  \"name\",\n  \"disabled\",\n  \"readOnly\",\n  \"required\",\n  \"min\",\n  \"max\",\n  \"step\",\n  \"pattern\",\n  \"maxLength\",\n  \"minLength\",\n  \"rows\",\n  \"cols\",\n  \"autoComplete\",\n  \"autoFocus\",\n  // Link attributes\n  \"href\",\n  \"target\",\n  \"rel\",\n  \"download\",\n  // Media attributes\n  \"src\",\n  \"alt\",\n  \"width\",\n  \"height\",\n  \"loading\",\n  // Accessibility\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"aria-describedby\",\n  \"aria-hidden\",\n  \"aria-expanded\",\n  \"aria-controls\",\n  \"aria-current\",\n  // Data attributes (handled with prefix)\n  \"data-*\"\n];\nfunction h(u, p, c) {\n  return c && typeof window < \"u\" && window.PluginRuntime && Object.assign(window.PluginRuntime, c), function a(e, i = {}) {\n    if (e == null || e === !1 || e === !0) return null;\n    if (typeof e == \"string\" || typeof e == \"number\" || typeof e == \"bigint\") return String(e);\n    if (e && typeof e == \"object\" && Symbol.iterator in e)\n      return Array.from(e).map((t) => a(t, i));\n    if (typeof e != \"object\")\n      throw console.error(\"Invalid VNode - not an object:\", e), new Error(`Invalid VNode: expected object with $$typeof, got ${typeof e}`);\n    const l = e;\n    if (!l.$$typeof || l.$$typeof !== /* @__PURE__ */ Symbol.for(\"secure.jsx.element\"))\n      throw console.error(\"Invalid VNode - missing or invalid $$typeof:\", l), new Error('Invalid VNode: must have $$typeof: Symbol.for(\"secure.jsx.element\")');\n    const { type: o, props: d = {} } = l, { children: n, ...s } = d;\n    if (o === /* @__PURE__ */ Symbol.for(\"secure.jsx.fragment\")) {\n      const r = Array.isArray(n) ? n : n ? [n] : [];\n      return u(p, {}, ...r.map((t) => a(t, i)));\n    }\n    if (typeof o == \"function\") {\n      const r = o(d);\n      return a(r, i);\n    }\n    const m = Array.isArray(n) ? n : n ? [n] : [];\n    if (typeof o == \"string\") {\n      if (!f.includes(o))\n        throw new Error(`Element <${o}> is not allowed. Allowed elements: ${f.join(\", \")}`);\n      const r = {};\n      for (const t in s)\n        y.includes(t) || t.startsWith(\"data-\") ? t === \"className\" || t === \"class\" ? r.class = s[t] : r[t] = s[t] : console.warn(`[JSX Runtime] Prop \"${t}\" is not allowed on <${o}> element and was filtered out`);\n      return u(o, r, ...m.map((t) => a(t, i)));\n    }\n    throw new Error(`Unknown element type: ${String(o)}`);\n  };\n}\nexport {\n  h as createRenderer\n};\n//# sourceMappingURL=preact.js.map\n","import type {Plugin, PluginSettings} from '@supergrowthai/next-blog-types/client';\n\n/**\n * Client-side settings helper for plugins using localStorage\n *\n * Storage patterns:\n * - Plugin-specific: plugin_{pluginId}_{key}\n * - Global: global_{key}\n * - User-specific: user_{userId}_{key}\n */\nexport class ClientSettingsHelper implements PluginSettings {\n    private readonly prefix: string;\n    private readonly userId?: string;\n\n    constructor(private readonly plugin: Plugin, userId?: string) {\n        this.prefix = `plugin_${plugin.id}_`;\n        this.userId = userId;\n    }\n\n    /**\n     * Get a plugin-specific setting from localStorage\n     */\n    get<T = any>(key: string): T | null {\n        try {\n            const value = localStorage.getItem(this.prefix + key);\n            return value ? JSON.parse(value) : null;\n        } catch (error) {\n            console.error(`Failed to get setting ${key} for plugin ${this.plugin.id}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Set a plugin-specific setting in localStorage\n     */\n    set<T = any>(key: string, value: T): void {\n        try {\n            localStorage.setItem(this.prefix + key, JSON.stringify(value));\n        } catch (error) {\n            console.error(`Failed to set setting ${key} for plugin ${this.plugin.id}:`, error);\n        }\n    }\n\n    /**\n     * Get a global setting (no plugin prefix) from localStorage\n     */\n    getGlobal<T = any>(key: string): T | null {\n        try {\n            const value = localStorage.getItem(`global_${key}`);\n            return value ? JSON.parse(value) : null;\n        } catch (error) {\n            console.error(`Failed to get global setting ${key}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Set a global setting (no plugin prefix) in localStorage\n     */\n    setGlobal<T = any>(key: string, value: T): void {\n        try {\n            localStorage.setItem(`global_${key}`, JSON.stringify(value));\n        } catch (error) {\n            console.error(`Failed to set global setting ${key}:`, error);\n        }\n    }\n\n    /**\n     * Get a setting from another plugin's localStorage\n     */\n    getFromPlugin<T = any>(targetPluginId: string, key: string): T | null {\n        try {\n            const value = localStorage.getItem(`plugin_${targetPluginId}_${key}`);\n            return value ? JSON.parse(value) : null;\n        } catch (error) {\n            console.error(`Failed to get setting ${key} from plugin ${targetPluginId}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Get a user-specific setting from localStorage\n     */\n    getUserSetting<T = any>(userId: string, key: string): T | null {\n        try {\n            const value = localStorage.getItem(`user_${userId}_${key}`);\n            return value ? JSON.parse(value) : null;\n        } catch (error) {\n            console.error(`Failed to get user setting ${key} for user ${userId}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Set a user-specific setting in localStorage\n     */\n    setUserSetting<T = any>(userId: string, key: string, value: T): void {\n        try {\n            localStorage.setItem(`user_${userId}_${key}`, JSON.stringify(value));\n        } catch (error) {\n            console.error(`Failed to set user setting ${key} for user ${userId}:`, error);\n        }\n    }\n\n    /**\n     * Get a setting for the current user (if userId was provided in constructor)\n     */\n    getCurrentUserSetting<T = any>(key: string): T | null {\n        if (!this.userId) {\n            console.warn('No userId provided to ClientSettingsHelper');\n            return null;\n        }\n        return this.getUserSetting(this.userId, key);\n    }\n\n    /**\n     * Set a setting for the current user (if userId was provided in constructor)\n     */\n    setCurrentUserSetting<T = any>(key: string, value: T): void {\n        if (!this.userId) {\n            console.warn('No userId provided to ClientSettingsHelper');\n            return;\n        }\n        this.setUserSetting(this.userId, key, value);\n    }\n\n    /**\n     * Clear all settings for this plugin (utility method)\n     */\n    clearAll(): void {\n        const keys = Object.keys(localStorage).filter(key => key.startsWith(this.prefix));\n        keys.forEach(key => localStorage.removeItem(key));\n    }\n\n    /**\n     * Get all settings for this plugin (utility method)\n     */\n    getAll(): Record<string, any> {\n        const settings: Record<string, any> = {};\n        const keys = Object.keys(localStorage).filter(key => key.startsWith(this.prefix));\n\n        keys.forEach(key => {\n            const settingKey = key.replace(this.prefix, '');\n            try {\n                const value = localStorage.getItem(key);\n                settings[settingKey] = value ? JSON.parse(value) : null;\n            } catch {\n                settings[settingKey] = localStorage.getItem(key);\n            }\n        });\n\n        return settings;\n    }\n}","import type {PluginCache} from '@supergrowthai/next-blog-types/client';\n\n/**\n * Client-side cache helper using localStorage with automatic plugin fingerprinting\n */\nexport class ClientCacheHelper implements PluginCache {\n    private readonly prefix: string;\n\n    constructor(private readonly pluginId: string) {\n        this.prefix = `plugin-cache:${pluginId}:`;\n    }\n\n    /**\n     * Get a cached value\n     */\n    async get<T = any>(key: string): Promise<T | null> {\n        const entry = this.getCacheEntry(key);\n        return entry ? entry.value : null;\n    }\n\n    /**\n     * Set a cached value with optional TTL\n     */\n    async set<T = any>(key: string, value: T, ttl?: number): Promise<void> {\n        try {\n            const entry = {\n                value,\n                expires: ttl ? Date.now() + (ttl * 1000) : null\n            };\n\n            localStorage.setItem(this.prefix + key, JSON.stringify(entry));\n        } catch (error) {\n            console.error(`Failed to set cache for key ${key}:`, error);\n            // If localStorage is full, try to clean up expired entries\n            this.cleanupExpired();\n        }\n    }\n\n    /**\n     * Delete a cached value\n     */\n    async delete(key: string): Promise<void> {\n        localStorage.removeItem(this.prefix + key);\n    }\n\n    /**\n     * Clear all cache for this plugin\n     */\n    async clear(): Promise<void> {\n        const keysToRemove: string[] = [];\n\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (key && key.startsWith(this.prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n\n        for (const key of keysToRemove) {\n            localStorage.removeItem(key);\n        }\n    }\n\n    /**\n     * Check if key exists\n     */\n    async has(key: string): Promise<boolean> {\n        const entry = this.getCacheEntry(key);\n        return entry !== null;\n    }\n\n    /**\n     * Get cache entry with expiry check\n     */\n    private getCacheEntry(key: string): { value: any; expires: number | null } | null {\n        try {\n            const stored = localStorage.getItem(this.prefix + key);\n            if (!stored) return null;\n\n            const entry = JSON.parse(stored);\n\n            // Check expiry\n            if (entry.expires !== null && Date.now() > entry.expires) {\n                localStorage.removeItem(this.prefix + key);\n                return null;\n            }\n\n            return entry;\n        } catch (error) {\n            console.error(`Failed to get cache entry for key ${key}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Clean up expired entries for this plugin\n     */\n    private cleanupExpired(): void {\n        const now = Date.now();\n        const keysToRemove: string[] = [];\n\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (key && key.startsWith(this.prefix)) {\n                try {\n                    const stored = localStorage.getItem(key);\n                    if (stored) {\n                        const entry = JSON.parse(stored);\n                        if (entry.expires !== null && now > entry.expires) {\n                            keysToRemove.push(key);\n                        }\n                    }\n                } catch {\n                    // Invalid entry, remove it\n                    keysToRemove.push(key);\n                }\n            }\n        }\n\n        for (const key of keysToRemove) {\n            localStorage.removeItem(key);\n        }\n    }\n}","import type {PluginEvents} from '@supergrowthai/next-blog-types/client';\n\ntype EventHandler = (data: any) => void;\n\ninterface EventListener {\n    event: string;\n    handler: EventHandler;\n    once: boolean;\n}\n\n// Global event bus for cross-plugin communication\nclass GlobalEventBus {\n    private listeners = new Map<string, Set<EventHandler>>();\n\n    emit(event: string, data: any): void {\n        const handlers = this.listeners.get(event);\n        if (handlers) {\n            handlers.forEach(handler => handler(data));\n        }\n\n        // Also check for wildcard listeners\n        const wildcardEvent = event.replace(/^plugin:[^:]+:/, 'plugin:*:');\n        const wildcardHandlers = this.listeners.get(wildcardEvent);\n        if (wildcardHandlers) {\n            wildcardHandlers.forEach(handler => handler(data));\n        }\n    }\n\n    on(event: string, handler: EventHandler): void {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n        this.listeners.get(event)!.add(handler);\n    }\n\n    off(event: string, handler?: EventHandler): void {\n        if (!handler) {\n            this.listeners.delete(event);\n        } else {\n            const handlers = this.listeners.get(event);\n            if (handlers) {\n                handlers.delete(handler);\n                if (handlers.size === 0) {\n                    this.listeners.delete(event);\n                }\n            }\n        }\n    }\n}\n\nconst globalBus = new GlobalEventBus();\n\n/**\n * Client-side events helper with automatic plugin fingerprinting\n */\nexport class ClientEventsHelper implements PluginEvents {\n    private localListeners: EventListener[] = [];\n    private globalListeners: Map<string, EventHandler> = new Map();\n\n    constructor(private readonly pluginId: string) {\n    }\n\n    /**\n     * Emit an event (automatically scoped to plugin)\n     */\n    async emit(event: string, data?: any): Promise<void> {\n        // Emit to local listeners\n        const localHandlers = this.localListeners\n            .filter(l => l.event === event);\n\n        for (const listener of localHandlers) {\n            listener.handler(data);\n            if (listener.once) {\n                const index = this.localListeners.indexOf(listener);\n                this.localListeners.splice(index, 1);\n            }\n        }\n\n        // Emit globally with scoped name\n        const scopedEvent = this.getScopedEvent(event);\n        globalBus.emit(scopedEvent, {\n            pluginId: this.pluginId,\n            event,\n            data,\n            timestamp: Date.now()\n        });\n    }\n\n    /**\n     * Listen to events from this plugin\n     */\n    on(event: string, handler: EventHandler): void {\n        this.localListeners.push({\n            event,\n            handler,\n            once: false\n        });\n    }\n\n    /**\n     * Listen to events from any plugin\n     */\n    onGlobal(event: string, handler: EventHandler): void {\n        // If event already includes plugin prefix, use as-is\n        const globalEvent = event.startsWith('plugin:')\n            ? event\n            : `plugin:*:${event}`;\n\n        globalBus.on(globalEvent, handler);\n        this.globalListeners.set(globalEvent, handler);\n    }\n\n    /**\n     * Remove event listener\n     */\n    off(event: string, handler?: EventHandler): void {\n        if (!handler) {\n            // Remove all local listeners for this event\n            this.localListeners = this.localListeners\n                .filter(l => l.event !== event);\n        } else {\n            // Remove specific local listener\n            this.localListeners = this.localListeners\n                .filter(l => !(l.event === event && l.handler === handler));\n        }\n    }\n\n    /**\n     * Listen once\n     */\n    once(event: string, handler: EventHandler): void {\n        this.localListeners.push({\n            event,\n            handler,\n            once: true\n        });\n    }\n\n    /**\n     * Clean up all listeners\n     */\n    cleanup(): void {\n        this.localListeners = [];\n\n        // Remove global listeners\n        for (const [event, handler] of this.globalListeners.entries()) {\n            globalBus.off(event, handler);\n        }\n        this.globalListeners.clear();\n    }\n\n    /**\n     * Generate an event name with plugin fingerprint\n     */\n    private getScopedEvent(event: string): string {\n        return `plugin:${this.pluginId}:${event}`;\n    }\n}","let e={data:\"\"},t=t=>{if(\"object\"==typeof window){let e=(t?t.querySelector(\"#_goober\"):window._goober)||Object.assign(document.createElement(\"style\"),{innerHTML:\" \",id:\"_goober\"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||e},r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function w(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,w as styled};\n","\"use client\";\nvar Z=e=>typeof e==\"function\",h=(e,t)=>Z(e)?e(t):e;var W=(()=>{let e=0;return()=>(++e).toString()})(),E=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as ee,useState as te,useRef as oe}from\"react\";var re=20,k=\"default\";var H=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:s}=t;return H(e,{type:e.toasts.find(r=>r.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(r=>r.id===a||a===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(e,t=k)=>{f[t]=H(f[t]||j,e),v.forEach(([o,s])=>{o===t&&s(f[t])})},_=e=>Object.keys(f).forEach(t=>Y(e,t)),Q=e=>Object.keys(f).find(t=>f[t].toasts.some(o=>o.id===e)),S=(e=k)=>t=>{Y(t,e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(e={},t=k)=>{let[o,s]=te(f[t]||j),a=oe(f[t]);ee(()=>(a.current!==f[t]&&s(f[t]),v.push([t,s]),()=>{let r=v.findIndex(([l])=>l===t);r>-1&&v.splice(r,1)}),[t]);let i=o.toasts.map(r=>{var l,g,T;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((l=e[r.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:r.duration||((g=e[r.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||se[r.type],style:{...e.style,...(T=e[r.type])==null?void 0:T.style,...r.style}}});return{...o,toasts:i}};var ie=(e,t=\"blank\",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||W()}),P=e=>(t,o)=>{let s=ie(t,e,o);return S(s.toasterId||Q(s.id))({type:2,toast:s}),s.id},n=(e,t)=>P(\"blank\")(e,t);n.error=P(\"error\");n.success=P(\"success\");n.loading=P(\"loading\");n.custom=P(\"custom\");n.dismiss=(e,t)=>{let o={type:3,toastId:e};t?S(t)(o):_(o)};n.dismissAll=e=>n.dismiss(void 0,e);n.remove=(e,t)=>{let o={type:4,toastId:e};t?S(t)(o):_(o)};n.removeAll=e=>n.remove(void 0,e);n.promise=(e,t,o)=>{let s=n.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let i=t.success?h(t.success,a):void 0;return i?n.success(i,{id:s,...o,...o==null?void 0:o.success}):n.dismiss(s),a}).catch(a=>{let i=t.error?h(t.error,a):void 0;i?n.error(i,{id:s,...o,...o==null?void 0:o.error}):n.dismiss(s)}),e};import{useEffect as X,useCallback as A,useRef as ne}from\"react\";var ce=1e3,w=(e,t=\"default\")=>{let{toasts:o,pausedAt:s}=V(e,t),a=ne(new Map).current,i=A((c,m=ce)=>{if(a.has(c))return;let p=setTimeout(()=>{a.delete(c),r({type:4,toastId:c})},m);a.set(c,p)},[]);X(()=>{if(s)return;let c=Date.now(),m=o.map(p=>{if(p.duration===1/0)return;let R=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(R<0){p.visible&&n.dismiss(p.id);return}return setTimeout(()=>n.dismiss(p.id,t),R)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[o,s,t]);let r=A(S(t),[t]),l=A(()=>{r({type:5,time:Date.now()})},[r]),g=A((c,m)=>{r({type:1,toast:{id:c,height:m}})},[r]),T=A(()=>{s&&r({type:6,time:Date.now()})},[s,r]),d=A((c,m)=>{let{reverseOrder:p=!1,gutter:R=8,defaultPosition:z}=m||{},O=o.filter(u=>(u.position||z)===(c.position||z)&&u.height),K=O.findIndex(u=>u.id===c.id),B=O.filter((u,I)=>I<K&&u.visible).length;return O.filter(u=>u.visible).slice(...p?[B+1]:[0,B]).reduce((u,I)=>u+(I.height||0)+R,0)},[o]);return X(()=>{o.forEach(c=>{if(c.dismissed)i(c.id,c.removeDelay);else{let m=a.get(c.id);m&&(clearTimeout(m),a.delete(c.id))}})},[o,i]),{toasts:o,handlers:{updateHeight:g,startPause:l,endPause:T,calculateOffset:d}}};import*as y from\"react\";import{styled as J,keyframes as G}from\"goober\";import*as b from\"react\";import{styled as U,keyframes as xe}from\"goober\";import{styled as pe,keyframes as M}from\"goober\";var de=M`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,me=M`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,le=M`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,C=pe(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${me} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${le} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ue,keyframes as fe}from\"goober\";var Te=fe`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,F=ue(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${Te} 1s linear infinite;\n`;import{styled as ye,keyframes as q}from\"goober\";var ge=q`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,he=q`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,L=ye(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${he} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var be=U(\"div\")`\n  position: absolute;\n`,Se=U(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,Ae=xe`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Pe=U(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,$=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?b.createElement(Pe,null,t):t:o===\"blank\"?null:b.createElement(Se,null,b.createElement(F,{...s}),o!==\"loading\"&&b.createElement(be,null,o===\"error\"?b.createElement(C,{...s}):b.createElement(L,{...s})))};var Re=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ee=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,ve=\"0%{opacity:0;} 100%{opacity:1;}\",De=\"0%{opacity:1;} 100%{opacity:0;}\",Oe=J(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Ie=J(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,ke=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,i]=E()?[ve,De]:[Re(s),Ee(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=y.memo(({toast:e,position:t,style:o,children:s})=>{let a=e.height?ke(e.position||t||\"top-center\",e.visible):{opacity:0},i=y.createElement($,{toast:e}),r=y.createElement(Ie,{...e.ariaProps},h(e.message,e));return y.createElement(Oe,{className:e.className,style:{...a,...o,...e.style}},typeof s==\"function\"?s({icon:i,message:r}):y.createElement(y.Fragment,null,i,r))});import{css as _e,setup as Ve}from\"goober\";import*as x from\"react\";Ve(x.createElement);var we=({id:e,className:t,style:o,onHeightUpdate:s,children:a})=>{let i=x.useCallback(r=>{if(r){let l=()=>{let g=r.getBoundingClientRect().height;s(e,g)};l(),new MutationObserver(l).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return x.createElement(\"div\",{ref:i,className:t,style:o},a)},Me=(e,t)=>{let o=e.includes(\"top\"),s=o?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:E()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(o?1:-1)}px)`,...s,...a}},Ce=_e`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,D=16,Fe=({reverseOrder:e,position:t=\"top-center\",toastOptions:o,gutter:s,children:a,toasterId:i,containerStyle:r,containerClassName:l})=>{let{toasts:g,handlers:T}=w(o,i);return x.createElement(\"div\",{\"data-rht-toaster\":i||\"\",style:{position:\"fixed\",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:\"none\",...r},className:l,onMouseEnter:T.startPause,onMouseLeave:T.endPause},g.map(d=>{let c=d.position||t,m=T.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),p=Me(c,m);return x.createElement(we,{id:d.id,key:d.id,onHeightUpdate:T.updateHeight,className:d.visible?Ce:\"\",style:p},d.type===\"custom\"?h(d.message,d):a?a(d):x.createElement(N,{toast:d,position:c}))}))};var zt=n;export{L as CheckmarkIcon,C as ErrorIcon,F as LoaderIcon,N as ToastBar,$ as ToastIcon,Fe as Toaster,zt as default,h as resolveValue,n as toast,w as useToaster,V as useToasterStore};\n//# sourceMappingURL=index.mjs.map","import type {APIClient, ClientSDK, NotificationStatus, Plugin, User} from '@supergrowthai/next-blog-types/client';\nimport {ClientSettingsHelper} from './settings-helper.client';\nimport {ClientCacheHelper} from './cache-helper.client';\nimport {ClientEventsHelper} from './events-helper.client';\nimport toast from 'react-hot-toast';\nimport {Logger, LogLevel} from \"@supergrowthai/utils/client\";\nimport ApiClientImpl from '../api/client';\n\n/**\n * Dependencies required to create a client SDK instance\n */\ninterface ClientSDKDependencies {\n    apis: APIClient;\n    user: User | null;\n    log: Logger;\n    utils?: any;\n}\n\n/**\n * Factory to create plugin-specific SDK instances with all dependencies injected\n * This ensures complete isolation and fingerprinting for each plugin\n */\nclass ClientSDKFactory {\n    constructor(private readonly deps: ClientSDKDependencies) {\n    }\n\n    /**\n     * Create an SDK instance for a specific plugin\n     * All operations performed through this SDK will be automatically scoped to the plugin\n     */\n    createSDK(plugin: Plugin, onRefresh?: () => void): ClientSDK {\n        // Create plugin-specific helpers\n        const settingsHelper = new ClientSettingsHelper(plugin);\n        const cacheHelper = new ClientCacheHelper(plugin.id);\n        const eventsHelper = new ClientEventsHelper(plugin.id);\n\n        // Create the SDK with plugin fingerprinting\n        const sdk: ClientSDK = {\n            // Plugin identity - baked into every operation\n            pluginId: plugin.id,\n\n            log: this.createScopedLogger(plugin.id),\n\n            // Settings with automatic plugin scoping\n            settings: settingsHelper,\n\n            // Cache with automatic plugin scoping\n            cache: cacheHelper,\n\n            // Events with automatic plugin scoping\n            events: eventsHelper,\n\n            // API client with automatic plugin headers\n            apis: this.deps.apis,\n\n            // User info\n            user: this.deps.user,\n\n            // Utility functions\n            utils: this.deps.utils,\n\n            // UI interaction methods with plugin context\n            notify: (message: string, status?: NotificationStatus) => {\n                console.log(`[Plugin: ${plugin.id}]`, message);\n\n                if (status === 'info') {\n                    toast(message);\n                } else if (status === 'success') {\n                    toast.success(message);\n                } else if (status === 'error') {\n                    toast.error(message);\n                } else if (status === 'warning') {\n                    toast(message, {icon: ''});\n                } else {\n                    toast(message);\n                }\n            },\n\n            // Refresh method\n            refresh: () => {\n                console.debug(`[Plugin: ${plugin.id}] Refresh requested`);\n                if (onRefresh) {\n                    onRefresh();\n                }\n            },\n\n            // Hook execution with plugin tracking\n            callRPC: async (hookName, payload) => {\n                console.debug(`[Plugin: ${plugin.id}] Calling RPC: ${hookName}`);\n                return this.deps.apis.callPluginRPC(String(hookName), payload);\n            },\n\n            // Hook execution with plugin tracking\n            callHook: async (hookName, payload) => {\n                console.debug(`[Plugin: ${plugin.id}] Calling hook: ${hookName}`);\n                return this.deps.apis.callPluginHook(String(hookName), payload);\n            },\n\n            startIntent: <T, R>(intentType: string, payload: T): Promise<R> => {\n                console.debug(`[Plugin: ${plugin.id}] Starting intent: ${intentType}`);\n\n                return new Promise((resolve, reject) => {\n                    const requestId = `${plugin.id}-${intentType}-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n\n                    const handleResponse = (event: Event) => {\n                        const customEvent = event as CustomEvent;\n                        const response = customEvent.detail;\n                        cleanup();\n\n                        if (response.success) {\n                            resolve(response.payload as R);\n                        } else if (response.cancelled) {\n                            resolve(null as R);\n                        } else {\n                            reject(new Error(response.error || 'Intent failed'));\n                        }\n                    };\n\n                    const cleanup = () => {\n                        window.removeEventListener(`intent:response:${requestId}`, handleResponse);\n                        clearTimeout(timeoutId);\n                    };\n\n                    const timeoutId = setTimeout(() => {\n                        cleanup();\n                        reject(new Error('Intent timeout'));\n                    }, 60 * 60 * 1000);\n\n                    // Listen to request-specific response channel\n                    window.addEventListener(`intent:response:${requestId}`, handleResponse);\n\n                    // Dispatch intent request\n                    window.dispatchEvent(new CustomEvent('intent:request', {\n                        detail: {requestId, intentType, payload},\n                        bubbles: true\n                    }));\n                });\n            },\n\n            get system(): never {\n                throw new Error(\"not implemented yet\")\n            },\n        };\n\n        return sdk;\n    }\n\n\n    /**\n     * Create a logger that automatically includes plugin context\n     */\n    private createScopedLogger(pluginId: string) {\n        const originalLogger = this.deps.log;\n        const prefix = `[Plugin: ${pluginId}]`;\n\n        return {\n            debug: (...args: any[]) => originalLogger.debug(prefix, ...args),\n            info: (...args: any[]) => originalLogger.info(prefix, ...args),\n            warn: (...args: any[]) => originalLogger.warn(prefix, ...args),\n            error: (...args: any[]) => originalLogger.error(prefix, ...args),\n            time: (label: string) => originalLogger.time?.(`${prefix} ${label}`),\n            timeEnd: (label: string) => originalLogger.timeEnd?.(`${prefix} ${label}`)\n        };\n    }\n}\n\n/**\n * Create a plugin-specific SDK with automatic header injection\n */\nexport function createClientSDK(\n    plugin: Plugin,\n    apis: APIClient,\n    user: User | null,\n    utils: any,\n    onRefresh?: () => void\n): ClientSDK {\n\n    const pluginApiClient = new ApiClientImpl(\"/api/next-blog/api\", {\n        'X-Plugin-Id': plugin._id,\n        'X-Plugin-Manifest-Id': plugin.id,\n        'X-Plugin-Context': 'client'\n    });\n\n    const logger = new Logger('PluginExecutor', LogLevel.ERROR);\n    const factory = new ClientSDKFactory({\n        apis: pluginApiClient,\n        log: logger,\n        user,\n        utils,\n    });\n    return factory.createSDK(plugin, onRefresh);\n}","import {Fragment, FunctionComponent, h} from \"preact\";\nimport {usePlugins} from \"../../../context/PluginContext.tsx\";\nimport {useCallback, useContext, useEffect, useLayoutEffect, useMemo, useReducer, useRef, useState} from \"preact/hooks\";\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {Logger, LogLevel} from \"@supergrowthai/utils/client\";\nimport {createRenderer} from \"@supergrowthai/jsx-runtime/preact\";\nimport {createClientSDK} from \"../../../sdk/sdk-factory.client\";\nimport {ClientSDK, Plugin} from \"@supergrowthai/next-blog-types/client\";\nimport {memo} from \"preact/compat\";\nimport {ClientHookFunction} from \"@supergrowthai/next-blog-types\";\n\n// Create the renderer once with Preact's h, Fragment, and hooks\nconst hooks = {\n    useState,\n    useEffect,\n    useMemo,\n    useCallback,\n    useRef,\n    useContext,\n    useReducer,\n    useLayoutEffect\n};\nconst render = createRenderer(h, Fragment, hooks);\n\nconst logger = new Logger('PluginSystem', LogLevel.INFO);\n\nconst ProxyComponent = memo(({hookName, refreshKey, hookFn, context, pluginId, sdk}: {\n    hookName: string,\n    refreshKey: number,\n    hookFn: any,\n    pluginId: string,\n    sdk: ClientSDK,\n    context?: Record<string, any>\n}) => {\n\n    let renderedContent: any = null;\n    try {\n        renderedContent = hookFn(sdk, null, context);\n    } catch (e: any) {\n        logger.error(`Hook \"${hookName}\" execution failed for plugin \"${pluginId}\":`, e?.message?.toString());\n    }\n\n    try {\n        logger.debug(`Rendering plugin \"${pluginId}\"`);\n        return render(renderedContent, {sdk, context, pluginId});\n    } catch (e: any) {\n        logger.error(`Rendering plugin \"${pluginId}\" failed:`, e?.message?.toString());\n        return null;\n    }\n});\n\n/**\n * A single, stateful host for one plugin's UI. It manages the refresh\n * cycle and renders the UI Tree provided by the plugin.\n */\nconst PluginHost = memo(({hookName, plugin, hookFn, context}: {\n    hookName: string,\n    plugin: Plugin,\n    hookFn: ClientHookFunction,\n    context?: Record<string, any>,\n}) => {\n    const [refreshKey, setRefreshKey] = useState(0);\n    const {apis, user} = useUser();\n    logger.debug(`Creating PluginHost for plugin \"${plugin.id}\" with refreshKey: ${refreshKey}`);\n\n    const sdk: ClientSDK = useMemo(() => {\n        const {utils} = window.PluginRuntime;\n\n        // Use the SDK factory to create a properly fingerprinted SDK\n        return createClientSDK(\n            plugin,\n            apis,\n            user,\n            utils,\n            () => {\n                logger.debug(`Refresh requested by plugin \"${plugin.id}\"`);\n                setRefreshKey(Date.now());\n            }\n        );\n    }, [apis, user, plugin]);\n\n    return (\n        <ProxyComponent\n            hookName={hookName}\n            refreshKey={refreshKey}\n            context={context}\n            hookFn={hookFn}\n            pluginId={plugin.id}\n            sdk={sdk}\n        />\n    );\n}, (prevProps, nextProps) => {\n\n    return (\n        prevProps.context === nextProps.context &&\n        prevProps.hookName === nextProps.hookName &&\n        prevProps.plugin._id === nextProps.plugin._id &&\n        prevProps.hookFn === nextProps.hookFn\n    );\n});\n\ninterface PluginSlotProps {\n    hookName: string;\n    context?: Record<string, any>;\n    pluginFilter?: string;\n}\n\n/**\n * The public-facing component. Place this in your application where you want\n * plugins to be able to add UI. Supports both static hook names and dynamic patterns.\n *\n * Examples:\n * - <PluginSlot hookName=\"dashboard-header\" />\n * - <PluginSlot page=\"blogs\" position=\"header\" />\n * - <PluginSlot entity=\"blog\" position=\"sidebar\" />\n */\nexport const PluginSlot: FunctionComponent<PluginSlotProps> = (props) => {\n    const {hookName: hookName, context, pluginFilter} = props;\n    const {getHookFunctions, status} = usePlugins();\n\n    if (status !== 'ready') {\n        return null;\n    }\n\n    let hookFunctions = getHookFunctions(hookName);\n\n    // Filter by plugin if specified\n    if (pluginFilter) {\n        hookFunctions = hookFunctions.filter(({plugin}) => plugin._id === pluginFilter);\n    }\n\n    if (!hookFunctions.length) {\n        return null;\n    }\n\n    return (\n        <Fragment>\n            {hookFunctions.map(({plugin, hookFn}) => (\n                <div key={plugin._id} className={`plugin-${plugin.id}`}>\n                    <PluginHost {...{\n                        plugin,\n                        hookFn,\n                        hookName\n                    }} context={context}/>\n                </div>\n            ))}\n        </Fragment>\n    );\n};\n","import {FunctionComponent, h} from 'preact';\nimport {PluginSlot} from './plugins/PluginSlot';\n\ninterface ExtensionZoneProps {\n    name: string;\n    children: any;\n    context?: Record<string, any>;\n    className?: string;\n}\n\n/**\n * ExtensionZone - Smart wrapper that creates extension points before and after content\n *\n * Usage:\n * <ExtensionZone name=\"blogs-list\" page=\"blogs\" data={blogs}>\n *   <BlogsTable />\n * </ExtensionZone>\n *\n * This automatically creates two hook points:\n * - blogs-list:before\n * - blogs-list:after\n *\n * And passes rich context to plugins including page, entity, data, and actions\n */\nexport const ExtensionZone: FunctionComponent<ExtensionZoneProps> = ({\n                                                                         name,\n                                                                         children,\n                                                                         context,\n                                                                         className\n                                                                     }) => {\n\n    return (\n        <>\n            {/* Extension point before content */}\n            <PluginSlot\n                hookName={`${name}:before`}\n                context={context}\n            />\n            <div className={\"h-2\"}/>\n            {/* Main content */}\n            <div data-zone={name} className={className}>\n                {children}\n            </div>\n            <div className={\"h-2\"}/>\n            {/* Extension point after content */}\n            <PluginSlot\n                hookName={`${name}:after`}\n                context={context}\n            />\n        </>\n    );\n};\n\n// Convenience component for inline extension points\nexport const ExtensionPoint: FunctionComponent<{\n    name: string;\n    context?: Record<string, any>;\n    pluginFilter?: string;\n}> = ({name, context = {}, pluginFilter}) => {\n    return <PluginSlot hookName={name} context={context} pluginFilter={pluginFilter}/>;\n};","import {FunctionComponent} from 'preact';\nimport {useUser} from \"../../context/UserContext.tsx\";\nimport {useLocation} from \"preact-iso\";\n\nexport const UserMenu: FunctionComponent = () => {\n    const location = useLocation();\n    const {user, logout} = useUser();\n\n    const onLogout = async () => {\n        await logout();\n        location.route('/api/next-blog/dashboard');\n    };\n\n    if (!user) return null;\n\n    return (\n        <div className=\"dropdown dropdown-end dropdown-hover\">\n            {/* trigger */}\n            <div\n                tabIndex={0}\n                className=\"flex items-center gap-1 px-2 py-1 pb-2 rounded-md cursor-pointer hover:bg-white transition-colors\"\n            >\n                <span className=\"text-sm font-medium\">{user.name}</span>\n                <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"h-3 w-3 opacity-60\"\n                    fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"\n                >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\"/>\n                </svg>\n            </div>\n\n            {/* menu (no margin to avoid hover gap) */}\n            <ul\n                tabIndex={0}\n                className=\"dropdown-content bg-white rounded-lg shadow p-2 w-40\"\n            >\n                {user.permissions.includes('all:all') && (\n                    <li className=\"text-sm px-3 py-2 opacity-70 select-none rounded-md\">\n                        Admin\n                    </li>\n                )}\n                <li>\n                    <div\n                        onClick={onLogout}\n                        className=\"text-sm px-3 py-2 rounded-md hover:bg-white cursor-pointer\"\n                    >\n                        Logout\n                    </div>\n                </li>\n            </ul>\n        </div>\n    );\n};\n","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from '../../context/UserContext';\nimport {Permission} from '@supergrowthai/next-blog-types';\nimport packageJson from '../../../package.json';\nimport {ExtensionPoint} from \"./ExtensionZone\";\nimport {UserMenu} from \"./UserMenu.tsx\";\n\ninterface LayoutProps {\n    children: any;\n    currentPath: string;\n}\n\ninterface NavItem {\n    path: string;\n    label: string;\n    icon?: string;\n    requiredPermission?: Permission;\n}\n\nconst matchesPath = (base: string, actual: string) => {\n    const norm = (p: string) => p.split(/[?#]/)[0].replace(/\\/+$/, '');\n    const a = norm(actual);\n    const b = norm(base);\n    return a === b || a.startsWith(b + '/');\n};\n\nconst defaultNavItems: NavItem[] = [\n    {path: '/api/next-blog/dashboard', label: 'Dashboard', icon: 'home'},\n    {path: '/api/next-blog/dashboard/blogs', label: 'Blogs', icon: 'file-text', requiredPermission: 'blogs:list'},\n    {path: '/api/next-blog/dashboard/tags', label: 'Tags', icon: 'tag', requiredPermission: 'tags:list'},\n    {\n        path: '/api/next-blog/dashboard/categories',\n        label: 'Categories',\n        icon: 'folder',\n        requiredPermission: 'categories:list'\n    },\n    {path: '/api/next-blog/dashboard/users', label: 'Users', icon: 'users', requiredPermission: 'users:list'},\n    {\n        path: '/api/next-blog/dashboard/settings',\n        label: 'Settings',\n        icon: 'settings',\n        requiredPermission: 'settings:list'\n    },\n    {\n        path: '/api/next-blog/dashboard/plugins',\n        label: 'Plugins',\n        icon: 'package',\n        requiredPermission: 'plugins:list'\n    },\n];\n\nexport const Layout: FunctionComponent<LayoutProps> = ({children, currentPath}) => {\n    const location = useLocation();\n    const {user, config, loading, logout, hasPermission} = useUser();\n\n    // Filter navigation items based on user permissions\n    const navItems = config?.navigation?.menuItems ||\n        defaultNavItems.filter(item =>\n            !item.requiredPermission || hasPermission(item.requiredPermission)\n        );\n\n    // Get branding from config or use defaults\n    const brandName = config?.branding?.name || '...';\n    const brandDescription = config?.branding?.description || '... Dashboard';\n\n    // Get theme colors from config or use defaults\n    const primaryColor = config?.theme?.primaryColor || '#3498db';\n    const isDarkMode = config?.theme?.darkMode || false;\n\n    const themeClass = isDarkMode ? 'bg-gray-900 text-white' : 'bg-white text-gray-900';\n    const headerClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n    const footerClass = isDarkMode ? 'border-gray-700 text-gray-400' : 'border-gray-200 text-gray-500';\n\n    return (\n        <div className={`w-full min-h-screen max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-4 sm:py-6 ${themeClass}`}>\n            <header className={`mb-6 border-b pb-4 ${headerClass}`}>\n                <div className=\"flex flex-row justify-between items-start sm:items-center gap-4 mb-4\">\n                    <h1 className=\"text-xl sm:text-2xl font-bold\">{brandName}</h1>\n                    {user && (\n                        <div className=\"flex items-center gap-3 self-end sm:self-auto\">\n                            <UserMenu/>\n                        </div>\n                    )}\n                </div>\n                <div className=\"plugin-header-slot\">\n                    <ExtensionPoint name=\"dashboard-header\"/>\n                </div>\n                <nav className=\"overflow-x-auto pb-2\">\n                    <ul className=\"flex flex-nowrap sm:flex-wrap gap-4 sm:gap-6 list-none p-0 m-0 min-w-max\">\n                        {navItems.map(item => {\n\n                            const activePath = navItems\n                                .filter(item => matchesPath(item.path, currentPath))\n                                .sort((a, b) => b.path.length - a.path.length)[0]?.path ?? '';\n\n                            const isActive = activePath === item.path;\n\n                            return (\n                                <li key={item.path}>\n                                    <a\n                                        href={item.path}\n                                        onClick={e => {\n                                            e.preventDefault();\n                                            location.route(item.path);\n                                        }}\n                                        className={`no-underline whitespace-nowrap py-1 px-1 ${\n                                            isActive\n                                                ? `font-bold`\n                                                : `hover:opacity-80`\n                                        }`}\n                                        style={{\n                                            color: isActive ? primaryColor : undefined\n                                        }}\n                                    >\n                                        {item.label}\n                                    </a>\n                                </li>\n                            );\n                        })}\n                    </ul>\n                </nav>\n            </header>\n\n            <main className=\"min-h-[calc(100vh-220px)]\">\n                {loading ? (\n                    <div className=\"flex justify-center items-center h-32\">\n                        <p>Loading...</p>\n                    </div>\n                ) : (\n                    children\n                )}\n\n                <div className=\"plugin-widget-slot\">\n                    <ExtensionPoint name=\"dashboard-widget\"/>\n                </div>\n            </main>\n\n            <footer className={`mt-8 pt-4 border-t text-sm ${footerClass}`}>\n                <div className=\"flex flex-row justify-between items-start sm:items-center gap-2\">\n                    <p>{brandDescription}</p>\n                    <p className=\"text-xs opacity-75\">v{packageJson.version}</p>\n                </div>\n            </footer>\n        </div>\n    );\n};\n\n","import {h} from 'preact';\nimport {PaginatedResponse} from '@supergrowthai/next-blog-types';\n\ninterface PaginationControlsProps {\n    pagination: PaginatedResponse<any> | null;\n    currentPage: number;\n    dataLength: number;\n    onPageChange: (page: number) => void;\n    loading?: boolean;\n}\n\nexport const PaginationControls = ({pagination, currentPage, dataLength, onPageChange, loading}: PaginationControlsProps) => {\n    if (!pagination) return null;\n\n    const showPrevious = currentPage > 1;\n    const showNext = dataLength >= pagination.limit;\n\n    // Don't show pagination if we're on page 1 and there's no next page\n    if (!showPrevious && !showNext) {\n        return null;\n    }\n\n    return (\n        <div className=\"flex justify-center mt-4\">\n            <div className=\"flex space-x-2\">\n                {showPrevious && (\n                    <button\n                        onClick={() => onPageChange(currentPage - 1)}\n                        disabled={loading}\n                        className={`px-3 py-2 rounded ${loading\n                            ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                            : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                        }`}\n                    >\n                        Previous\n                    </button>\n                )}\n                <span className=\"px-3 py-2\">\n                    Page {currentPage}\n                </span>\n                {showNext && (\n                    <button\n                        onClick={() => onPageChange(currentPage + 1)}\n                        disabled={loading}\n                        className={`px-3 py-2 rounded ${loading\n                            ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                            : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                        }`}\n                    >\n                        Next\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};","import {h} from 'preact';\n\ninterface LoaderProps {\n    text?: string;\n    size?: 'sm' | 'md' | 'lg';\n    className?: string;\n}\n\nconst Loader = ({text = 'Loading...', size = 'md', className = ''}: LoaderProps) => {\n    const sizeClasses = {\n        sm: 'h-4 w-4',\n        md: 'h-6 w-6',\n        lg: 'h-8 w-8'\n    };\n\n    return (\n        <div className={`flex items-center justify-center gap-2 ${className}`}>\n            <div className={`${sizeClasses[size]} animate-spin border-2 border-gray-300 border-t-blue-500 rounded-full`} />\n            {text && <span className=\"text-gray-600\">{text}</span>}\n        </div>\n    );\n};\n\nexport default Loader;","import {useEffect, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\n\nexport interface PaginationState {\n    page: number;\n    limit: number;\n}\n\nexport interface UsePaginationResult {\n    page: number;\n    limit: number;\n    setPage: (page: number) => void;\n    updateURL: (page: number) => void;\n    getParams: () => { page: number; limit: number };\n}\n\nexport function usePagination(defaultLimit: number = 10): UsePaginationResult {\n    const location = useLocation();\n\n    // Get initial page from URL params\n    const urlParams = new URLSearchParams(window.location.search);\n    const initialPage = parseInt(urlParams.get('page') || '1');\n\n    const [page, setPageState] = useState(initialPage);\n    const limit = defaultLimit;\n\n    // Update URL when page changes\n    const updateURL = (newPage: number) => {\n        const params = new URLSearchParams(window.location.search);\n\n        if (newPage > 1) {\n            params.set('page', newPage.toString());\n        } else {\n            params.delete('page');\n        }\n\n        const newURL = window.location.pathname + (params.toString() ? '?' + params.toString() : '');\n        window.history.replaceState({}, '', newURL);\n    };\n\n    const setPage = (newPage: number) => {\n        setPageState(newPage);\n        updateURL(newPage);\n    };\n\n    const getParams = () => ({page, limit});\n\n    // Sync with URL changes (e.g., browser back/forward)\n    useEffect(() => {\n        const handlePopState = () => {\n            const urlParams = new URLSearchParams(window.location.search);\n            const urlPage = parseInt(urlParams.get('page') || '1');\n            setPageState(urlPage);\n        };\n\n        window.addEventListener('popstate', handlePopState);\n        return () => window.removeEventListener('popstate', handlePopState);\n    }, []);\n\n    return {\n        page,\n        limit,\n        setPage,\n        updateURL,\n        getParams\n    };\n}","import {useEffect, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport {PaginatedResponse} from '@supergrowthai/next-blog-types';\nimport {useUser} from '../context/UserContext';\nimport {usePagination} from './usePagination';\n\ninterface EntityListConfig<T> {\n    fetchFn: (params: any) => Promise<{code: number; payload?: PaginatedResponse<T>; message?: string}>;\n    deleteFn?: (id: string) => Promise<{code: number; message?: string}>;\n    entityName: string;\n    dependencies?: any[];\n    additionalActions?: Record<string, {\n        fn: (id: string) => Promise<{code: number; message?: string}>;\n        confirmMessage?: string;\n    }>;\n}\n\nexport function useEntityList<T extends {_id: string}>({\n    fetchFn,\n    deleteFn,\n    entityName,\n    dependencies = [],\n    additionalActions = {}\n}: EntityListConfig<T>) {\n    const location = useLocation();\n    const {user} = useUser();\n    const [entities, setEntities] = useState<T[]>([]);\n    const [paginationLoading, setPaginationLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const [pagination, setPagination] = useState<PaginatedResponse<T> | null>(null);\n    const [deletingIds, setDeletingIds] = useState<Set<string>>(new Set());\n    const [actioningIds, setActioningIds] = useState<Record<string, Set<string>>>(\n        Object.keys(additionalActions).reduce((acc, key) => ({...acc, [key]: new Set()}), {})\n    );\n\n    const {page, setPage, getParams} = usePagination();\n\n    const handlePageChange = async (newPage: number) => {\n        setPaginationLoading(true);\n        setPage(newPage);\n    };\n\n    const fetchEntities = async () => {\n        try {\n            const params = getParams();\n            const response = await fetchFn(params);\n\n            if (response.code === 0 && response.payload) {\n                setEntities(response.payload.data);\n                setPagination(response.payload);\n            } else {\n                throw new Error(response.message || `Failed to fetch ${entityName}`);\n            }\n            setPaginationLoading(false);\n        } catch (err) {\n            console.error(`Error fetching ${entityName}:`, err);\n            setError(err instanceof Error ? err.message : 'Unknown error');\n            setPaginationLoading(false);\n        }\n    };\n\n    const handleDelete = async (entity: T, confirmMessage?: string) => {\n        if (!deleteFn) return;\n\n        const message = confirmMessage || `Are you sure you want to delete this ${entityName}?`;\n        if (!confirm(message)) {\n            return;\n        }\n\n        setDeletingIds(prev => new Set(prev.add(entity._id)));\n        try {\n            const response = await deleteFn(entity._id);\n\n            if (response.code === 0) {\n                setEntities(entities.filter(e => e._id !== entity._id));\n            } else {\n                alert(`Error: ${response.message}`);\n            }\n        } catch (err) {\n            console.error(`Error deleting ${entityName}:`, err);\n            alert(`Failed to delete ${entityName}. Please try again.`);\n        } finally {\n            setDeletingIds(prev => {\n                const newSet = new Set(prev);\n                newSet.delete(entity._id);\n                return newSet;\n            });\n        }\n    };\n\n    const createActionHandler = (actionName: string) => async (entityId: string, customConfirmMessage?: string) => {\n        const action = additionalActions[actionName];\n        if (!action) return;\n\n        const message = customConfirmMessage || action.confirmMessage || `Are you sure you want to ${actionName} this ${entityName}?`;\n        if (!confirm(message)) {\n            return;\n        }\n\n        setActioningIds(prev => ({\n            ...prev,\n            [actionName]: new Set(prev[actionName].add(entityId))\n        }));\n\n        try {\n            const response = await action.fn(entityId);\n            if (response.code === 0) {\n                await fetchEntities();\n            } else {\n                alert(`Error: ${response.message}`);\n            }\n        } catch (err) {\n            console.error(`Error ${actionName}ing ${entityName}:`, err);\n            alert(`Failed to ${actionName} ${entityName}. Please try again.`);\n        } finally {\n            setActioningIds(prev => ({\n                ...prev,\n                [actionName]: new Set([...prev[actionName]].filter(id => id !== entityId))\n            }));\n        }\n    };\n\n    const actionHandlers = Object.keys(additionalActions).reduce((acc, actionName) => ({\n        ...acc,\n        [actionName]: createActionHandler(actionName)\n    }), {} as Record<string, (entityId: string, customConfirmMessage?: string) => Promise<void>>);\n\n    useEffect(() => {\n        if (!user && !paginationLoading) {\n            location.route('/api/next-blog/dashboard/login');\n            return;\n        }\n\n        fetchEntities();\n    }, [user, paginationLoading, page, ...dependencies]);\n\n    return {\n        entities,\n        setEntities,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        actioningIds,\n        handlePageChange,\n        handleDelete,\n        fetchEntities,\n        actionHandlers,\n        page\n    };\n}","import {FunctionComponent, h, ComponentChildren} from 'preact';\nimport Loader from './Loader';\n\ninterface ListPageProps {\n    children: ComponentChildren;\n    paginationLoading?: boolean;\n}\n\ninterface ListPageHeaderProps {\n    children: ComponentChildren;\n}\n\ninterface ListPageContentProps {\n    children: ComponentChildren;\n    loading?: boolean;\n    error?: string | null;\n    empty?: boolean;\n    emptyMessage?: string;\n}\n\nconst ListPage: FunctionComponent<ListPageProps> & {\n    Header: FunctionComponent<ListPageHeaderProps>;\n    Content: FunctionComponent<ListPageContentProps>;\n} = ({ children, paginationLoading }) => {\n    return (\n        <div className=\"relative\">\n            {children}\n            {paginationLoading && (\n                <div className=\"absolute inset-0 bg-white bg-opacity-75 flex justify-center items-center z-10\">\n                    <Loader text=\"Loading...\"/>\n                </div>\n            )}\n        </div>\n    );\n};\n\nListPage.Header = ({ children }) => (\n    <div className=\"flex justify-between items-center mb-5\">\n        {children}\n    </div>\n);\n\nListPage.Content = ({ loading, error, empty, emptyMessage, children }) => {\n    if (loading) {\n        return (\n            <div className=\"flex justify-center items-center py-12\">\n                <Loader/>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"p-4 bg-red-100 text-red-800 rounded\">\n                Error: {error}\n            </div>\n        );\n    }\n\n    if (empty) {\n        return (\n            <div className=\"text-center py-12\">\n                <p className=\"text-gray-500 mb-4\">{emptyMessage || 'No items found.'}</p>\n            </div>\n        );\n    }\n\n    return <div>{children}</div>;\n};\n\nexport default ListPage;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from '../../../context/UserContext';\nimport {Blog} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\n\ninterface BlogsListProps {\n    path?: string;\n}\n\nconst BlogsList: FunctionComponent<BlogsListProps> = () => {\n    const location = useLocation();\n    const {apis, hasPermission} = useUser();\n\n    const {\n        entities: blogs,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        handlePageChange,\n        handleDelete,\n        page\n    } = useEntityList<Blog>({\n        fetchFn: apis.getBlogs.bind(apis),\n        deleteFn: apis.deleteBlog.bind(apis),\n        entityName: 'blog'\n    });\n\n    const formatDate = (timestamp: number) => {\n        return new Date(timestamp).toLocaleDateString();\n    };\n\n    return (\n        <ExtensionZone name=\"blogs-list\" context={{data: blogs}}>\n            <ListPage paginationLoading={paginationLoading}>\n                <ListPage.Header>\n                    <h2 className=\"text-xl font-semibold m-0\">Blogs</h2>\n                    {hasPermission('blogs:create') && (\n                        <a\n                            href=\"/api/next-blog/dashboard/blogs/create\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                location.route('/api/next-blog/dashboard/blogs/create');\n                            }}\n                            className=\"inline-block bg-blue-500 hover:bg-blue-600 text-white no-underline px-4 py-2 rounded\"\n                        >\n                            Create New Blog\n                        </a>\n                    )}\n                </ListPage.Header>\n\n                <ExtensionPoint name=\"blogs-list-toolbar\" context={{blogs}}/>\n\n                <ListPage.Content\n                    loading={paginationLoading}\n                    error={error}\n                    empty={blogs.length === 0}\n                    emptyMessage=\"No blogs found. Create your first blog post!\"\n                >\n                    <ExtensionZone name=\"blogs-table\" context={{data: blogs}}>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full border-collapse\">\n                                <thead>\n                                <tr className=\"bg-gray-100\">\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Title</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Created</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Updated</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Actions</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {blogs.map(blog => (\n                                    <>\n                                        <ExtensionPoint name=\"blog-item:before\" context={{blog}}/>\n                                        <tr key={blog._id} className=\"border-b border-gray-200 hover:bg-gray-50\">\n                                            <td className=\"p-3\">\n                                                {blog.title}{blog.status === 'draft' &&\n                                                <span\n                                                    className=\"ml-2 text-gray-500 text-sm font-medium\">[Draft]</span>}\n                                            </td>\n                                            <td className=\"p-3\">{formatDate(blog.createdAt)}</td>\n                                            <td className=\"p-3\">{formatDate(blog.updatedAt)}</td>\n                                            <td className=\"p-3\">\n                                                {hasPermission('blogs:update') && (\n                                                    <a\n                                                        href={`/api/next-blog/dashboard/blogs/${blog._id}`}\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            location.route(`/api/next-blog/dashboard/blogs/${blog._id}`);\n                                                        }}\n                                                        className=\"text-blue-500 hover:text-blue-700 no-underline mr-3\"\n                                                    >\n                                                        Edit\n                                                    </a>\n                                                )}\n                                                {hasPermission('blogs:delete') && (\n                                                    <button\n                                                        onClick={() => handleDelete(blog, `Are you sure you want to delete \"${blog.title}\"?`)}\n                                                        disabled={deletingIds.has(blog._id)}\n                                                        className=\"text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer p-0 font-inherit disabled:opacity-50\"\n                                                    >\n                                                        {deletingIds.has(blog._id) ?\n                                                            <Loader size=\"sm\" text=\"\"/> : 'Delete'}\n                                                    </button>\n                                                )}\n                                            </td>\n                                        </tr>\n                                        <ExtensionPoint name=\"blog-item:after\" context={{blog}}/>\n                                    </>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </ExtensionZone>\n                </ListPage.Content>\n\n                <PaginationControls\n                    pagination={pagination}\n                    currentPage={page}\n                    dataLength={blogs.length}\n                    onPageChange={handlePageChange}\n                    loading={paginationLoading}\n                />\n            </ListPage>\n        </ExtensionZone>\n    );\n};\n\nexport default BlogsList;","import {h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport {TextDynamicFormField} from './types';\n\ninterface TextFieldProps {\n    field: TextDynamicFormField;\n    onChange: (key: string, value: string) => void;\n}\n\nconst TextField = ({field, onChange}: TextFieldProps) => {\n    const [value, setValue] = useState(field.value || '');\n    const [error, setError] = useState<string | undefined>();\n    const [isValidating, setIsValidating] = useState(false);\n\n    useEffect(() => {\n        if (!field.validator) return;\n\n        const validate = async () => {\n            setIsValidating(true);\n            const result = await field.validator!(value);\n            setError(result.isValid ? undefined : result.message);\n            if (result.value !== undefined && result.value !== value) {\n                setValue(result.value);\n                onChange(field.key, result.value);\n            }\n            setIsValidating(false);\n        };\n\n        validate();\n    }, [value, field.validator]);\n\n    const handleChange = (e: any) => {\n        const newValue = e.currentTarget.value;\n        if (newValue === value) return;\n        setValue(newValue);\n        onChange(field.key, newValue);\n    };\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                htmlFor={field.key}\n                className=\"block mb-1 text-sm font-medium text-gray-700\"\n            >\n                {field.label}\n            </label>\n            <div className=\"relative\">\n                <input\n                    className={`w-full px-3 py-2 border ${error ? 'border-red-500' : 'border-gray-300'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${isValidating ? 'pr-10' : ''}`}\n                    value={value}\n                    onChange={handleChange}\n                    type=\"text\"\n                    disabled={field.disabled}\n                    id={field.key}\n                    name={field.key}\n                    placeholder={field.placeholder || field.label}\n                    required={field.required}\n                />\n                {isValidating && (\n                    <div className=\"absolute inset-y-0 right-0 flex items-center pr-3\">\n                        <svg className=\"animate-spin h-4 w-4 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\"\n                             fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\"\n                                    strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\"\n                                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                    </div>\n                )}\n            </div>\n            {error && (\n                <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n            )}\n        </div>\n    );\n};\n\nexport default TextField;","import {h} from 'preact';\nimport {useState} from 'preact/hooks';\nimport {TextAreaDynamicFormField} from './types';\n\ninterface TextAreaProps {\n    field: TextAreaDynamicFormField;\n    onChange: (key: string, value: string) => void;\n}\n\nconst TextArea = ({field, onChange}: TextAreaProps) => {\n    const [value, setValue] = useState(field.value || '');\n\n    const handleChange = (e: any) => {\n        const newValue = e.currentTarget.value;\n        setValue(newValue);\n        onChange(field.key, newValue);\n    };\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                htmlFor={field.key}\n                className=\"block mb-1 text-sm font-medium text-gray-700\"\n            >\n                {field.label}\n            </label>\n            <textarea\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-32\"\n                value={value}\n                onChange={handleChange}\n                id={field.key}\n                disabled={field.disabled}\n                name={field.key}\n                placeholder={field.placeholder || field.label}\n                required={field.required}\n            />\n        </div>\n    );\n};\n\nexport default TextArea;","/** Types of elements found in htmlparser2's DOM */\nexport var ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType || (ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nexport function isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexport const Root = ElementType.Root;\n/** Type for Text */\nexport const Text = ElementType.Text;\n/** Type for <? ... ?> */\nexport const Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexport const Comment = ElementType.Comment;\n/** Type for <script> tags */\nexport const Script = ElementType.Script;\n/** Type for <style> tags */\nexport const Style = ElementType.Style;\n/** Type for Any tag */\nexport const Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexport const CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexport const Doctype = ElementType.Doctype;\n","import { ElementType, isTag as isTagRaw } from \"domelementtype\";\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nexport class Node {\n    constructor() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    // Read-write aliases for properties\n    /**\n     * Same as {@link parent}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get parentNode() {\n        return this.parent;\n    }\n    set parentNode(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Same as {@link prev}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get previousSibling() {\n        return this.prev;\n    }\n    set previousSibling(prev) {\n        this.prev = prev;\n    }\n    /**\n     * Same as {@link next}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nextSibling() {\n        return this.next;\n    }\n    set nextSibling(next) {\n        this.next = next;\n    }\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    cloneNode(recursive = false) {\n        return cloneNode(this, recursive);\n    }\n}\n/**\n * A node that contains some data.\n */\nexport class DataNode extends Node {\n    /**\n     * @param data The content of the data node\n     */\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n    /**\n     * Same as {@link data}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nodeValue() {\n        return this.data;\n    }\n    set nodeValue(data) {\n        this.data = data;\n    }\n}\n/**\n * Text within the document.\n */\nexport class Text extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Text;\n    }\n    get nodeType() {\n        return 3;\n    }\n}\n/**\n * Comments within the document.\n */\nexport class Comment extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Comment;\n    }\n    get nodeType() {\n        return 8;\n    }\n}\n/**\n * Processing instructions, including doc types.\n */\nexport class ProcessingInstruction extends DataNode {\n    constructor(name, data) {\n        super(data);\n        this.name = name;\n        this.type = ElementType.Directive;\n    }\n    get nodeType() {\n        return 1;\n    }\n}\n/**\n * A `Node` that can have children.\n */\nexport class NodeWithChildren extends Node {\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    constructor(children) {\n        super();\n        this.children = children;\n    }\n    // Aliases\n    /** First child of the node. */\n    get firstChild() {\n        var _a;\n        return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    /** Last child of the node. */\n    get lastChild() {\n        return this.children.length > 0\n            ? this.children[this.children.length - 1]\n            : null;\n    }\n    /**\n     * Same as {@link children}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get childNodes() {\n        return this.children;\n    }\n    set childNodes(children) {\n        this.children = children;\n    }\n}\nexport class CDATA extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.CDATA;\n    }\n    get nodeType() {\n        return 4;\n    }\n}\n/**\n * The root node of the document.\n */\nexport class Document extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Root;\n    }\n    get nodeType() {\n        return 9;\n    }\n}\n/**\n * An element within the DOM.\n */\nexport class Element extends NodeWithChildren {\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    constructor(name, attribs, children = [], type = name === \"script\"\n        ? ElementType.Script\n        : name === \"style\"\n            ? ElementType.Style\n            : ElementType.Tag) {\n        super(children);\n        this.name = name;\n        this.attribs = attribs;\n        this.type = type;\n    }\n    get nodeType() {\n        return 1;\n    }\n    // DOM Level 1 aliases\n    /**\n     * Same as {@link name}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get tagName() {\n        return this.name;\n    }\n    set tagName(name) {\n        this.name = name;\n    }\n    get attributes() {\n        return Object.keys(this.attribs).map((name) => {\n            var _a, _b;\n            return ({\n                name,\n                value: this.attribs[name],\n                namespace: (_a = this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                prefix: (_b = this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n            });\n        });\n    }\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nexport function isTag(node) {\n    return isTagRaw(node);\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nexport function isCDATA(node) {\n    return node.type === ElementType.CDATA;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nexport function isText(node) {\n    return node.type === ElementType.Text;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nexport function isComment(node) {\n    return node.type === ElementType.Comment;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDirective(node) {\n    return node.type === ElementType.Directive;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDocument(node) {\n    return node.type === ElementType.Root;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nexport function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nexport function cloneNode(node, recursive = false) {\n    let result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Element(node.name, { ...node.attribs }, children);\n        children.forEach((child) => (child.parent = clone));\n        if (node.namespace != null) {\n            clone.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone[\"x-attribsNamespace\"] = { ...node[\"x-attribsNamespace\"] };\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone[\"x-attribsPrefix\"] = { ...node[\"x-attribsPrefix\"] };\n        }\n        result = clone;\n    }\n    else if (isCDATA(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new CDATA(children);\n        children.forEach((child) => (child.parent = clone));\n        result = clone;\n    }\n    else if (isDocument(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Document(children);\n        children.forEach((child) => (child.parent = clone));\n        if (node[\"x-mode\"]) {\n            clone[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone;\n    }\n    else if (isDirective(node)) {\n        const instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(`Not implemented yet: ${node.type}`);\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nfunction cloneChildren(childs) {\n    const children = childs.map((child) => cloneNode(child, true));\n    for (let i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","import { ElementType } from \"domelementtype\";\nimport { Element, Text, Comment, CDATA, Document, ProcessingInstruction, } from \"./node.js\";\nexport * from \"./node.js\";\n// Default options\nconst defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nexport class DomHandler {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    constructor(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    onparserinit(parser) {\n        this.parser = parser;\n    }\n    // Resets the handler back to starting state\n    onreset() {\n        this.dom = [];\n        this.root = new Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    }\n    // Signals the handler that parsing is done\n    onend() {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    }\n    onerror(error) {\n        this.handleCallback(error);\n    }\n    onclosetag() {\n        this.lastNode = null;\n        const elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    }\n    onopentag(name, attribs) {\n        const type = this.options.xmlMode ? ElementType.Tag : undefined;\n        const element = new Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    }\n    ontext(data) {\n        const { lastNode } = this;\n        if (lastNode && lastNode.type === ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            const node = new Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    }\n    oncomment(data) {\n        if (this.lastNode && this.lastNode.type === ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        const node = new Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    }\n    oncommentend() {\n        this.lastNode = null;\n    }\n    oncdatastart() {\n        const text = new Text(\"\");\n        const node = new CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    }\n    oncdataend() {\n        this.lastNode = null;\n    }\n    onprocessinginstruction(name, data) {\n        const node = new ProcessingInstruction(name, data);\n        this.addNode(node);\n    }\n    handleCallback(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    }\n    addNode(node) {\n        const parent = this.tagStack[this.tagStack.length - 1];\n        const previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    }\n}\nexport default DomHandler;\n","// Generated using scripts/write-decode-map.ts\nexport const htmlDecodeTree = /* #__PURE__ */ new Uint16Array(\n// prettier-ignore\n/* #__PURE__ */ \"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Generated using scripts/write-decode-map.ts\nexport const xmlDecodeTree = /* #__PURE__ */ new Uint16Array(\n// prettier-ignore\n/* #__PURE__ */ \"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-xml.js.map","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, n/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 65535) {\n        codePoint -= 65536;\n        output += String.fromCharCode(((codePoint >>> 10) & 1023) | 55296);\n        codePoint = 56320 | (codePoint & 1023);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 55296 && codePoint <= 57343) ||\n        codePoint > 1114111) {\n        return 65533;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode-codepoint.js.map","import { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nimport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nimport { replaceCodePoint, fromCodePoint } from \"./decode-codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 32;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(input, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (input.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(input, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(input, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(input, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(input, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(input, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(input, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(input, offset) {\n        if (offset >= input.length) {\n            return -1;\n        }\n        if ((input.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(input, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(input, offset);\n    }\n    addToNumericResult(input, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    Number.parseInt(input.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(input, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < input.length; offset++, this.excess++) {\n            const char = input.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let returnValue = \"\";\n    const decoder = new EntityDecoder(decodeTree, (data) => (returnValue += fromCodePoint(data)));\n    return function decodeWithTrie(input, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = input.indexOf(\"&\", offset)) >= 0) {\n            returnValue += input.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const length = decoder.write(input, \n            // Skip the \"&\"\n            offset + 1);\n            if (length < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + length;\n            // If `length` is 0, skip the current `&` and continue.\n            offset = length === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = returnValue + input.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        returnValue = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIndex, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIndex : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIndex + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIndex;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midValue = decodeTree[mid];\n        if (midValue < char) {\n            lo = mid + 1;\n        }\n        else if (midValue > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = /* #__PURE__ */ getDecoder(htmlDecodeTree);\nconst xmlDecoder = /* #__PURE__ */ getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param htmlString The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(htmlString, mode = DecodingMode.Legacy) {\n    return htmlDecoder(htmlString, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param htmlAttribute The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(htmlAttribute) {\n    return htmlDecoder(htmlAttribute, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param htmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(htmlString) {\n    return htmlDecoder(htmlString, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param xmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(xmlString) {\n    return xmlDecoder(xmlString, DecodingMode.Strict);\n}\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nexport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nexport { decodeCodePoint, replaceCodePoint, fromCodePoint, } from \"./decode-codepoint.js\";\n//# sourceMappingURL=decode.js.map","import { EntityDecoder, DecodingMode, htmlDecodeTree, xmlDecodeTree, } from \"entities/decode\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"Tab\"] = 9] = \"Tab\";\n    CharCodes[CharCodes[\"NewLine\"] = 10] = \"NewLine\";\n    CharCodes[CharCodes[\"FormFeed\"] = 12] = \"FormFeed\";\n    CharCodes[CharCodes[\"CarriageReturn\"] = 13] = \"CarriageReturn\";\n    CharCodes[CharCodes[\"Space\"] = 32] = \"Space\";\n    CharCodes[CharCodes[\"ExclamationMark\"] = 33] = \"ExclamationMark\";\n    CharCodes[CharCodes[\"Number\"] = 35] = \"Number\";\n    CharCodes[CharCodes[\"Amp\"] = 38] = \"Amp\";\n    CharCodes[CharCodes[\"SingleQuote\"] = 39] = \"SingleQuote\";\n    CharCodes[CharCodes[\"DoubleQuote\"] = 34] = \"DoubleQuote\";\n    CharCodes[CharCodes[\"Dash\"] = 45] = \"Dash\";\n    CharCodes[CharCodes[\"Slash\"] = 47] = \"Slash\";\n    CharCodes[CharCodes[\"Zero\"] = 48] = \"Zero\";\n    CharCodes[CharCodes[\"Nine\"] = 57] = \"Nine\";\n    CharCodes[CharCodes[\"Semi\"] = 59] = \"Semi\";\n    CharCodes[CharCodes[\"Lt\"] = 60] = \"Lt\";\n    CharCodes[CharCodes[\"Eq\"] = 61] = \"Eq\";\n    CharCodes[CharCodes[\"Gt\"] = 62] = \"Gt\";\n    CharCodes[CharCodes[\"Questionmark\"] = 63] = \"Questionmark\";\n    CharCodes[CharCodes[\"UpperA\"] = 65] = \"UpperA\";\n    CharCodes[CharCodes[\"LowerA\"] = 97] = \"LowerA\";\n    CharCodes[CharCodes[\"UpperF\"] = 70] = \"UpperF\";\n    CharCodes[CharCodes[\"LowerF\"] = 102] = \"LowerF\";\n    CharCodes[CharCodes[\"UpperZ\"] = 90] = \"UpperZ\";\n    CharCodes[CharCodes[\"LowerZ\"] = 122] = \"LowerZ\";\n    CharCodes[CharCodes[\"LowerX\"] = 120] = \"LowerX\";\n    CharCodes[CharCodes[\"OpeningSquareBracket\"] = 91] = \"OpeningSquareBracket\";\n})(CharCodes || (CharCodes = {}));\n/** All the states the tokenizer can be in. */\nvar State;\n(function (State) {\n    State[State[\"Text\"] = 1] = \"Text\";\n    State[State[\"BeforeTagName\"] = 2] = \"BeforeTagName\";\n    State[State[\"InTagName\"] = 3] = \"InTagName\";\n    State[State[\"InSelfClosingTag\"] = 4] = \"InSelfClosingTag\";\n    State[State[\"BeforeClosingTagName\"] = 5] = \"BeforeClosingTagName\";\n    State[State[\"InClosingTagName\"] = 6] = \"InClosingTagName\";\n    State[State[\"AfterClosingTagName\"] = 7] = \"AfterClosingTagName\";\n    // Attributes\n    State[State[\"BeforeAttributeName\"] = 8] = \"BeforeAttributeName\";\n    State[State[\"InAttributeName\"] = 9] = \"InAttributeName\";\n    State[State[\"AfterAttributeName\"] = 10] = \"AfterAttributeName\";\n    State[State[\"BeforeAttributeValue\"] = 11] = \"BeforeAttributeValue\";\n    State[State[\"InAttributeValueDq\"] = 12] = \"InAttributeValueDq\";\n    State[State[\"InAttributeValueSq\"] = 13] = \"InAttributeValueSq\";\n    State[State[\"InAttributeValueNq\"] = 14] = \"InAttributeValueNq\";\n    // Declarations\n    State[State[\"BeforeDeclaration\"] = 15] = \"BeforeDeclaration\";\n    State[State[\"InDeclaration\"] = 16] = \"InDeclaration\";\n    // Processing instructions\n    State[State[\"InProcessingInstruction\"] = 17] = \"InProcessingInstruction\";\n    // Comments & CDATA\n    State[State[\"BeforeComment\"] = 18] = \"BeforeComment\";\n    State[State[\"CDATASequence\"] = 19] = \"CDATASequence\";\n    State[State[\"InSpecialComment\"] = 20] = \"InSpecialComment\";\n    State[State[\"InCommentLike\"] = 21] = \"InCommentLike\";\n    // Special tags\n    State[State[\"BeforeSpecialS\"] = 22] = \"BeforeSpecialS\";\n    State[State[\"BeforeSpecialT\"] = 23] = \"BeforeSpecialT\";\n    State[State[\"SpecialStartSequence\"] = 24] = \"SpecialStartSequence\";\n    State[State[\"InSpecialTag\"] = 25] = \"InSpecialTag\";\n    State[State[\"InEntity\"] = 26] = \"InEntity\";\n})(State || (State = {}));\nfunction isWhitespace(c) {\n    return (c === CharCodes.Space ||\n        c === CharCodes.NewLine ||\n        c === CharCodes.Tab ||\n        c === CharCodes.FormFeed ||\n        c === CharCodes.CarriageReturn);\n}\nfunction isEndOfTagSection(c) {\n    return c === CharCodes.Slash || c === CharCodes.Gt || isWhitespace(c);\n}\nfunction isASCIIAlpha(c) {\n    return ((c >= CharCodes.LowerA && c <= CharCodes.LowerZ) ||\n        (c >= CharCodes.UpperA && c <= CharCodes.UpperZ));\n}\nexport var QuoteType;\n(function (QuoteType) {\n    QuoteType[QuoteType[\"NoValue\"] = 0] = \"NoValue\";\n    QuoteType[QuoteType[\"Unquoted\"] = 1] = \"Unquoted\";\n    QuoteType[QuoteType[\"Single\"] = 2] = \"Single\";\n    QuoteType[QuoteType[\"Double\"] = 3] = \"Double\";\n})(QuoteType || (QuoteType = {}));\n/**\n * Sequences used to match longer strings.\n *\n * We don't have `Script`, `Style`, or `Title` here. Instead, we re-use the *End\n * sequences with an increased offset.\n */\nconst Sequences = {\n    Cdata: new Uint8Array([0x43, 0x44, 0x41, 0x54, 0x41, 0x5b]), // CDATA[\n    CdataEnd: new Uint8Array([0x5d, 0x5d, 0x3e]), // ]]>\n    CommentEnd: new Uint8Array([0x2d, 0x2d, 0x3e]), // `-->`\n    ScriptEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74]), // `</script`\n    StyleEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x74, 0x79, 0x6c, 0x65]), // `</style`\n    TitleEnd: new Uint8Array([0x3c, 0x2f, 0x74, 0x69, 0x74, 0x6c, 0x65]), // `</title`\n    TextareaEnd: new Uint8Array([\n        0x3c, 0x2f, 0x74, 0x65, 0x78, 0x74, 0x61, 0x72, 0x65, 0x61,\n    ]), // `</textarea`\n    XmpEnd: new Uint8Array([0x3c, 0x2f, 0x78, 0x6d, 0x70]), // `</xmp`\n};\nexport default class Tokenizer {\n    constructor({ xmlMode = false, decodeEntities = true, }, cbs) {\n        this.cbs = cbs;\n        /** The current state the tokenizer is in. */\n        this.state = State.Text;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this.index = 0;\n        /** The start of the last entity. */\n        this.entityStart = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = State.Text;\n        /** For special parsing behavior inside of script and style tags. */\n        this.isSpecial = false;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** The offset of the current buffer. */\n        this.offset = 0;\n        this.currentSequence = undefined;\n        this.sequenceIndex = 0;\n        this.xmlMode = xmlMode;\n        this.decodeEntities = decodeEntities;\n        this.entityDecoder = new EntityDecoder(xmlMode ? xmlDecodeTree : htmlDecodeTree, (cp, consumed) => this.emitCodePoint(cp, consumed));\n    }\n    reset() {\n        this.state = State.Text;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this.index = 0;\n        this.baseState = State.Text;\n        this.currentSequence = undefined;\n        this.running = true;\n        this.offset = 0;\n    }\n    write(chunk) {\n        this.offset += this.buffer.length;\n        this.buffer = chunk;\n        this.parse();\n    }\n    end() {\n        if (this.running)\n            this.finish();\n    }\n    pause() {\n        this.running = false;\n    }\n    resume() {\n        this.running = true;\n        if (this.index < this.buffer.length + this.offset) {\n            this.parse();\n        }\n    }\n    stateText(c) {\n        if (c === CharCodes.Lt ||\n            (!this.decodeEntities && this.fastForwardTo(CharCodes.Lt))) {\n            if (this.index > this.sectionStart) {\n                this.cbs.ontext(this.sectionStart, this.index);\n            }\n            this.state = State.BeforeTagName;\n            this.sectionStart = this.index;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateSpecialStartSequence(c) {\n        const isEnd = this.sequenceIndex === this.currentSequence.length;\n        const isMatch = isEnd\n            ? // If we are at the end of the sequence, make sure the tag name has ended\n                isEndOfTagSection(c)\n            : // Otherwise, do a case-insensitive comparison\n                (c | 0x20) === this.currentSequence[this.sequenceIndex];\n        if (!isMatch) {\n            this.isSpecial = false;\n        }\n        else if (!isEnd) {\n            this.sequenceIndex++;\n            return;\n        }\n        this.sequenceIndex = 0;\n        this.state = State.InTagName;\n        this.stateInTagName(c);\n    }\n    /** Look for an end tag. For <title> tags, also decode entities. */\n    stateInSpecialTag(c) {\n        if (this.sequenceIndex === this.currentSequence.length) {\n            if (c === CharCodes.Gt || isWhitespace(c)) {\n                const endOfText = this.index - this.currentSequence.length;\n                if (this.sectionStart < endOfText) {\n                    // Spoof the index so that reported locations match up.\n                    const actualIndex = this.index;\n                    this.index = endOfText;\n                    this.cbs.ontext(this.sectionStart, endOfText);\n                    this.index = actualIndex;\n                }\n                this.isSpecial = false;\n                this.sectionStart = endOfText + 2; // Skip over the `</`\n                this.stateInClosingTagName(c);\n                return; // We are done; skip the rest of the function.\n            }\n            this.sequenceIndex = 0;\n        }\n        if ((c | 0x20) === this.currentSequence[this.sequenceIndex]) {\n            this.sequenceIndex += 1;\n        }\n        else if (this.sequenceIndex === 0) {\n            if (this.currentSequence === Sequences.TitleEnd) {\n                // We have to parse entities in <title> tags.\n                if (this.decodeEntities && c === CharCodes.Amp) {\n                    this.startEntity();\n                }\n            }\n            else if (this.fastForwardTo(CharCodes.Lt)) {\n                // Outside of <title> tags, we can fast-forward.\n                this.sequenceIndex = 1;\n            }\n        }\n        else {\n            // If we see a `<`, set the sequence index to 1; useful for eg. `<</script>`.\n            this.sequenceIndex = Number(c === CharCodes.Lt);\n        }\n    }\n    stateCDATASequence(c) {\n        if (c === Sequences.Cdata[this.sequenceIndex]) {\n            if (++this.sequenceIndex === Sequences.Cdata.length) {\n                this.state = State.InCommentLike;\n                this.currentSequence = Sequences.CdataEnd;\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n            }\n        }\n        else {\n            this.sequenceIndex = 0;\n            this.state = State.InDeclaration;\n            this.stateInDeclaration(c); // Reconsume the character\n        }\n    }\n    /**\n     * When we wait for one specific character, we can speed things up\n     * by skipping through the buffer until we find it.\n     *\n     * @returns Whether the character was found.\n     */\n    fastForwardTo(c) {\n        while (++this.index < this.buffer.length + this.offset) {\n            if (this.buffer.charCodeAt(this.index - this.offset) === c) {\n                return true;\n            }\n        }\n        /*\n         * We increment the index at the end of the `parse` loop,\n         * so set it to `buffer.length - 1` here.\n         *\n         * TODO: Refactor `parse` to increment index before calling states.\n         */\n        this.index = this.buffer.length + this.offset - 1;\n        return false;\n    }\n    /**\n     * Comments and CDATA end with `-->` and `]]>`.\n     *\n     * Their common qualities are:\n     * - Their end sequences have a distinct character they start with.\n     * - That character is then repeated, so we have to check multiple repeats.\n     * - All characters but the start character of the sequence can be skipped.\n     */\n    stateInCommentLike(c) {\n        if (c === this.currentSequence[this.sequenceIndex]) {\n            if (++this.sequenceIndex === this.currentSequence.length) {\n                if (this.currentSequence === Sequences.CdataEnd) {\n                    this.cbs.oncdata(this.sectionStart, this.index, 2);\n                }\n                else {\n                    this.cbs.oncomment(this.sectionStart, this.index, 2);\n                }\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n                this.state = State.Text;\n            }\n        }\n        else if (this.sequenceIndex === 0) {\n            // Fast-forward to the first character of the sequence\n            if (this.fastForwardTo(this.currentSequence[0])) {\n                this.sequenceIndex = 1;\n            }\n        }\n        else if (c !== this.currentSequence[this.sequenceIndex - 1]) {\n            // Allow long sequences, eg. --->, ]]]>\n            this.sequenceIndex = 0;\n        }\n    }\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    isTagStartChar(c) {\n        return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);\n    }\n    startSpecial(sequence, offset) {\n        this.isSpecial = true;\n        this.currentSequence = sequence;\n        this.sequenceIndex = offset;\n        this.state = State.SpecialStartSequence;\n    }\n    stateBeforeTagName(c) {\n        if (c === CharCodes.ExclamationMark) {\n            this.state = State.BeforeDeclaration;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Questionmark) {\n            this.state = State.InProcessingInstruction;\n            this.sectionStart = this.index + 1;\n        }\n        else if (this.isTagStartChar(c)) {\n            const lower = c | 0x20;\n            this.sectionStart = this.index;\n            if (this.xmlMode) {\n                this.state = State.InTagName;\n            }\n            else if (lower === Sequences.ScriptEnd[2]) {\n                this.state = State.BeforeSpecialS;\n            }\n            else if (lower === Sequences.TitleEnd[2] ||\n                lower === Sequences.XmpEnd[2]) {\n                this.state = State.BeforeSpecialT;\n            }\n            else {\n                this.state = State.InTagName;\n            }\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.BeforeClosingTagName;\n        }\n        else {\n            this.state = State.Text;\n            this.stateText(c);\n        }\n    }\n    stateInTagName(c) {\n        if (isEndOfTagSection(c)) {\n            this.cbs.onopentagname(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateBeforeClosingTagName(c) {\n        if (isWhitespace(c)) {\n            // Ignore\n        }\n        else if (c === CharCodes.Gt) {\n            this.state = State.Text;\n        }\n        else {\n            this.state = this.isTagStartChar(c)\n                ? State.InClosingTagName\n                : State.InSpecialComment;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInClosingTagName(c) {\n        if (c === CharCodes.Gt || isWhitespace(c)) {\n            this.cbs.onclosetag(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.AfterClosingTagName;\n            this.stateAfterClosingTagName(c);\n        }\n    }\n    stateAfterClosingTagName(c) {\n        // Skip everything until \">\"\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeAttributeName(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onopentagend(this.index);\n            if (this.isSpecial) {\n                this.state = State.InSpecialTag;\n                this.sequenceIndex = 0;\n            }\n            else {\n                this.state = State.Text;\n            }\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.InSelfClosingTag;\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInSelfClosingTag(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onselfclosingtag(this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n            this.isSpecial = false; // Reset special state, in case of self-closing special tags\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateInAttributeName(c) {\n        if (c === CharCodes.Eq || isEndOfTagSection(c)) {\n            this.cbs.onattribname(this.sectionStart, this.index);\n            this.sectionStart = this.index;\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n    }\n    stateAfterAttributeName(c) {\n        if (c === CharCodes.Eq) {\n            this.state = State.BeforeAttributeValue;\n        }\n        else if (c === CharCodes.Slash || c === CharCodes.Gt) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (!isWhitespace(c)) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateBeforeAttributeValue(c) {\n        if (c === CharCodes.DoubleQuote) {\n            this.state = State.InAttributeValueDq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.SingleQuote) {\n            this.state = State.InAttributeValueSq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (!isWhitespace(c)) {\n            this.sectionStart = this.index;\n            this.state = State.InAttributeValueNq;\n            this.stateInAttributeValueNoQuotes(c); // Reconsume token\n        }\n    }\n    handleInAttributeValue(c, quote) {\n        if (c === quote ||\n            (!this.decodeEntities && this.fastForwardTo(quote))) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(quote === CharCodes.DoubleQuote\n                ? QuoteType.Double\n                : QuoteType.Single, this.index + 1);\n            this.state = State.BeforeAttributeName;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateInAttributeValueDoubleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.DoubleQuote);\n    }\n    stateInAttributeValueSingleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.SingleQuote);\n    }\n    stateInAttributeValueNoQuotes(c) {\n        if (isWhitespace(c) || c === CharCodes.Gt) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(QuoteType.Unquoted, this.index);\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateBeforeDeclaration(c) {\n        if (c === CharCodes.OpeningSquareBracket) {\n            this.state = State.CDATASequence;\n            this.sequenceIndex = 0;\n        }\n        else {\n            this.state =\n                c === CharCodes.Dash\n                    ? State.BeforeComment\n                    : State.InDeclaration;\n        }\n    }\n    stateInDeclaration(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.ondeclaration(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateInProcessingInstruction(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.onprocessinginstruction(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeComment(c) {\n        if (c === CharCodes.Dash) {\n            this.state = State.InCommentLike;\n            this.currentSequence = Sequences.CommentEnd;\n            // Allow short comments (eg. <!-->)\n            this.sequenceIndex = 2;\n            this.sectionStart = this.index + 1;\n        }\n        else {\n            this.state = State.InDeclaration;\n        }\n    }\n    stateInSpecialComment(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.oncomment(this.sectionStart, this.index, 0);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeSpecialS(c) {\n        const lower = c | 0x20;\n        if (lower === Sequences.ScriptEnd[3]) {\n            this.startSpecial(Sequences.ScriptEnd, 4);\n        }\n        else if (lower === Sequences.StyleEnd[3]) {\n            this.startSpecial(Sequences.StyleEnd, 4);\n        }\n        else {\n            this.state = State.InTagName;\n            this.stateInTagName(c); // Consume the token again\n        }\n    }\n    stateBeforeSpecialT(c) {\n        const lower = c | 0x20;\n        switch (lower) {\n            case Sequences.TitleEnd[3]: {\n                this.startSpecial(Sequences.TitleEnd, 4);\n                break;\n            }\n            case Sequences.TextareaEnd[3]: {\n                this.startSpecial(Sequences.TextareaEnd, 4);\n                break;\n            }\n            case Sequences.XmpEnd[3]: {\n                this.startSpecial(Sequences.XmpEnd, 4);\n                break;\n            }\n            default: {\n                this.state = State.InTagName;\n                this.stateInTagName(c); // Consume the token again\n            }\n        }\n    }\n    startEntity() {\n        this.baseState = this.state;\n        this.state = State.InEntity;\n        this.entityStart = this.index;\n        this.entityDecoder.startEntity(this.xmlMode\n            ? DecodingMode.Strict\n            : this.baseState === State.Text ||\n                this.baseState === State.InSpecialTag\n                ? DecodingMode.Legacy\n                : DecodingMode.Attribute);\n    }\n    stateInEntity() {\n        const length = this.entityDecoder.write(this.buffer, this.index - this.offset);\n        // If `length` is positive, we are done with the entity.\n        if (length >= 0) {\n            this.state = this.baseState;\n            if (length === 0) {\n                this.index = this.entityStart;\n            }\n        }\n        else {\n            // Mark buffer as consumed.\n            this.index = this.offset + this.buffer.length - 1;\n        }\n    }\n    /**\n     * Remove data that has already been consumed from the buffer.\n     */\n    cleanup() {\n        // If we are inside of text or attributes, emit what we already have.\n        if (this.running && this.sectionStart !== this.index) {\n            if (this.state === State.Text ||\n                (this.state === State.InSpecialTag && this.sequenceIndex === 0)) {\n                this.cbs.ontext(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n            else if (this.state === State.InAttributeValueDq ||\n                this.state === State.InAttributeValueSq ||\n                this.state === State.InAttributeValueNq) {\n                this.cbs.onattribdata(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n        }\n    }\n    shouldContinue() {\n        return this.index < this.buffer.length + this.offset && this.running;\n    }\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    parse() {\n        while (this.shouldContinue()) {\n            const c = this.buffer.charCodeAt(this.index - this.offset);\n            switch (this.state) {\n                case State.Text: {\n                    this.stateText(c);\n                    break;\n                }\n                case State.SpecialStartSequence: {\n                    this.stateSpecialStartSequence(c);\n                    break;\n                }\n                case State.InSpecialTag: {\n                    this.stateInSpecialTag(c);\n                    break;\n                }\n                case State.CDATASequence: {\n                    this.stateCDATASequence(c);\n                    break;\n                }\n                case State.InAttributeValueDq: {\n                    this.stateInAttributeValueDoubleQuotes(c);\n                    break;\n                }\n                case State.InAttributeName: {\n                    this.stateInAttributeName(c);\n                    break;\n                }\n                case State.InCommentLike: {\n                    this.stateInCommentLike(c);\n                    break;\n                }\n                case State.InSpecialComment: {\n                    this.stateInSpecialComment(c);\n                    break;\n                }\n                case State.BeforeAttributeName: {\n                    this.stateBeforeAttributeName(c);\n                    break;\n                }\n                case State.InTagName: {\n                    this.stateInTagName(c);\n                    break;\n                }\n                case State.InClosingTagName: {\n                    this.stateInClosingTagName(c);\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.InAttributeValueSq: {\n                    this.stateInAttributeValueSingleQuotes(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.BeforeClosingTagName: {\n                    this.stateBeforeClosingTagName(c);\n                    break;\n                }\n                case State.AfterClosingTagName: {\n                    this.stateAfterClosingTagName(c);\n                    break;\n                }\n                case State.BeforeSpecialS: {\n                    this.stateBeforeSpecialS(c);\n                    break;\n                }\n                case State.BeforeSpecialT: {\n                    this.stateBeforeSpecialT(c);\n                    break;\n                }\n                case State.InAttributeValueNq: {\n                    this.stateInAttributeValueNoQuotes(c);\n                    break;\n                }\n                case State.InSelfClosingTag: {\n                    this.stateInSelfClosingTag(c);\n                    break;\n                }\n                case State.InDeclaration: {\n                    this.stateInDeclaration(c);\n                    break;\n                }\n                case State.BeforeDeclaration: {\n                    this.stateBeforeDeclaration(c);\n                    break;\n                }\n                case State.BeforeComment: {\n                    this.stateBeforeComment(c);\n                    break;\n                }\n                case State.InProcessingInstruction: {\n                    this.stateInProcessingInstruction(c);\n                    break;\n                }\n                case State.InEntity: {\n                    this.stateInEntity();\n                    break;\n                }\n            }\n            this.index++;\n        }\n        this.cleanup();\n    }\n    finish() {\n        if (this.state === State.InEntity) {\n            this.entityDecoder.end();\n            this.state = this.baseState;\n        }\n        this.handleTrailingData();\n        this.cbs.onend();\n    }\n    /** Handle any trailing data. */\n    handleTrailingData() {\n        const endIndex = this.buffer.length + this.offset;\n        // If there is no remaining data, we are done.\n        if (this.sectionStart >= endIndex) {\n            return;\n        }\n        if (this.state === State.InCommentLike) {\n            if (this.currentSequence === Sequences.CdataEnd) {\n                this.cbs.oncdata(this.sectionStart, endIndex, 0);\n            }\n            else {\n                this.cbs.oncomment(this.sectionStart, endIndex, 0);\n            }\n        }\n        else if (this.state === State.InTagName ||\n            this.state === State.BeforeAttributeName ||\n            this.state === State.BeforeAttributeValue ||\n            this.state === State.AfterAttributeName ||\n            this.state === State.InAttributeName ||\n            this.state === State.InAttributeValueSq ||\n            this.state === State.InAttributeValueDq ||\n            this.state === State.InAttributeValueNq ||\n            this.state === State.InClosingTagName) {\n            /*\n             * If we are currently in an opening or closing tag, us not calling the\n             * respective callback signals that the tag should be ignored.\n             */\n        }\n        else {\n            this.cbs.ontext(this.sectionStart, endIndex);\n        }\n    }\n    emitCodePoint(cp, consumed) {\n        if (this.baseState !== State.Text &&\n            this.baseState !== State.InSpecialTag) {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.onattribdata(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n            this.cbs.onattribentity(cp);\n        }\n        else {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.ontext(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n            this.cbs.ontextentity(cp, this.sectionStart);\n        }\n    }\n}\n//# sourceMappingURL=Tokenizer.js.map","import Tokenizer, { QuoteType } from \"./Tokenizer.js\";\nimport { fromCodePoint } from \"entities/decode\";\nconst formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nconst pTag = new Set([\"p\"]);\nconst tableSectionTags = new Set([\"thead\", \"tbody\"]);\nconst ddtTags = new Set([\"dd\", \"dt\"]);\nconst rtpTags = new Set([\"rt\", \"rp\"]);\nconst openImpliesClose = new Map([\n    [\"tr\", new Set([\"tr\", \"th\", \"td\"])],\n    [\"th\", new Set([\"th\"])],\n    [\"td\", new Set([\"thead\", \"th\", \"td\"])],\n    [\"body\", new Set([\"head\", \"link\", \"script\"])],\n    [\"li\", new Set([\"li\"])],\n    [\"p\", pTag],\n    [\"h1\", pTag],\n    [\"h2\", pTag],\n    [\"h3\", pTag],\n    [\"h4\", pTag],\n    [\"h5\", pTag],\n    [\"h6\", pTag],\n    [\"select\", formTags],\n    [\"input\", formTags],\n    [\"output\", formTags],\n    [\"button\", formTags],\n    [\"datalist\", formTags],\n    [\"textarea\", formTags],\n    [\"option\", new Set([\"option\"])],\n    [\"optgroup\", new Set([\"optgroup\", \"option\"])],\n    [\"dd\", ddtTags],\n    [\"dt\", ddtTags],\n    [\"address\", pTag],\n    [\"article\", pTag],\n    [\"aside\", pTag],\n    [\"blockquote\", pTag],\n    [\"details\", pTag],\n    [\"div\", pTag],\n    [\"dl\", pTag],\n    [\"fieldset\", pTag],\n    [\"figcaption\", pTag],\n    [\"figure\", pTag],\n    [\"footer\", pTag],\n    [\"form\", pTag],\n    [\"header\", pTag],\n    [\"hr\", pTag],\n    [\"main\", pTag],\n    [\"nav\", pTag],\n    [\"ol\", pTag],\n    [\"pre\", pTag],\n    [\"section\", pTag],\n    [\"table\", pTag],\n    [\"ul\", pTag],\n    [\"rt\", rtpTags],\n    [\"rp\", rtpTags],\n    [\"tbody\", tableSectionTags],\n    [\"tfoot\", tableSectionTags],\n]);\nconst voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nconst foreignContextElements = new Set([\"math\", \"svg\"]);\nconst htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignobject\",\n    \"desc\",\n    \"title\",\n]);\nconst reNameEnd = /\\s|\\//;\nexport class Parser {\n    constructor(cbs, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        this.options = options;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = 0;\n        /**\n         * Store the start index of the current open tag,\n         * so we can update the start index for attributes.\n         */\n        this.openTagStart = 0;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.buffers = [];\n        this.bufferOffset = 0;\n        /** The index of the last written buffer. Used when resuming after a `pause()`. */\n        this.writeIndex = 0;\n        /** Indicates whether the parser has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.htmlMode = !this.options.xmlMode;\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : this.htmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : this.htmlMode;\n        this.recognizeSelfClosing =\n            (_c = options.recognizeSelfClosing) !== null && _c !== void 0 ? _c : !this.htmlMode;\n        this.tokenizer = new ((_d = options.Tokenizer) !== null && _d !== void 0 ? _d : Tokenizer)(this.options, this);\n        this.foreignContext = [!this.htmlMode];\n        (_f = (_e = this.cbs).onparserinit) === null || _f === void 0 ? void 0 : _f.call(_e, this);\n    }\n    // Tokenizer event handlers\n    /** @internal */\n    ontext(start, endIndex) {\n        var _a, _b;\n        const data = this.getSlice(start, endIndex);\n        this.endIndex = endIndex - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n        this.startIndex = endIndex;\n    }\n    /** @internal */\n    ontextentity(cp, endIndex) {\n        var _a, _b;\n        this.endIndex = endIndex - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, fromCodePoint(cp));\n        this.startIndex = endIndex;\n    }\n    /**\n     * Checks if the current tag is a void element. Override this if you want\n     * to specify your own additional void elements.\n     */\n    isVoidElement(name) {\n        return this.htmlMode && voidElements.has(name);\n    }\n    /** @internal */\n    onopentagname(start, endIndex) {\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.emitOpenTag(name);\n    }\n    emitOpenTag(name) {\n        var _a, _b, _c, _d;\n        this.openTagStart = this.startIndex;\n        this.tagname = name;\n        const impliesClose = this.htmlMode && openImpliesClose.get(name);\n        if (impliesClose) {\n            while (this.stack.length > 0 && impliesClose.has(this.stack[0])) {\n                const element = this.stack.shift();\n                (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, element, true);\n            }\n        }\n        if (!this.isVoidElement(name)) {\n            this.stack.unshift(name);\n            if (this.htmlMode) {\n                if (foreignContextElements.has(name)) {\n                    this.foreignContext.unshift(true);\n                }\n                else if (htmlIntegrationElements.has(name)) {\n                    this.foreignContext.unshift(false);\n                }\n            }\n        }\n        (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    }\n    endOpenTag(isImplied) {\n        var _a, _b;\n        this.startIndex = this.openTagStart;\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs, isImplied);\n            this.attribs = null;\n        }\n        if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {\n            this.cbs.onclosetag(this.tagname, true);\n        }\n        this.tagname = \"\";\n    }\n    /** @internal */\n    onopentagend(endIndex) {\n        this.endIndex = endIndex;\n        this.endOpenTag(false);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onclosetag(start, endIndex) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (this.htmlMode &&\n            (foreignContextElements.has(name) ||\n                htmlIntegrationElements.has(name))) {\n            this.foreignContext.shift();\n        }\n        if (!this.isVoidElement(name)) {\n            const pos = this.stack.indexOf(name);\n            if (pos !== -1) {\n                for (let index = 0; index <= pos; index++) {\n                    const element = this.stack.shift();\n                    // We know the stack has sufficient elements.\n                    (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, element, index !== pos);\n                }\n            }\n            else if (this.htmlMode && name === \"p\") {\n                // Implicit open before close\n                this.emitOpenTag(\"p\");\n                this.closeCurrentTag(true);\n            }\n        }\n        else if (this.htmlMode && name === \"br\") {\n            // We can't use `emitOpenTag` for implicit open, as `br` would be implicitly closed.\n            (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, \"br\");\n            (_f = (_e = this.cbs).onopentag) === null || _f === void 0 ? void 0 : _f.call(_e, \"br\", {}, true);\n            (_h = (_g = this.cbs).onclosetag) === null || _h === void 0 ? void 0 : _h.call(_g, \"br\", false);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onselfclosingtag(endIndex) {\n        this.endIndex = endIndex;\n        if (this.recognizeSelfClosing || this.foreignContext[0]) {\n            this.closeCurrentTag(false);\n            // Set `startIndex` for next node\n            this.startIndex = endIndex + 1;\n        }\n        else {\n            // Ignore the fact that the tag is self-closing.\n            this.onopentagend(endIndex);\n        }\n    }\n    closeCurrentTag(isOpenImplied) {\n        var _a, _b;\n        const name = this.tagname;\n        this.endOpenTag(isOpenImplied);\n        // Self-closing tags will be on the top of the stack\n        if (this.stack[0] === name) {\n            // If the opening tag isn't implied, the closing tag has to be implied.\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name, !isOpenImplied);\n            this.stack.shift();\n        }\n    }\n    /** @internal */\n    onattribname(start, endIndex) {\n        this.startIndex = start;\n        const name = this.getSlice(start, endIndex);\n        this.attribname = this.lowerCaseAttributeNames\n            ? name.toLowerCase()\n            : name;\n    }\n    /** @internal */\n    onattribdata(start, endIndex) {\n        this.attribvalue += this.getSlice(start, endIndex);\n    }\n    /** @internal */\n    onattribentity(cp) {\n        this.attribvalue += fromCodePoint(cp);\n    }\n    /** @internal */\n    onattribend(quote, endIndex) {\n        var _a, _b;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote === QuoteType.Double\n            ? '\"'\n            : quote === QuoteType.Single\n                ? \"'\"\n                : quote === QuoteType.NoValue\n                    ? undefined\n                    : null);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribvalue = \"\";\n    }\n    getInstructionName(value) {\n        const index = value.search(reNameEnd);\n        let name = index < 0 ? value : value.substr(0, index);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    }\n    /** @internal */\n    ondeclaration(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`!${name}`, `!${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onprocessinginstruction(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`?${name}`, `?${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncomment(start, endIndex, offset) {\n        var _a, _b, _c, _d;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, this.getSlice(start, endIndex - offset));\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncdata(start, endIndex, offset) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex - offset);\n        if (!this.htmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            (_h = (_g = this.cbs).oncomment) === null || _h === void 0 ? void 0 : _h.call(_g, `[CDATA[${value}]]`);\n            (_k = (_j = this.cbs).oncommentend) === null || _k === void 0 ? void 0 : _k.call(_j);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onend() {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            // Set the end index for all remaining tags\n            this.endIndex = this.startIndex;\n            for (let index = 0; index < this.stack.length; index++) {\n                this.cbs.onclosetag(this.stack[index], true);\n            }\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    reset() {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack.length = 0;\n        this.startIndex = 0;\n        this.endIndex = 0;\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n        this.buffers.length = 0;\n        this.foreignContext.length = 0;\n        this.foreignContext.unshift(!this.htmlMode);\n        this.bufferOffset = 0;\n        this.writeIndex = 0;\n        this.ended = false;\n    }\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    parseComplete(data) {\n        this.reset();\n        this.end(data);\n    }\n    getSlice(start, end) {\n        while (start - this.bufferOffset >= this.buffers[0].length) {\n            this.shiftBuffer();\n        }\n        let slice = this.buffers[0].slice(start - this.bufferOffset, end - this.bufferOffset);\n        while (end - this.bufferOffset > this.buffers[0].length) {\n            this.shiftBuffer();\n            slice += this.buffers[0].slice(0, end - this.bufferOffset);\n        }\n        return slice;\n    }\n    shiftBuffer() {\n        this.bufferOffset += this.buffers[0].length;\n        this.writeIndex--;\n        this.buffers.shift();\n    }\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    write(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".write() after done!\"));\n            return;\n        }\n        this.buffers.push(chunk);\n        if (this.tokenizer.running) {\n            this.tokenizer.write(chunk);\n            this.writeIndex++;\n        }\n    }\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    end(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".end() after done!\"));\n            return;\n        }\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        this.tokenizer.end();\n    }\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    pause() {\n        this.tokenizer.pause();\n    }\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    resume() {\n        this.tokenizer.resume();\n        while (this.tokenizer.running &&\n            this.writeIndex < this.buffers.length) {\n            this.tokenizer.write(this.buffers[this.writeIndex++]);\n        }\n        if (this.ended)\n            this.tokenizer.end();\n    }\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    parseChunk(chunk) {\n        this.write(chunk);\n    }\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    done(chunk) {\n        this.end(chunk);\n    }\n}\n//# sourceMappingURL=Parser.js.map","import { Parser } from \"./Parser.js\";\nexport { Parser } from \"./Parser.js\";\nimport { DomHandler, } from \"domhandler\";\nexport { DomHandler, \n// Old name for DomHandler\nDomHandler as DefaultHandler, } from \"domhandler\";\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n */\nexport function parseDocument(data, options) {\n    const handler = new DomHandler(undefined, options);\n    new Parser(handler, options).end(data);\n    return handler.root;\n}\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n * @deprecated Use `parseDocument` instead.\n */\nexport function parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with the resulting document.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nexport function createDocumentStream(callback, options, elementCallback) {\n    const handler = new DomHandler((error) => callback(error, handler.root), options, elementCallback);\n    return new Parser(handler, options);\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with an array of root nodes.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n * @deprecated Use `createDocumentStream` instead.\n */\nexport function createDomStream(callback, options, elementCallback) {\n    const handler = new DomHandler(callback, options, elementCallback);\n    return new Parser(handler, options);\n}\nexport { default as Tokenizer, QuoteType, } from \"./Tokenizer.js\";\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\nexport * as ElementType from \"domelementtype\";\nimport { getFeed } from \"domutils\";\nexport { getFeed } from \"domutils\";\nconst parseFeedDefaultOptions = { xmlMode: true };\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this, you should set `xmlMode` to `true`.\n */\nexport function parseFeed(feed, options = parseFeedDefaultOptions) {\n    return getFeed(parseDOM(feed, options));\n}\nexport * as DomUtils from \"domutils\";\n//# sourceMappingURL=index.js.map","import { isTag, isText } from \"domhandler\";\nimport { parseDocument } from \"htmlparser2\";\nfunction htmlToContentObject(html) {\n  const doc = parseDocument(html);\n  const content = [];\n  doc.children.forEach((child) => {\n    const processed = processBlockNode(child);\n    if (processed) {\n      if (Array.isArray(processed)) {\n        content.push(...processed);\n      } else {\n        content.push(processed);\n      }\n    }\n  });\n  return {\n    version: 1,\n    content: content.filter((c) => !!c)\n  };\n}\nfunction processBlockNode(node) {\n  if (!isTag(node)) return null;\n  switch (node.name) {\n    case \"p\":\n    case \"div\":\n      return {\n        name: \"Paragraph\",\n        version: 1,\n        data: processInlineChildren(node)\n      };\n    case \"h1\":\n    case \"h2\":\n    case \"h3\":\n    case \"h4\":\n    case \"h5\":\n    case \"h6\":\n      return {\n        name: \"Subheading\",\n        version: 1,\n        data: {\n          subheading: getInnerText(node),\n          level: parseInt(node.name.substring(1))\n        }\n      };\n    case \"ul\":\n    case \"ol\":\n      return {\n        name: \"List\",\n        version: 1,\n        data: {\n          style: node.name === \"ol\" ? \"ordered\" : \"unordered\",\n          items: node.children.filter(isTag).map((li) => ({\n            name: \"ListItem\",\n            version: 1,\n            data: getInnerText(li)\n          }))\n        }\n      };\n    case \"img\":\n      return {\n        name: \"Image\",\n        version: 1,\n        data: {\n          src: node.attribs.src,\n          alt: node.attribs.alt,\n          mediaId: \"\"\n          // Optional or needs extraction\n        }\n      };\n    case \"figure\":\n      const img = node.children.find((c) => isTag(c) && c.name === \"img\");\n      if (img) {\n        return {\n          name: \"Image\",\n          version: 1,\n          data: {\n            src: img.attribs.src,\n            alt: img.attribs.alt,\n            mediaId: \"\"\n          }\n        };\n      }\n      return null;\n    case \"blockquote\":\n      return {\n        name: \"Quote\",\n        version: 1,\n        data: {\n          text: getInnerText(node),\n          caption: \"\"\n        }\n      };\n    case \"pre\":\n      const codeNode = node.children.find((c) => isTag(c) && c.name === \"code\");\n      const codeText = codeNode ? getInnerText(codeNode, true) : getInnerText(node, true);\n      const language = codeNode?.attribs.class?.replace(\"language-\", \"\") || \"\";\n      return {\n        name: \"Code\",\n        version: 1,\n        data: {\n          code: codeText,\n          language\n        }\n      };\n    case \"table\":\n      const rows = [];\n      let withHeadings = false;\n      const processRows = (container) => {\n        container.children.forEach((child) => {\n          if (isTag(child) && child.name === \"tr\") {\n            const rowData = child.children.filter(isTag).map((cell) => getInnerText(cell));\n            rows.push(rowData);\n            if (child.children.some((c) => isTag(c) && c.name === \"th\")) {\n              withHeadings = true;\n            }\n          }\n        });\n      };\n      const thead = node.children.find((c) => isTag(c) && c.name === \"thead\");\n      const tbody = node.children.find((c) => isTag(c) && c.name === \"tbody\");\n      if (thead) {\n        withHeadings = true;\n        processRows(thead);\n      }\n      if (tbody) {\n        processRows(tbody);\n      }\n      if (!thead && !tbody) {\n        processRows(node);\n      }\n      return {\n        name: \"Table\",\n        version: 1,\n        data: {\n          withHeadings,\n          content: rows\n        }\n      };\n    default:\n      return null;\n  }\n}\nfunction processInlineChildren(node) {\n  return node.children.map((child) => processInlineNode(child)).filter((n) => n !== null);\n}\nfunction processInlineNode(node) {\n  if (isText(node)) {\n    if (!node.data.trim()) return null;\n    return {\n      name: \"Text\",\n      version: 1,\n      data: node.data\n    };\n  }\n  if (isTag(node)) {\n    switch (node.name) {\n      case \"br\":\n        return { name: \"Text\", version: 1, data: \"\\n\" };\n      case \"b\":\n      case \"strong\":\n        return {\n          name: \"Highlight\",\n          version: 1,\n          data: processInlineChildren(node)\n        };\n      case \"i\":\n      case \"em\":\n        return {\n          name: \"Italic\",\n          version: 1,\n          data: processInlineChildren(node)\n        };\n      case \"a\":\n        return {\n          name: \"Link\",\n          version: 1,\n          data: {\n            url: node.attribs.href,\n            content: processInlineChildren(node)\n          }\n        };\n      case \"code\":\n        return {\n          name: \"InlineCode\",\n          version: 1,\n          data: getInnerText(node)\n        };\n      default:\n        processInlineChildren(node);\n        return {\n          name: \"Text\",\n          version: 1,\n          data: getInnerText(node)\n        };\n    }\n  }\n  return null;\n}\nfunction getInnerText(node, preserveWhitespace = false) {\n  if (isText(node)) return node.data;\n  if (isTag(node)) {\n    if (node.name === \"br\") return \"\\n\";\n    return node.children.map((c) => getInnerText(c, preserveWhitespace)).join(\"\");\n  }\n  return \"\";\n}\nfunction contentObjectToHTML(contentObject) {\n  if (!contentObject || !contentObject.content) {\n    return \"\";\n  }\n  return contentObject.content.map((item) => processLayout(item)).join(\"\");\n}\nfunction processLayout(item) {\n  switch (item.name) {\n    case \"Paragraph\":\n      return `<p>${item.data.map(processInline).join(\"\")}</p>`;\n    case \"Subheading\":\n      const level = item.data.level || 2;\n      return `<h${level}>${item.data.subheading}</h${level}>`;\n    case \"List\":\n      const tag = item.data.style === \"ordered\" ? \"ol\" : \"ul\";\n      const items = item.data.items.map((li) => `<li>${li.data}</li>`).join(\"\");\n      return `<${tag}>${items}</${tag}>`;\n    case \"Image\":\n      return `<figure><img src=\"${item.data.src}\" alt=\"${item.data.alt || \"\"}\" /></figure>`;\n    case \"Quote\":\n      const caption = item.data.caption ? `<figcaption>${item.data.caption}</figcaption>` : \"\";\n      return `<blockquote><p>${item.data.text}</p>${caption}</blockquote>`;\n    case \"Code\":\n      const languageClass = item.data.language ? ` class=\"language-${item.data.language}\"` : \"\";\n      return `<pre${languageClass}><code${languageClass}>${item.data.code}</code></pre>`;\n    case \"Table\":\n      const rows = item.data.content.map((row, index) => {\n        const isHead = item.data.withHeadings && index === 0;\n        const cellTag = isHead ? \"th\" : \"td\";\n        const cells = row.map((cell) => `<${cellTag}>${cell}</${cellTag}>`).join(\"\");\n        return `<tr>${cells}</tr>`;\n      }).join(\"\");\n      if (item.data.withHeadings && rows.length > 0) {\n        return `<table><tbody>${rows}</tbody></table>`;\n      }\n      return `<table><tbody>${rows}</tbody></table>`;\n    case \"Internal Embed\":\n      return `<div data-type=\"${item.data.name}\" data-url=\"${item.data.data.url}\"></div>`;\n    default:\n      return \"\";\n  }\n}\nfunction processInline(item) {\n  switch (item.name) {\n    case \"Text\":\n      return item.data.replace(/\\n/g, \"<br>\");\n    case \"Italic\":\n      return `<i>${item.data.map(processInline).join(\"\")}</i>`;\n    case \"Highlight\":\n      return `<b>${item.data.map(processInline).join(\"\")}</b>`;\n    case \"Link\":\n      return `<a href=\"${item.data.url}\">${item.data.content.map(processInline).join(\"\")}</a>`;\n    case \"InlineCode\":\n      return `<code class=\"inline-code\">${item.data.replace(/\\n/g, \"<br>\")}</code>`;\n    default:\n      return \"\";\n  }\n}\nfunction htmlToEditorJS(html) {\n  const doc = parseDocument(html);\n  const blocks = [];\n  function processNode(node) {\n    if (isTag(node)) {\n      switch (node.name) {\n        case \"p\":\n          const text = getInlineContent(node);\n          if (text.trim()) {\n            blocks.push({\n              type: \"paragraph\",\n              data: { text }\n            });\n          }\n          break;\n        case \"div\":\n          if (node.attribs[\"data-type\"] && [\"youtubeEmbed\", \"twitterEmbed\", \"instagramEmbed\", \"spotifyEmbed\", \"redditEmbed\"].includes(node.attribs[\"data-type\"])) {\n            blocks.push({\n              type: node.attribs[\"data-type\"],\n              data: {\n                url: node.attribs[\"data-url\"]\n              }\n            });\n          } else {\n            const divText = getInlineContent(node);\n            if (divText.trim()) {\n              blocks.push({\n                type: \"paragraph\",\n                data: { text: divText }\n              });\n            }\n          }\n          break;\n        case \"h1\":\n        case \"h2\":\n        case \"h3\":\n        case \"h4\":\n        case \"h5\":\n        case \"h6\":\n          blocks.push({\n            type: \"header\",\n            data: {\n              text: getInlineContent(node),\n              level: parseInt(node.name.substring(1))\n            }\n          });\n          break;\n        case \"ul\":\n        case \"ol\":\n          blocks.push({\n            type: \"list\",\n            data: {\n              style: node.name === \"ol\" ? \"ordered\" : \"unordered\",\n              items: node.children.filter(isTag).map((child) => getInlineContent(child))\n            }\n          });\n          break;\n        case \"img\":\n          blocks.push({\n            type: \"image\",\n            data: {\n              src: node.attribs.src,\n              alt: node.attribs.alt,\n              caption: node.attribs.title || \"\"\n            }\n          });\n          break;\n        case \"figure\":\n          const img = node.children.find((c) => isTag(c) && c.name === \"img\");\n          const caption = node.children.find((c) => isTag(c) && c.name === \"figcaption\");\n          if (img) {\n            blocks.push({\n              type: \"image\",\n              data: {\n                src: img.attribs.src,\n                alt: img.attribs.alt,\n                caption: caption ? getInlineContent(caption) : \"\"\n              }\n            });\n          }\n          break;\n        case \"blockquote\":\n          blocks.push({\n            type: \"quote\",\n            data: {\n              text: getInlineContent(node),\n              caption: \"\"\n            }\n          });\n          break;\n        case \"pre\":\n          const codeNode = node.children.find((c) => isTag(c) && c.name === \"code\");\n          if (codeNode) {\n            const language = codeNode.attribs.class?.replace(\"language-\", \"\") || \"\";\n            blocks.push({\n              type: \"code\",\n              data: {\n                code: getInlineContent(codeNode, true),\n                language\n              }\n            });\n          } else {\n            blocks.push({\n              type: \"code\",\n              data: {\n                code: getInlineContent(node, true)\n              }\n            });\n          }\n          break;\n        case \"table\":\n          const rows = [];\n          let withHeadings = false;\n          const processRows = (container) => {\n            container.children.forEach((child) => {\n              if (isTag(child) && child.name === \"tr\") {\n                const rowData = child.children.filter(isTag).map((cell) => getInlineContent(cell));\n                rows.push(rowData);\n                if (child.children.some((c) => isTag(c) && c.name === \"th\")) {\n                  withHeadings = true;\n                }\n              }\n            });\n          };\n          const thead = node.children.find((c) => isTag(c) && c.name === \"thead\");\n          const tbody = node.children.find((c) => isTag(c) && c.name === \"tbody\");\n          if (thead) {\n            withHeadings = true;\n            processRows(thead);\n          }\n          if (tbody) {\n            processRows(tbody);\n          }\n          if (!thead && !tbody) {\n            processRows(node);\n          }\n          blocks.push({\n            type: \"table\",\n            data: {\n              withHeadings,\n              content: rows\n            }\n          });\n          break;\n      }\n    }\n  }\n  doc.children.forEach((node) => {\n    if (isTag(node)) {\n      if (node.name === \"div\" && !node.attribs[\"data-type\"]) {\n        const hasBlockChildren = node.children.some((c) => isTag(c) && [\"p\", \"h1\", \"h2\", \"h3\", \"ul\", \"ol\", \"div\", \"table\", \"blockquote\", \"pre\", \"figure\"].includes(c.name));\n        if (hasBlockChildren) {\n          node.children.forEach(processNode);\n          return;\n        }\n      }\n      processNode(node);\n    }\n  });\n  return {\n    time: Date.now(),\n    blocks,\n    version: \"2.30.0\"\n  };\n}\nfunction getInlineContent(node, preserveWhitespace = false) {\n  if (isText(node)) {\n    return preserveWhitespace ? node.data : node.data;\n  }\n  if (isTag(node)) {\n    if (node.name === \"br\") return \"<br>\";\n    const content = node.children.map((c) => getInlineContent(c, preserveWhitespace)).join(\"\");\n    switch (node.name) {\n      case \"b\":\n      case \"strong\":\n        return `<b>${content}</b>`;\n      case \"i\":\n      case \"em\":\n        return `<i>${content}</i>`;\n      case \"u\":\n        return `<u>${content}</u>`;\n      case \"a\":\n        return `<a href=\"${node.attribs.href}\">${content}</a>`;\n      case \"code\":\n        return `<code class=\"inline-code\">${content}</code>`;\n      case \"mark\":\n        return `<mark class=\"cdx-marker\">${content}</mark>`;\n      default:\n        return content;\n    }\n  }\n  return \"\";\n}\nfunction editorJSToHTML(data) {\n  if (!data || !data.blocks || !Array.isArray(data.blocks)) {\n    return \"\";\n  }\n  return data.blocks.map((block) => {\n    switch (block.type) {\n      case \"paragraph\":\n        return `<p>${block.data.text}</p>`;\n      case \"header\":\n        const level = block.data.level || 2;\n        return `<h${level}>${block.data.text}</h${level}>`;\n      case \"list\":\n        const tag = block.data.style === \"ordered\" ? \"ol\" : \"ul\";\n        const items = (block.data.items || []).map((item) => `<li>${item}</li>`).join(\"\");\n        return `<${tag}>${items}</${tag}>`;\n      case \"image\":\n        const caption = block.data.caption ? `<figcaption>${block.data.caption}</figcaption>` : \"\";\n        return `<figure><img src=\"${block.data.src}\" alt=\"${block.data.alt || \"\"}\" />${caption}</figure>`;\n      case \"quote\":\n        const quoteCaption = block.data.caption ? `<figcaption>${block.data.caption}</figcaption>` : \"\";\n        return `<blockquote><p>${block.data.text}</p>${quoteCaption}</blockquote>`;\n      case \"code\":\n        const languageClass = block.data.language ? ` class=\"language-${block.data.language}\"` : \"\";\n        return `<pre${languageClass}><code${languageClass}>${block.data.code}</code></pre>`;\n      case \"table\":\n        const rows = (block.data.content || []).map((row, index) => {\n          const isHead = block.data.withHeadings && index === 0;\n          const cellTag = isHead ? \"th\" : \"td\";\n          const cells = row.map((cell) => `<${cellTag}>${cell}</${cellTag}>`).join(\"\");\n          return `<tr>${cells}</tr>`;\n        }).join(\"\");\n        if (block.data.withHeadings && rows.length > 0) {\n          const rowArray = block.data.content || [];\n          if (rowArray.length === 0) return \"<table></table>\";\n          const headRow = rowArray[0].map((cell) => `<th>${cell}</th>`).join(\"\");\n          const bodyRows = rowArray.slice(1).map((row) => {\n            const cells = row.map((cell) => `<td>${cell}</td>`).join(\"\");\n            return `<tr>${cells}</tr>`;\n          }).join(\"\");\n          return `<table><thead><tr>${headRow}</tr></thead><tbody>${bodyRows}</tbody></table>`;\n        }\n        return `<table><tbody>${rows}</tbody></table>`;\n      case \"youtubeEmbed\":\n      case \"twitterEmbed\":\n      case \"instagramEmbed\":\n      case \"spotifyEmbed\":\n      case \"redditEmbed\":\n        return `<div data-type=\"${block.type}\" data-url=\"${block.data.url}\"></div>`;\n      default:\n        console.warn(\"Unknown block type:\", block.type);\n        return \"\";\n    }\n  }).join(\"\");\n}\nexport {\n  contentObjectToHTML,\n  editorJSToHTML,\n  htmlToContentObject,\n  htmlToEditorJS\n};\n//# sourceMappingURL=index.mjs.map\n","import {BlockTool, BlockToolConstructorOptions} from \"@editorjs/editorjs/types/tools/block-tool\";\nimport {BlockToolData} from \"@editorjs/editorjs/types/tools/block-tool-data\";\n\ninterface ImageSelectorToolData extends BlockToolData<{}> {\n    mediaId?: string;\n    src?: string;\n    alt?: string;\n}\n\ninterface ImageSelectorToolConfig {\n    placeholder?: string;\n}\n\nclass ImageSelectorTool implements BlockTool {\n    private wrapper: HTMLElement | null = null;\n    private data: ImageSelectorToolData;\n    private config: ImageSelectorToolConfig;\n    private readonly readOnly: boolean;\n\n    constructor({data, readOnly, config}: BlockToolConstructorOptions<ImageSelectorToolData, ImageSelectorToolConfig>) {\n        this.readOnly = readOnly;\n        this.data = data || {};\n        this.config = config || {};\n    }\n\n    static get toolbox() {\n        return {\n            title: 'Image',\n            icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/><polyline points=\"21 15 16 10 5 21\"/></svg>'\n        };\n    }\n\n    static get isReadOnlySupported() {\n        return true;\n    }\n\n    static get sanitize() {\n        return {\n            src: {},\n            alt: {},\n            mediaId: {}\n        };\n    }\n\n    render() {\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('image-selector-wrapper');\n\n        if (this.data.src) {\n            this._createImage(this.data.src, this.data.alt);\n        } else {\n            this._createPlaceholder();\n        }\n\n        return this.wrapper;\n    }\n\n    _createImage(url: string, caption?: string) {\n        if (!this.wrapper) return;\n\n        this.wrapper.innerHTML = '';\n\n        const container = document.createElement('div');\n        container.classList.add('image-container');\n        container.style.marginBottom = '10px';\n\n        const img = document.createElement('img');\n        img.src = url;\n        img.style.maxWidth = '100%';\n        img.style.height = 'auto';\n        img.style.display = 'block';\n        img.style.borderRadius = '8px';\n\n        container.appendChild(img);\n\n        if (!this.readOnly) {\n            const captionInput = document.createElement('input');\n            captionInput.type = 'text';\n            captionInput.placeholder = 'Enter image caption...';\n            captionInput.value = caption || '';\n            captionInput.classList.add('caption-input');\n            captionInput.style.width = '100%';\n            captionInput.style.marginTop = '8px';\n            captionInput.style.padding = '8px';\n            captionInput.style.border = '1px solid #e2e8f0';\n            captionInput.style.borderRadius = '4px';\n            captionInput.style.fontSize = '14px';\n\n            captionInput.addEventListener('input', (e) => {\n                this.data.alt = (e.target as HTMLInputElement).value;\n                this._notifyChange();\n            });\n\n            container.appendChild(captionInput);\n\n            const buttonContainer = document.createElement('div');\n            buttonContainer.style.marginTop = '8px';\n            buttonContainer.style.display = 'flex';\n            buttonContainer.style.gap = '8px';\n\n            const changeButton = document.createElement('button');\n            changeButton.textContent = 'Change Image';\n            changeButton.style.padding = '8px 16px';\n            changeButton.style.backgroundColor = '#3182ce';\n            changeButton.style.color = 'white';\n            changeButton.style.border = 'none';\n            changeButton.style.borderRadius = '4px';\n            changeButton.style.cursor = 'pointer';\n            changeButton.style.fontSize = '14px';\n\n            changeButton.addEventListener('click', (e) => {\n                e.preventDefault();\n                this._openImageSelector();\n            });\n\n            const removeButton = document.createElement('button');\n            removeButton.textContent = 'Remove';\n            removeButton.style.padding = '8px 16px';\n            removeButton.style.backgroundColor = '#e53e3e';\n            removeButton.style.color = 'white';\n            removeButton.style.border = 'none';\n            removeButton.style.borderRadius = '4px';\n            removeButton.style.cursor = 'pointer';\n            removeButton.style.fontSize = '14px';\n\n            removeButton.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.data = {};\n                this._createPlaceholder();\n                this._notifyChange();\n            });\n\n            buttonContainer.appendChild(changeButton);\n            buttonContainer.appendChild(removeButton);\n            container.appendChild(buttonContainer);\n        }\n\n        this.wrapper.appendChild(container);\n    }\n\n    _createPlaceholder() {\n        if (!this.wrapper) return;\n\n        this.wrapper.innerHTML = '';\n\n        const placeholder = document.createElement('div');\n        placeholder.style.padding = '40px';\n        placeholder.style.textAlign = 'center';\n        placeholder.style.backgroundColor = '#f7fafc';\n        placeholder.style.border = '2px dashed #cbd5e0';\n        placeholder.style.borderRadius = '8px';\n        placeholder.style.cursor = this.readOnly ? 'default' : 'pointer';\n        placeholder.style.transition = 'all 0.2s ease';\n\n        if (!this.readOnly) {\n            placeholder.addEventListener('mouseenter', () => {\n                placeholder.style.backgroundColor = '#edf2f7';\n                placeholder.style.borderColor = '#a0aec0';\n            });\n\n            placeholder.addEventListener('mouseleave', () => {\n                placeholder.style.backgroundColor = '#f7fafc';\n                placeholder.style.borderColor = '#cbd5e0';\n            });\n        }\n\n        const icon = document.createElement('div');\n        icon.innerHTML = '<svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#a0aec0\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/><polyline points=\"21 15 16 10 5 21\"/></svg>';\n        icon.style.marginBottom = '12px';\n        icon.style.display = 'flex';\n        icon.style.justifyContent = 'center';\n\n        const text = document.createElement('div');\n        text.textContent = this.readOnly ? 'No image selected' : (this.config.placeholder || 'Click to select an image');\n        text.style.color = '#718096';\n        text.style.fontSize = '14px';\n\n        placeholder.appendChild(icon);\n        placeholder.appendChild(text);\n\n        if (!this.readOnly) {\n            placeholder.addEventListener('click', () => {\n                this._openImageSelector();\n            });\n        }\n\n        this.wrapper.appendChild(placeholder);\n    }\n\n    _openImageSelector() {\n        // Dispatch intent request event\n        const requestId = `image-selector-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n\n        const intentRequest = {\n            requestId,\n            intentType: 'select-media',\n            payload: {\n                options: {\n                    mediaType: 'image',\n                    mimeTypes: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\n                    maxSize: 10 * 1024 * 1024, // 10MB\n                    allowUpload: true\n                }\n            }\n        };\n\n        // Listen for response\n        const handleResponse = (event: CustomEvent) => {\n            const response = event.detail;\n            if (response.success && response.payload?.media) {\n                const media = response.payload.media;\n                this.data = {\n                    mediaId: media._id,\n                    src: media.url,\n                    alt: ''\n                };\n                this._createImage(media.url, '');\n                this._notifyChange();\n            }\n\n            // Clean up listener\n            window.removeEventListener(`intent:response:${requestId}`, handleResponse as EventListener);\n        };\n\n        window.addEventListener(`intent:response:${requestId}`, handleResponse as EventListener);\n\n        // Dispatch the intent request\n        window.dispatchEvent(new CustomEvent('intent:request', {\n            detail: intentRequest,\n            bubbles: true\n        }));\n    }\n\n    _notifyChange() {\n        console.log(\"Image Selector Tool change event\", this.data);\n        // EditorJS will automatically detect changes when save() is called\n        // No manual triggering needed\n    }\n\n    save(blockContent: HTMLElement): ImageSelectorToolData {\n        console.log(\"ImageSelectorTool save() called with data:\", this.data);\n        return {\n            src: this.data.src || '',\n            alt: this.data.alt || '',\n            mediaId: this.data.mediaId || ''\n        };\n    }\n\n    validate(savedData: ImageSelectorToolData) {\n        return savedData.mediaId?.trim() !== '';\n    }\n}\n\nexport default ImageSelectorTool;","import {h} from 'preact';\nimport {useEffect, useRef, useState} from 'preact/hooks';\nimport {RichTextDynamicFormField} from './types';\nimport {memo} from \"preact/compat\"\nimport {\n    contentObjectToHTML,\n    editorJSToHTML,\n    htmlToContentObject,\n    htmlToEditorJS\n} from \"@supergrowthai/utils/content-transformers\";\nimport ImageSelectorTool from './editorjs-tools/ImageSelectorTool.ts';\n\n\ninterface RichTextProps {\n    field: RichTextDynamicFormField;\n    onChange: (key: string, value: any) => void;\n}\n\nconst RichText = memo(({field, onChange}: RichTextProps) => {\n    const editorRef = useRef<HTMLDivElement>(null);\n    const editorInstanceRef = useRef<any>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const {key, value, disabled, label, ref} = field;\n\n    useEffect(() => {\n        let mounted = true;\n\n        const initEditor = async () => {\n            try {\n                // Wait for EditorJS to be available\n                const EditorJS = (window as any).EditorJS;\n\n                if (!EditorJS || !editorRef.current || editorInstanceRef.current) return;\n\n                // Get available tools\n                const Header = (window as any).Header;\n                const List = (window as any).EditorjsList;\n                const Quote = (window as any).Quote;\n                const Table = (window as any).Table;\n                const InlineCode = (window as any).InlineCode;\n                const CodeTool = (window as any).CodeTool;\n\n                // Prepare initial data\n                let initialData;\n                try {\n                    if (value) {\n                        const html = contentObjectToHTML(value);\n                        initialData = htmlToEditorJS(html);\n                    } else {\n                        initialData = {\n                            time: new Date().getTime(),\n                            blocks: []\n                        };\n                    }\n                } catch (err) {\n                    console.log('Error converting data:', err);\n                    initialData = {\n                        time: new Date().getTime(),\n                        blocks: []\n                    };\n                }\n\n                // Build tools config\n                const tools: any = {};\n\n                if (Header) {\n                    tools.header = {\n                        class: Header,\n                        config: {\n                            levels: [1, 2, 3, 4, 5, 6],\n                            defaultLevel: 2\n                        }\n                    };\n                }\n\n                if (List) {\n                    tools.List = {\n                        class: List,\n                        inlineToolbar: true,\n                        config: {\n                            defaultStyle: 'unordered'\n                        }\n                    };\n                }\n\n                if (Quote) {\n                    tools.quote = Quote;\n                }\n\n                // Add our custom image selector tool\n                tools.image = {\n                    class: ImageSelectorTool,\n                    config: {\n                        placeholder: 'Click to select an image from your media library'\n                    }\n                };\n\n                if (Table) {\n                    tools.table = {\n                        class: Table,\n                        inlineToolbar: true,\n                        config: {\n                            rows: 2,\n                            cols: 3,\n                        }\n                    };\n                }\n\n                if (InlineCode) {\n                    tools.inlineCode = InlineCode;\n                }\n\n                if (CodeTool) {\n                    tools.code = {\n                        class: CodeTool,\n                        config: {\n                            placeholder: 'Enter your code here...'\n                        }\n                    };\n                }\n\n                // Create editor instance\n                const editor = new EditorJS({\n                    holder: editorRef.current,\n                    data: initialData,\n                    readOnly: !!disabled,\n                    minHeight: 20,\n                    placeholder: 'Let\\'s write an awesome story!',\n                    onChange: async () => {\n                        try {\n                            const outputData = await editor.saver.save();\n\n                            const html = editorJSToHTML(outputData);\n                            const contentObject = htmlToContentObject(html);\n\n                            onChange(key, contentObject);\n                        } catch (error) {\n                            console.error('Error saving:', error);\n                        }\n                    },\n                    tools: tools,\n                    onReady: () => {\n                        if (mounted) {\n                            setIsLoading(false);\n                        }\n                    }\n                });\n\n                editorInstanceRef.current = editor;\n\n                if (ref)\n                    ref.current = editor;\n\n            } catch (error) {\n                console.error('Failed to initialize editor:', error);\n                setIsLoading(false);\n            }\n        };\n\n        // Load scripts then initialize\n        const loadScripts = async () => {\n            try {\n                // Load EditorJS first\n                if (!(window as any).EditorJS) {\n                    await new Promise((resolve, reject) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest';\n                        script.onload = resolve;\n                        script.onerror = reject;\n                        document.head.appendChild(script);\n                    });\n                }\n\n                // Load tools in parallel\n                const toolPromises = [];\n\n                if (!(window as any).Header) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/header@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load Header tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                if (!(window as any).List) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/list@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load List tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                if (!(window as any).Quote) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/quote@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load Quote tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                if (!(window as any).Table) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/table@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load Table tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                if (!(window as any).InlineCode) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/inline-code@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load InlineCode tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                if (!(window as any).CodeTool) {\n                    toolPromises.push(new Promise((resolve) => {\n                        const script = document.createElement('script');\n                        script.src = 'https://cdn.jsdelivr.net/npm/@editorjs/code@latest';\n                        script.onload = resolve;\n                        script.onerror = () => {\n                            console.warn('Failed to load Code tool');\n                            resolve(null);\n                        };\n                        document.head.appendChild(script);\n                    }));\n                }\n\n                // Wait for all tools to load\n                await Promise.all(toolPromises);\n\n                // Initialize editor after a small delay\n                if (mounted) {\n                    setTimeout(initEditor, 100);\n                }\n            } catch (error) {\n                console.error('Failed to load scripts:', error);\n                // Try to initialize with whatever loaded\n                if (mounted) {\n                    setTimeout(initEditor, 100);\n                }\n            }\n        };\n\n        loadScripts();\n\n        return () => {\n            mounted = false;\n            if (editorInstanceRef.current) {\n                editorInstanceRef.current.destroy();\n                editorInstanceRef.current = null;\n            }\n        };\n    }, []);\n\n    // Update readonly state\n    useEffect(() => {\n        if (editorInstanceRef.current && editorInstanceRef.current.readOnly) {\n            editorInstanceRef.current.readOnly.toggle(!!disabled);\n        }\n    }, [disabled]);\n\n    useEffect(() => {\n        console.log(\"RichText Mounted\")\n        return () => {\n            console.log(\"RichText unmounted\")\n        }\n    }, []);\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                htmlFor={key}\n                className=\"block mb-1 text-sm font-medium text-gray-700\"\n            >\n                {label}\n            </label>\n            <div\n                className=\"border border-gray-300 rounded-md min-h-24 p-2\"\n                ref={editorRef}\n                id={key}\n            >\n                {isLoading && (\n                    <div className=\"text-gray-500 text-sm\">Loading editor...</div>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default RichText;","import {h} from 'preact';\nimport {useState} from 'preact/hooks';\nimport {PasswordDynamicFormField} from './types';\n\ninterface PasswordFieldProps {\n    field: PasswordDynamicFormField;\n    onChange: (key: string, value: string) => void;\n}\n\nconst PasswordField = ({field, onChange}: PasswordFieldProps) => {\n    const [showPassword, setShowPassword] = useState(false);\n    const [value, setValue] = useState(field.value || '');\n\n    const handleChange = (e: any) => {\n        const newValue = e.currentTarget.value;\n        setValue(newValue);\n        onChange(field.key, newValue);\n    };\n\n    const togglePasswordVisibility = () => {\n        setShowPassword(!showPassword);\n    };\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                htmlFor={field.key}\n                className=\"block mb-1 text-sm font-medium text-gray-700\"\n            >\n                {field.label}\n            </label>\n            <div className=\"relative\">\n                <input\n                    id={field.key}\n                    name={field.key}\n                    type={showPassword ? 'text' : 'password'}\n                    value={value}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                    placeholder={field.placeholder || field.label}\n                    required={field.required}\n                    disabled={field.disabled}\n                />\n                <button\n                    type=\"button\"\n                    className=\"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 hover:text-gray-700 focus:outline-none\"\n                    onClick={togglePasswordVisibility}\n                >\n                    {showPassword ? (\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\"\n                             stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2}\n                                  d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"/>\n                        </svg>\n                    ) : (\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\"\n                             stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2}\n                                  d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2}\n                                  d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"/>\n                        </svg>\n                    )}\n                </button>\n            </div>\n            <p className=\"mt-1 text-xs text-gray-500\">\n                {field.required ? 'Required  ' : ''}Use a strong, unique password\n            </p>\n        </div>\n    );\n};\n\nexport default PasswordField;","import {h} from 'preact';\nimport {useEffect, useRef, useState} from 'preact/hooks';\nimport {MultiSelectDynamicFormField, SelectDynamicFormField} from './types';\n\ninterface AutocompleteFieldProps {\n    field: SelectDynamicFormField | MultiSelectDynamicFormField;\n    onChange: (key: string, value: string | string[]) => void;\n    multiple?: boolean;\n}\n\nconst AutocompleteField = ({field, onChange, multiple = false}: AutocompleteFieldProps) => {\n    const [inputValue, setInputValue] = useState('');\n    const [filteredOptions, setFilteredOptions] = useState<Array<{\n        value: string;\n        label: string\n    }>>(field.options || []);\n    const [selectedOptions, setSelectedOptions] = useState<Array<{ value: string; label: string }>>(\n        multiple && Array.isArray(field.value)\n            ? field.value.map(v => {\n                const option = (field.options || []).find(opt => opt.value === v);\n                return option || {value: v, label: v};\n            })\n            : field.value ? [(field.options || []).find(opt => opt.value === field.value as string) || {\n                value: field.value as string,\n                label: field.value as string\n            }] : []\n    );\n    const [isFocused, setIsFocused] = useState(false);\n    const [isAddingNew, setIsAddingNew] = useState(false);\n    const [newItemLabel, setNewItemLabel] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const dropdownRef = useRef<HTMLDivElement>(null);\n\n    // Update filtered options when input value changes\n    useEffect(() => {\n        const filterOptions = async () => {\n            if (field.onSearch && inputValue.trim().length > 0) {\n                setIsLoading(true);\n                try {\n                    const results = await field.onSearch(inputValue);\n                    setFilteredOptions(results);\n                } catch (error) {\n                    console.error('Error searching options:', error);\n                } finally {\n                    setIsLoading(false);\n                }\n            } else {\n                // Local filtering when no onSearch provided\n                const filtered = (field.options || []).filter(option =>\n                    option.label.toLowerCase().includes(inputValue.toLowerCase())\n                );\n                setFilteredOptions(filtered);\n            }\n        };\n\n        filterOptions();\n    }, [inputValue, field.options, field.onSearch]);\n\n    // Handle click outside to close dropdown\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node) &&\n                inputRef.current && !inputRef.current.contains(event.target as Node)) {\n                setIsFocused(false);\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, []);\n\n    const handleInputChange = (e: any) => {\n        setInputValue(e.target.value);\n    };\n\n    const handleInputFocus = () => {\n        setIsFocused(true);\n    };\n\n    const handleSelectOption = (option: { value: string; label: string }) => {\n        if (multiple) {\n            const isAlreadySelected = selectedOptions.some(\n                selected => selected.value === option.value\n            );\n\n            if (!isAlreadySelected) {\n                const newSelectedOptions = [...selectedOptions, option];\n                setSelectedOptions(newSelectedOptions);\n                onChange(field.key, newSelectedOptions.map(opt => opt.value));\n            }\n        } else {\n            setSelectedOptions([option]);\n            onChange(field.key, option.value);\n            setIsFocused(false);\n        }\n\n        setInputValue('');\n    };\n\n    const handleRemoveOption = (optionValue: string) => {\n        const newSelectedOptions = selectedOptions.filter(\n            option => option.value !== optionValue\n        );\n        setSelectedOptions(newSelectedOptions);\n        onChange(field.key, multiple ? newSelectedOptions.map(opt => opt.value) : '');\n    };\n\n    const handleAddNewItem = async () => {\n        if (!field.onAdd || newItemLabel.trim() === '') return;\n\n        setIsLoading(true);\n        try {\n            const newOption = await field.onAdd({value: '', label: newItemLabel.trim()});\n            if (newOption) {\n                handleSelectOption(newOption);\n            }\n            setIsAddingNew(false);\n            setNewItemLabel('');\n        } catch (error) {\n            console.error('Error adding new item:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const showAddOption = inputValue.trim().length > 0 &&\n        filteredOptions.every(option => option.label.toLowerCase() !== inputValue.toLowerCase()) &&\n        field.onAdd !== undefined;\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                htmlFor={field.key}\n                className=\"block mb-1 text-sm font-medium text-gray-700\"\n            >\n                {field.label}\n            </label>\n\n            {/* Selected chips display */}\n            {selectedOptions.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {selectedOptions.map(option => (\n                        <div\n                            key={option.value}\n                            className=\"flex items-center bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md text-sm\"\n                        >\n                            <span>{option.label}</span>\n                            <button\n                                type=\"button\"\n                                onClick={() => handleRemoveOption(option.value)}\n                                className=\"ml-1 text-indigo-600 hover:text-indigo-800 focus:outline-none\"\n                                disabled={field.disabled}\n                            >\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3 w-3\" viewBox=\"0 0 20 20\"\n                                     fill=\"currentColor\">\n                                    <path fillRule=\"evenodd\"\n                                          d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                                          clipRule=\"evenodd\"/>\n                                </svg>\n                            </button>\n                        </div>\n                    ))}\n                </div>\n            )}\n\n            {/* Input field */}\n            <div className=\"relative\">\n                <input\n                    ref={inputRef}\n                    id={field.key}\n                    name={field.key}\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    onFocus={handleInputFocus}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                    placeholder={selectedOptions.length > 0 && multiple ? 'Add more...' : field.placeholder || field.label}\n                    required={field.required && (selectedOptions.length === 0)}\n                    disabled={field.disabled}\n                    autocomplete={\"off\"}\n                />\n\n                {/* Dropdown for options */}\n                {isFocused && !isAddingNew && (\n                    <div\n                        ref={dropdownRef}\n                        className=\"absolute z-10 w-full mt-1 bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto\"\n                    >\n                        {isLoading ? (\n                            <div className=\"py-2 px-3 text-gray-500 text-sm\">Loading...</div>\n                        ) : filteredOptions.length > 0 ? (\n                            <ul className=\"py-1\">\n                                {filteredOptions.map(option => (\n                                    <li\n                                        key={option.value}\n                                        className={`px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50 ${\n                                            selectedOptions.some(sel => sel.value === option.value) ? 'bg-indigo-50 text-indigo-800' : ''\n                                        }`}\n                                        onClick={() => handleSelectOption(option)}\n                                    >\n                                        {option.label}\n                                    </li>\n                                ))}\n                            </ul>\n                        ) : (\n                            <div className=\"py-2 px-3 text-gray-500 text-sm\">No options found</div>\n                        )}\n\n                        {/* Add new option button */}\n                        {showAddOption && (\n                            <div className=\"border-t border-gray-200\">\n                                <button\n                                    type=\"button\"\n                                    className=\"w-full py-2 px-3 text-left text-sm text-indigo-600 hover:bg-indigo-50 focus:outline-none\"\n                                    onClick={() => setIsAddingNew(true)}\n                                >\n                                    <div className=\"flex items-center\">\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1\" fill=\"none\"\n                                             viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2}\n                                                  d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/>\n                                        </svg>\n                                        Add \"{inputValue}\"\n                                    </div>\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {/* Add new item dialog */}\n            {isAddingNew && (\n                <>\n                    <input type=\"checkbox\" className=\"modal-toggle\" checked={isAddingNew} readOnly/>\n                    <dialog className=\"modal\">\n                        <div className=\"modal-box bg-white rounded-md shadow-lg\">\n                            <h3 className=\"font-bold text-lg mb-4\">Add New {field.label}</h3>\n                            <input\n                                type=\"text\"\n                                value={newItemLabel}\n                                onChange={(e) => setNewItemLabel(e.currentTarget.value)}\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                                placeholder={`Enter new ${(`${field.label?.toLowerCase()} `) || \"\"}name`}\n                                autoFocus\n                            />\n                            <div className=\"modal-action mt-4\">\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-primary rounded-md\"\n                                    onClick={handleAddNewItem}\n                                    disabled={isLoading || !newItemLabel.trim()}\n                                >\n                                    {isLoading ? 'Saving...' : 'Add'}\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn rounded-md\"\n                                    onClick={() => {\n                                        setIsAddingNew(false);\n                                        setNewItemLabel('');\n                                    }}\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </dialog>\n                </>\n            )}\n\n            <p className=\"mt-1 text-xs text-gray-500\">\n                {field.required ? 'Required  ' : ''}\n                {multiple ? 'You can select multiple items' : 'Select one item'}\n            </p>\n        </div>\n    );\n};\n\nexport default AutocompleteField;","import {h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport {CheckboxGroupDynamicFormField} from './types';\n\ninterface CheckboxGroupFieldProps {\n    field: CheckboxGroupDynamicFormField;\n    onChange: (key: string, value: string[]) => void;\n}\n\nconst CheckboxGroupField = ({field, onChange}: CheckboxGroupFieldProps) => {\n    const [selectedValues, setSelectedValues] = useState<string[]>(\n        Array.isArray(field.value) ? field.value : []\n    );\n\n    // Update internal state when field value changes\n    useEffect(() => {\n        if (field.value && Array.isArray(field.value)) {\n            setSelectedValues(field.value);\n        }\n    }, [field.value]);\n\n    // Handle checkbox toggle\n    const handleValueChange = (value: string, checked: boolean) => {\n        let updatedValues: string[];\n\n        if (checked && !selectedValues.includes(value)) {\n            updatedValues = [...selectedValues, value];\n        } else if (!checked && selectedValues.includes(value)) {\n            updatedValues = selectedValues.filter(v => v !== value);\n        } else {\n            return; // No change\n        }\n\n        setSelectedValues(updatedValues);\n        onChange(field.key, updatedValues);\n    };\n\n    if (!field.groupedOptions || Object.keys(field.groupedOptions).length === 0) {\n        return (\n            <div className=\"mt-4 mb-4\">\n                <p className=\"text-gray-500\">No options available</p>\n            </div>\n        );\n    }\n\n    // Default show labels to true if not specified\n    const showLabels = field.showLabels !== false;\n\n    return (\n        <div className=\"w-full mb-4\">\n            <label\n                className=\"block mb-2 text-sm font-medium text-gray-700\"\n            >\n                {field.label}\n            </label>\n\n            {Object.entries(field.groupedOptions).map(([group, options]) => (\n                <div key={group} className=\"mb-4\">\n                    {showLabels && (\n                        <h3 className=\"font-medium text-gray-800 mb-2 capitalize\">{group}</h3>\n                    )}\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                        {options.map(value => (\n                            <div key={value} className=\"flex items-center\">\n                                <input\n                                    type=\"checkbox\"\n                                    id={`${field.key}-${value}`}\n                                    checked={selectedValues.includes(value)}\n                                    onChange={e => handleValueChange(\n                                        value,\n                                        (e.target as HTMLInputElement).checked\n                                    )}\n                                    className=\"h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                                    disabled={field.disabled}\n                                />\n                                <label\n                                    htmlFor={`${field.key}-${value}`}\n                                    className=\"ml-2 text-sm text-gray-700\"\n                                >\n                                    {value}\n                                </label>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default CheckboxGroupField;","import {h} from 'preact';\nimport {useEffect} from 'preact/hooks';\nimport {HiddenDynamicFormField} from './types';\n\ninterface HiddenFieldProps {\n    field: HiddenDynamicFormField;\n    onChange: (key: string, value: any) => void;\n}\n\n/**\n * HiddenField component for dynamic forms.\n * Renders a hidden input field that is not visible to the user\n * but its value is included in form submissions.\n */\nconst HiddenField = ({field, onChange}: HiddenFieldProps) => {\n    // When the component mounts or field value changes, update the form data\n    useEffect(() => {\n        if (field.value !== undefined) {\n            onChange(field.key, field.value);\n        }\n    }, [field.key, onChange]);\n\n    // Render a hidden input (not visible to users)\n    return (\n        <input\n            type=\"hidden\"\n            id={field.key}\n            name={field.key}\n            value={field.value || ''}\n            data-testid={`hidden-field-${field.key}`}\n        />\n    );\n};\n\nexport default HiddenField;","import {IntentConfig, IntentRequest} from '@supergrowthai/next-blog-types';\nimport {ComponentType} from 'preact';\n\nexport interface IntentRegistration extends IntentConfig {\n    component: ComponentType<{ request: IntentRequest }>;\n}\n\nclass IntentRegistry {\n    private handlers = new Map<string, IntentRegistration>();\n\n    register(registration: IntentRegistration) {\n        this.handlers.set(registration.intentType, registration);\n    }\n\n    get(intentType: string): IntentRegistration | undefined {\n        return this.handlers.get(intentType);\n    }\n\n    has(intentType: string): boolean {\n        return this.handlers.has(intentType);\n    }\n}\n\nexport const intentRegistry = new IntentRegistry();","import {createContext, h} from 'preact';\nimport {useCallback, useContext, useEffect, useState} from 'preact/hooks';\nimport {IntentRequest, IntentResponse} from '@supergrowthai/next-blog-types';\nimport {intentRegistry} from './intent-registry';\n\ninterface IntentContextType {\n    startIntent: <T, R>(intentType: string, payload: T) => Promise<R>;\n}\n\nconst IntentContext = createContext<IntentContextType | undefined>(undefined);\n\nexport const IntentProvider = ({children}: { children: any }) => {\n    const [activeIntents, setActiveIntents] = useState<IntentRequest[]>([]);\n\n    useEffect(() => {\n        const handleIntentRequest = (event: Event) => {\n            const customEvent = event as CustomEvent<IntentRequest>;\n            const request = customEvent.detail;\n\n            // Get the registration for this intent type\n            const registration = intentRegistry.get(request.intentType);\n            if (!registration) {\n                // Send error response on request-specific channel\n                const errorResponse: IntentResponse = {\n                    requestId: request.requestId,\n                    intentType: request.intentType,\n                    success: false,\n                    error: `No handler registered for intent type: ${request.intentType}`\n                };\n\n                window.dispatchEvent(new CustomEvent(`intent:response:${request.requestId}`, {\n                    detail: errorResponse,\n                    bubbles: true\n                }));\n                return;\n            }\n\n            // Handle launch mode\n            const launch = registration.launch || 'replace';\n\n            setActiveIntents(prev => {\n                if (launch === 'replace') {\n                    // Replace any existing intents of the same type\n                    const filtered = prev.filter(i => i.intentType !== request.intentType);\n                    return [...filtered, request];\n                } else {\n                    // Stack mode - just add it\n                    return [...prev, request];\n                }\n            });\n        };\n\n        window.addEventListener('intent:request', handleIntentRequest);\n        return () => window.removeEventListener('intent:request', handleIntentRequest);\n    }, []);\n\n    const startIntent = useCallback(<T, R>(intentType: string, payload: T): Promise<R> => {\n        return new Promise((resolve, reject) => {\n            const requestId = `${intentType}-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n\n            const handleResponse = (event: Event) => {\n                const customEvent = event as CustomEvent<IntentResponse>;\n                const response = customEvent.detail;\n                cleanup();\n\n                if (response.success) {\n                    resolve(response.payload as R);\n                } else if (response.cancelled) {\n                    resolve(null as R);\n                } else {\n                    reject(new Error(response.error || 'Intent failed'));\n                }\n            };\n\n            const cleanup = () => {\n                window.removeEventListener(`intent:response:${requestId}`, handleResponse);\n                clearTimeout(timeoutId);\n            };\n\n            const timeoutId = setTimeout(() => {\n                cleanup();\n                reject(new Error('Intent timeout'));\n            }, 60000 * 10);\n\n            // Listen for request-specific response\n            window.addEventListener(`intent:response:${requestId}`, handleResponse);\n\n            // Dispatch intent request\n            window.dispatchEvent(new CustomEvent('intent:request', {\n                detail: {requestId, intentType, payload},\n                bubbles: true\n            }));\n        });\n    }, []);\n\n    // Create a way to notify provider when intents complete\n    useEffect(() => {\n        // Store this function globally so components can call it\n        (window as any).__removeIntent = (requestId: string) => {\n            setActiveIntents(prev => prev.filter(i => i.requestId !== requestId));\n        };\n\n        return () => {\n            delete (window as any).__removeIntent;\n        };\n    }, []);\n\n    return (\n        <IntentContext.Provider value={{startIntent}}>\n            {children}\n            {/* Render active intent UIs */}\n            {activeIntents.map(intent => {\n                const registration = intentRegistry.get(intent.intentType);\n                if (!registration?.component) return null;\n\n                const Component = registration.component;\n                return <Component key={intent.requestId} request={intent}/>;\n            })}\n        </IntentContext.Provider>\n    );\n};\n\nexport const useIntent = () => {\n    const context = useContext(IntentContext);\n    if (!context) {\n        throw new Error('useIntent must be used within an IntentProvider');\n    }\n    return context;\n};","import { PERMISSION_WEIGHTS } from \"./database/entities.mjs\";\nimport { createId, isBrandedId } from \"./server.mjs\";\nfunction isServerSDK(sdk) {\n  return sdk && typeof sdk === \"object\" && \"db\" in sdk && \"log\" in sdk;\n}\nfunction isClientSDK(sdk) {\n  return sdk && typeof sdk === \"object\" && \"apis\" in sdk && \"navigate\" in sdk;\n}\nconst INTENT_TYPES = {\n  SELECT_MEDIA: \"select-media\"\n  // Future intent types:\n  // SHOW_MODAL: 'show-modal',\n  // SHOW_DIALOG: 'show-dialog',\n  // FILE_PICKER: 'file-picker',\n};\nexport {\n  INTENT_TYPES,\n  PERMISSION_WEIGHTS,\n  createId,\n  isBrandedId,\n  isClientSDK,\n  isServerSDK\n};\n//# sourceMappingURL=index.mjs.map\n","import {h, RefObject} from 'preact';\nimport {useCallback, useEffect, useMemo, useRef, useState} from 'preact/hooks';\nimport {\n    IntentRequest,\n    IntentResponse,\n    Media,\n    MediaSelectRequest,\n    PaginatedResponse\n} from '@supergrowthai/next-blog-types';\nimport {useUser} from '../../context/UserContext';\nimport toast from 'react-hot-toast';\nimport {memo} from 'preact/compat';\nimport {PaginationControls} from \"../../components/PaginationControls.tsx\";\n\n// --- Constants & Configuration ---\nconst DEBOUNCE_DELAY = 300; // ms\nconst PAGE_LIMIT = 12;\nconst MAX_IMAGE_SIZE_BYTES = 5 * 1024 * 1024; // 5MB\nconst MAX_IMAGE_PIXELS = 3840 * 2160; // 4K UHD resolution\n\ntype TabType = 'images' | 'videos' | 'audio' | 'upload' | 'imago' | 'generative';\n\ninterface MediaSelectorProps {\n    request: IntentRequest<MediaSelectRequest>;\n}\n\n// Configuration for tabs makes it easier to add/remove/reorder them\nconst TABS: { id: TabType; label: string; isMediaGrid: boolean }[] = [\n    {id: 'images', label: 'Images', isMediaGrid: true},\n    {id: 'videos', label: 'Videos', isMediaGrid: true},\n    {id: 'audio', label: 'Audio', isMediaGrid: true},\n    {id: 'upload', label: 'Upload', isMediaGrid: false},\n    {id: 'imago', label: 'Imago', isMediaGrid: false},\n    {id: 'generative', label: 'Generative AI', isMediaGrid: false},\n];\n\ntype DialogState =\n    | { type: 'none' }\n    | { type: 'delete'; media: Media }\n    | { type: 'edit'; media: Media; filename: string };\n\n\n// --- Utility Functions ---\n\nconst getMediaTypeFromMime = (mimeType: string): 'image' | 'video' | 'audio' | 'unknown' => {\n    if (mimeType.startsWith('image/')) return 'image';\n    if (mimeType.startsWith('video/')) return 'video';\n    if (mimeType.startsWith('audio/')) return 'audio';\n    return 'unknown';\n};\n\nconst getMimeTypesForTab = (tab: TabType): string[] => {\n    switch (tab) {\n        case 'images':\n            return ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n        case 'videos':\n            return ['video/mp4', 'video/webm', 'video/ogg'];\n        case 'audio':\n            return ['audio/mp3', 'audio/wav', 'audio/ogg'];\n        default:\n            return [];\n    }\n};\n\n/**\n * Validates an image file for resolution constraints.\n * @param file The image file to validate.\n * @returns A promise that resolves if the image is valid, or rejects with an error message.\n */\nconst validateImageDimensions = (file: File): Promise<void> => {\n    return new Promise((resolve, reject) => {\n        // We only validate image files\n        if (!file.type.startsWith('image/')) {\n            resolve();\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = (e) => {\n            const image = new Image();\n            image.src = e.target?.result as string;\n\n            image.onload = () => {\n                const pixelCount = image.naturalWidth * image.naturalHeight;\n                if (pixelCount > MAX_IMAGE_PIXELS) {\n                    // It's good practice to revoke the object URL to free up memory\n                    URL.revokeObjectURL(image.src);\n                    reject(new Error(`Image resolution is too high. Maximum allowed is 4K (${3840}x${2160}).`));\n                } else {\n                    URL.revokeObjectURL(image.src);\n                    resolve();\n                }\n            };\n\n            image.onerror = () => {\n                reject(new Error('The selected file could not be read as an image.'));\n            };\n        };\n\n        reader.onerror = () => {\n            reject(new Error('Failed to read the file.'));\n        };\n    });\n};\n\n// --- Custom Hooks for Logic Separation ---\n\n/**\n * Encapsulates all logic for fetching, searching, and paginating media.\n */\nconst useMediaLibrary = (activeTab: TabType) => {\n    const {apis} = useUser();\n    const [loading, setLoading] = useState(false);\n    const [pagination, setPagination] = useState<PaginatedResponse<Media> | null>(null);\n    const [search, setSearch] = useState('');\n    const [page, setPage] = useState(1);\n\n    const mimeTypes = useMemo(() => getMimeTypesForTab(activeTab), [activeTab]);\n\n    const loadMedia = useCallback(async (isNewQuery: boolean) => {\n        if (mimeTypes.length === 0) {\n            setPagination(null);\n            return;\n        }\n\n        setLoading(true);\n        const currentPage = isNewQuery ? 1 : page;\n        try {\n            const response = await apis.getMedia({\n                mimeType: mimeTypes.join(','),\n                page: currentPage,\n                limit: PAGE_LIMIT,\n                ...(search && {search}),\n            });\n\n            if (response.code === 0 && response.payload) {\n                setPagination(response.payload);\n                if (isNewQuery) setPage(1);\n            } else {\n                toast.error(response.message || 'Failed to load media');\n            }\n        } catch (err) {\n            console.error('Error loading media:', err);\n            toast.error('Failed to load media');\n        } finally {\n            setLoading(false);\n        }\n    }, [apis, mimeTypes, page, search]);\n\n    // Effect for debounced search\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            loadMedia(true);\n        }, DEBOUNCE_DELAY);\n        return () => clearTimeout(handler);\n    }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // Effect for pagination\n    useEffect(() => {\n        if (page > 1) {\n            loadMedia(false);\n        }\n    }, [page]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // Effect to reset and load on tab change\n    useEffect(() => {\n        setSearch('');\n        setPage(1);\n        loadMedia(true);\n    }, [activeTab]);\n\n    return {\n        loading,\n        pagination,\n        search,\n        setSearch,\n        page,\n        setPage,\n        reloadMedia: () => loadMedia(false), // Expose a reload function\n    };\n};\n\n/**\n * Encapsulates all media action logic (upload, update, delete).\n */\nconst useMediaActions = (onActionSuccess: () => void) => {\n    const {apis} = useUser();\n    const [actionState, setActionState] = useState({\n        uploading: false,\n        editing: false,\n        deleting: false,\n    });\n\n    const uploadFile = useCallback(async (file: File, onUploadComplete: (media: Media) => void) => {\n        setActionState(s => ({...s, uploading: true}));\n        try {\n            // NOTE: A more robust pattern is to upload to temporary storage first,\n            // then make a single API call to create the media record with the final URL.\n            // This makes the database operation atomic.\n            const createResponse = await apis.createMedia({\n                filename: file.name,\n                url: '',\n                mimeType: file.type,\n                size: file.size,\n            });\n\n            if (createResponse.code !== 0 || !createResponse.payload) {\n                throw new Error(createResponse.message || 'Failed to create media record');\n            } else {\n                toast.success(\"Uploading...\");\n            }\n\n            const mediaRecord = createResponse.payload;\n            const uploadResponse = await apis.uploadMediaFile(mediaRecord._id, file);\n\n            if (uploadResponse.code === 0 && uploadResponse.payload) {\n                toast.success('File uploaded successfully');\n                onActionSuccess();\n                onUploadComplete(uploadResponse.payload);\n            } else {\n                await apis.deleteMedia(mediaRecord._id); // Cleanup\n                throw new Error(uploadResponse.message || 'Failed to upload file');\n            }\n        } catch (err) {\n            console.error('Error uploading file:', err);\n            toast.error(err instanceof Error ? err.message : 'Failed to upload file');\n        } finally {\n            setActionState(s => ({...s, uploading: false}));\n        }\n    }, [apis, onActionSuccess]);\n\n    const updateMedia = useCallback(async (mediaId: string, filename: string) => {\n        setActionState(s => ({...s, editing: true}));\n        try {\n            const response = await apis.updateMedia(mediaId, {filename});\n            if (response.code === 0 && response.payload) {\n                toast.success('Media updated successfully');\n                onActionSuccess();\n            } else {\n                throw new Error(response.message || 'Failed to update media');\n            }\n        } catch (err) {\n            console.error('Error updating media:', err);\n            toast.error(err instanceof Error ? err.message : 'Failed to update media');\n        } finally {\n            setActionState(s => ({...s, editing: false}));\n        }\n    }, [apis, onActionSuccess]);\n\n    const deleteMedia = useCallback(async (mediaId: string) => {\n        setActionState(s => ({...s, deleting: true}));\n        try {\n            const response = await apis.deleteMedia(mediaId);\n            if (response.code === 0) {\n                toast.success('Media deleted successfully');\n                onActionSuccess();\n            } else {\n                throw new Error(response.message || 'Failed to delete media');\n            }\n        } catch (err) {\n            console.error('Error deleting media:', err);\n            toast.error(err instanceof Error ? err.message : 'Failed to delete media');\n        } finally {\n            setActionState(s => ({...s, deleting: false}));\n        }\n    }, [apis, onActionSuccess]);\n\n    return {...actionState, uploadFile, updateMedia, deleteMedia};\n};\n\n\n// --- UI Components ---\n\n/**\n * Renders a preview for a given media item.\n * P0 FIX: Added loading=\"lazy\" to images to prevent loading all grid images at once.\n * Added a placeholder poster for videos for better perceived performance.\n */\nconst MediaPreview = memo(({media}: { media: Media }) => {\n    const mediaType = getMediaTypeFromMime(media.mimeType);\n\n    switch (mediaType) {\n        case 'image':\n            return (\n                <img\n                    src={media.url}\n                    alt={media.filename} //todo based on the image:optimization config use the resize url using `Dynamic Image Transformation for Amazon CloudFront`\n                    className=\"rounded-lg h-32 w-full object-cover\"\n                    loading=\"lazy\" // P0 Performance Fix\n                />\n            );\n        case 'video':\n            // For optimal performance, the API should provide a thumbnail URL for the `poster` attribute.\n            return (\n                <video\n                    src={media.url}\n                    className=\"rounded-lg h-32 w-full object-cover\"\n                    controls={false}\n                    muted\n                    playsInline\n                    poster={media.thumbnailUrl || ''} // P0 Performance Fix (assumes API provides thumbnail)\n                    onMouseEnter={e => (e.target as HTMLVideoElement).play()}\n                    onMouseLeave={e => {\n                        const video = e.target as HTMLVideoElement;\n                        video.pause();\n                        video.currentTime = 0;\n                    }}\n                />\n            );\n        case 'audio':\n            return (\n                <div className=\"rounded-lg h-32 w-full bg-gray-200 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                        <div className=\"text-4xl mb-2\"></div>\n                        <div className=\"text-xs text-gray-600\">Audio File</div>\n                    </div>\n                </div>\n            );\n        default:\n            return (\n                <div className=\"rounded-lg h-32 w-full bg-gray-200 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                        <div className=\"text-4xl mb-2\"></div>\n                        <div className=\"text-xs text-gray-600\">Unknown Type</div>\n                    </div>\n                </div>\n            );\n    }\n});\n\ninterface UploadTabProps {\n    allowUpload: boolean;\n    fileInputRef?: RefObject<HTMLInputElement>;\n    mimeTypes: string[];\n    handleFileSelect: (event: Event) => void;\n    uploading: boolean;\n}\n\nconst UploadTab = memo(({allowUpload, fileInputRef, mimeTypes, handleFileSelect, uploading}: UploadTabProps) => {\n    if (!allowUpload) return null;\n\n    return (\n        <div className=\"space-y-6\">\n            <div>\n                <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept={mimeTypes.join(',')}\n                    onChange={handleFileSelect}\n                    className=\"file-input file-input-bordered w-full\"\n                    disabled={uploading}\n                />\n                {uploading && (\n                    <div className=\"mt-2\">\n                        <span className=\"loading loading-spinner loading-sm mr-2\"></span>\n                        Uploading...\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n});\n\ninterface ComingSoonTabProps {\n    activeTab: TabType;\n}\n\nconst ComingSoonTab = memo(({activeTab}: ComingSoonTabProps) => {\n    return (\n        <div className=\"flex flex-col items-center justify-center py-16 space-y-4\">\n            <h3 className=\"text-lg font-semibold text-base-content\">Coming Soon</h3>\n            <p className=\"text-base-content/60 text-center\">\n                {activeTab === 'imago'\n                    ? 'Image search powered by Imago'\n                    : 'Generate images using artificial intelligence'\n                }\n            </p>\n        </div>\n    );\n});\n\ninterface MediaGridTabProps {\n    activeTab: TabType;\n    search: string;\n    setSearch: (search: string) => void;\n    loading: boolean;\n    mediaItems: Media[];\n    selectedMedia: Media | null;\n    setSelectedMedia: (media: Media | null) => void;\n    pagination: PaginatedResponse<Media> | null;\n    page: number;\n    setPage: (page: number) => void;\n    openEditDialog: (media: Media) => void;\n    openDeleteConfirmation: (media: Media) => void;\n    getEmptyMessage: () => string;\n}\n\nconst MediaGridTab = memo(({\n                               activeTab,\n                               search,\n                               setSearch,\n                               loading,\n                               mediaItems,\n                               selectedMedia,\n                               setSelectedMedia,\n                               pagination,\n                               page,\n                               setPage,\n                               openEditDialog,\n                               openDeleteConfirmation,\n                               getEmptyMessage\n                           }: MediaGridTabProps) => {\n    const getTabLabel = (tab: TabType) => {\n        switch (tab) {\n            case 'images':\n                return 'Images';\n            case 'videos':\n                return 'Videos';\n            case 'audio':\n                return 'Audio';\n            default:\n                return 'Media';\n        }\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            <div>\n                <input\n                    type=\"text\"\n                    placeholder={`Search ${getTabLabel(activeTab).toLowerCase()}...`}\n                    value={search}\n                    onInput={(e) => setSearch((e.target as HTMLInputElement).value)}\n                    className=\"input input-bordered w-full\"\n                />\n            </div>\n\n            {loading ? (\n                <div className=\"flex justify-center py-8\">\n                    <span className=\"loading loading-spinner loading-lg\"></span>\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-2 gap-4\">\n                    {mediaItems.map(media => (\n                        <div\n                            key={media._id}\n                            className={`card bg-base-100 cursor-pointer hover:shadow-lg transition-shadow relative group ${\n                                selectedMedia?._id === media._id ? 'ring-2 ring-primary' : ''\n                            }`}\n                            onClick={() => setSelectedMedia(media)}\n                        >\n                            <figure className=\"px-4 pt-4\">\n                                <MediaPreview media={media}/>\n                            </figure>\n                            <div className=\"card-body p-4\">\n                                <p className=\"text-sm truncate\">{media.filename}</p>\n                            </div>\n\n                            {/* Action buttons - show on hover */}\n                            <div\n                                className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-200 flex flex-col gap-2\">\n                                <button\n                                    className=\"btn btn-xs bg-blue-500 hover:bg-blue-600 text-white border-none shadow-lg text-xs font-medium px-3 rounded-md\"\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        openEditDialog(media);\n                                    }}\n                                    title=\"Edit filename\"\n                                >\n                                    Edit\n                                </button>\n                                <button\n                                    className=\"btn btn-xs bg-red-500 hover:bg-red-600 text-white border-none shadow-lg text-xs font-medium px-3 rounded-md\"\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        openDeleteConfirmation(media);\n                                    }}\n                                    title=\"Delete media\"\n                                >\n                                    Delete\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n\n            {mediaItems.length === 0 && !loading && (\n                <div className=\"text-center py-8 text-base-content/60\">\n                    {getEmptyMessage()}\n                </div>\n            )}\n\n            <PaginationControls\n                pagination={pagination}\n                currentPage={page}\n                dataLength={mediaItems.length}\n                onPageChange={setPage}\n            />\n        </div>\n    );\n});\n\n\n// --- Main Component ---\n\nexport const MediaSelector = ({request}: MediaSelectorProps) => {\n    const {apis} = useUser();\n    const dialogRef = useRef<HTMLDialogElement>(null);\n\n    // --- State Management ---\n    const [activeTab, setActiveTab] = useState<TabType>('images');\n    const [selectedMedia, setSelectedMedia] = useState<Media | null>(null);\n    const [dialogState, setDialogState] = useState<DialogState>({type: 'none'});\n\n    // --- Custom Hooks ---\n    const {\n        loading, pagination, search, setSearch, page, setPage, reloadMedia\n    } = useMediaLibrary(activeTab);\n\n    const {\n        uploading, editing, deleting, uploadFile, updateMedia, deleteMedia\n    } = useMediaActions(reloadMedia);\n\n    // --- Derived State ---\n    const mediaItems = pagination?.data || [];\n    const options = request.payload.options || {};\n    const {allowUpload = true, maxSize = 10 * 1024 * 1024, selectedMediaId, mimeTypes} = options;\n\n    // --- Effects ---\n\n    // P0 FIX: Cleanup effect to prevent memory leaks if component unmounts unexpectedly.\n    useEffect(() => {\n        dialogRef.current?.showModal();\n\n        const loadInitialMedia = async (mediaId: string) => {\n            try {\n                const response = await apis.getMediaById(mediaId);\n                if (response.code === 0 && response.payload) {\n                    const media = response.payload;\n                    setSelectedMedia(media);\n                    const type = getMediaTypeFromMime(media.mimeType);\n                    if (type === 'image') setActiveTab('images');\n                    else if (type === 'video') setActiveTab('videos');\n                    else if (type === 'audio') setActiveTab('audio');\n                }\n            } catch (err) {\n                console.error(\"Failed to load initial media\", err);\n            }\n        };\n\n        if (selectedMediaId) {\n            loadInitialMedia(selectedMediaId);\n        }\n\n        return () => {\n            if ((window as any).__removeIntent) {\n                (window as any).__removeIntent(request.requestId);\n            }\n        };\n    }, [request.requestId, selectedMediaId, apis]);\n\n\n    // --- Handlers ---\n    const sendResponse = useCallback((media: Media | null, cancelled = false) => {\n        const response: IntentResponse<{ media: Media | null }> = {\n            requestId: request.requestId,\n            intentType: request.intentType,\n            success: !cancelled,\n            payload: {media},\n            cancelled,\n        };\n        window.dispatchEvent(new CustomEvent(`intent:response:${request.requestId}`, {detail: response}));\n        dialogRef.current?.close();\n    }, [request.requestId, request.intentType]);\n\n    const handleSelect = useCallback(() => sendResponse(selectedMedia), [selectedMedia, sendResponse]);\n    const handleCancel = useCallback(() => sendResponse(null, true), [sendResponse]);\n\n    const handleFileSelect = useCallback(async (event: Event) => {\n        const input = (event.target as HTMLInputElement);\n        const file = input.files?.[0];\n        if (!file) return;\n\n        // Validate file type\n        if (!mimeTypes?.includes(file.type)) {\n            toast.error(`Invalid file type. Allowed types: ${mimeTypes?.join(', ')}`, {duration: 9999999});\n            input.value = '';\n            return;\n        }\n\n        // 1. Check file size\n        if (file.size > MAX_IMAGE_SIZE_BYTES) {\n            toast.error(`File is too large. Maximum size is ${MAX_IMAGE_SIZE_BYTES / (1024 * 1024)}MB.`);\n            input.value = ''; // Reset the input so the user can select the same file again if they wish\n            return;\n        }\n\n        // 2. Check image resolution (only for image files)\n        if (file.type.startsWith('image/')) {\n            try {\n                await validateImageDimensions(file);\n            } catch (err) {\n                toast.error(err instanceof Error ? err.message : 'Invalid image file.');\n                input.value = ''; // Reset the input\n                return;\n            }\n        }\n\n        uploadFile(file, (uploadedMedia) => {\n            setSelectedMedia(uploadedMedia);\n            const type = getMediaTypeFromMime(uploadedMedia.mimeType);\n            if (type === 'image') setActiveTab('images');\n            else if (type === 'video') setActiveTab('videos');\n            else if (type === 'audio') setActiveTab('audio');\n        });\n    }, [uploadFile, allowUpload, options.mimeTypes]);\n\n    const handleEditSave = useCallback(async () => {\n        if (dialogState.type !== 'edit') return;\n        await updateMedia(dialogState.media._id, dialogState.filename);\n        if (selectedMedia?._id === dialogState.media._id) {\n            // After reload, find the updated item and re-select it\n            const updatedItem = mediaItems.find(m => m._id === dialogState.media._id);\n            if (updatedItem) setSelectedMedia({...updatedItem, filename: dialogState.filename});\n        }\n        setDialogState({type: 'none'});\n    }, [dialogState, updateMedia, selectedMedia, mediaItems]);\n\n    const handleDeleteConfirm = useCallback(async () => {\n        if (dialogState.type !== 'delete') return;\n        await deleteMedia(dialogState.media._id);\n        if (selectedMedia?._id === dialogState.media._id) {\n            setSelectedMedia(null);\n        }\n        setDialogState({type: 'none'});\n    }, [dialogState, deleteMedia, selectedMedia]);\n\n    const getEmptyMessage = useCallback(() => {\n\n        const typeText = activeTab === 'images' ? 'images' :\n            activeTab === 'videos' ? 'videos' :\n                activeTab === 'audio' ? 'audio files' : 'media files';\n        return search\n            ? `No ${typeText} found matching your search.`\n            : `No ${typeText} found. Upload a file to get started.`;\n    }, [search, activeTab]);\n\n    // --- Render Logic ---\n    const renderTabContent = () => {\n        const currentTabConfig = TABS.find(t => t.id === activeTab);\n        if (currentTabConfig?.isMediaGrid) {\n            return (\n                <MediaGridTab\n                    activeTab={activeTab} search={search} setSearch={setSearch}\n                    loading={loading} mediaItems={mediaItems} selectedMedia={selectedMedia}\n                    setSelectedMedia={setSelectedMedia} pagination={pagination}\n                    page={page} setPage={setPage}\n                    openEditDialog={(media: Media) => setDialogState({type: 'edit', media, filename: media.filename})}\n                    openDeleteConfirmation={(media: Media) => setDialogState({type: 'delete', media})}\n                    getEmptyMessage={getEmptyMessage}\n                />\n            );\n        }\n        switch (activeTab) {\n            case 'upload':\n                return (\n                    <UploadTab\n                        allowUpload={allowUpload}\n                        mimeTypes={options.mimeTypes || getMimeTypesForTab('images').concat(getMimeTypesForTab('videos'))}\n                        handleFileSelect={handleFileSelect}\n                        uploading={uploading}\n                    />\n                );\n            case 'imago':\n            case 'generative':\n                return <ComingSoonTab activeTab={activeTab}/>;\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <dialog ref={dialogRef} className=\"modal\">\n            <div\n                className=\"modal-box w-full max-w-2xl lg:max-w-4xl h-full max-h-full rounded-none rounded-l-xl absolute right-0 top-0 bottom-0 m-0 flex flex-col bg-gray-50\"\n                style={{\n                    animation: 'slide-left 0.3s ease-out'\n                }}\n            >\n                {/* Header */}\n                <div className=\"flex justify-between items-center p-6 border-b border-gray-200 bg-white\">\n                    <h2 className=\"text-xl font-bold\">Select Media</h2>\n                    <button className=\"btn btn-sm btn-ghost btn-circle\" onClick={handleCancel}></button>\n                </div>\n                {/* Tabs */}\n                <div className=\"tabs tabs-bordered ...\">\n                    {TABS.map((tab) => (\n                        <button\n                            key={tab.id}\n                            className={`tab tab-bordered ${activeTab === tab.id ? 'tab-active' : ''}`}\n                            onClick={() => setActiveTab(tab.id)}\n                        >\n                            {tab.label}\n                        </button>\n                    ))}\n                </div>\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6\">{renderTabContent()}</div>\n                {/* Footer */}\n                <div className=\"p-6 border-t border-gray-200 bg-white\">\n                    <div className=\"flex gap-2\">\n                        <button className=\"btn btn-primary flex-1\" onClick={handleSelect}\n                                disabled={!selectedMedia || uploading}>Select\n                        </button>\n                        <button className=\"btn btn-ghost flex-1\" onClick={handleCancel}>Cancel</button>\n                    </div>\n                </div>\n            </div>\n            <form method=\"dialog\" className=\"modal-backdrop\">\n                <button onClick={handleCancel}>close</button>\n            </form>\n\n            {/* Delete Confirmation Dialog */}\n            {dialogState.type === 'delete' && (\n                <div className=\"modal modal-open\">\n                    <div className=\"modal-box bg-red-50 border border-red-200 rounded-2xl shadow-2xl\">\n                        <h3 className=\"font-bold text-lg text-red-800\">Delete Media</h3>\n                        <p className=\"py-4 text-red-700\">\n                            Are you sure you want to delete <strong\n                            className=\"text-red-900\">{dialogState.media.filename}</strong>?\n                            This action cannot be undone.\n                        </p>\n                        <div className=\"modal-action\">\n                            <button className=\"btn btn-error\" onClick={handleDeleteConfirm} disabled={deleting}>\n                                {deleting ? 'Deleting...' : 'Delete'}\n                            </button>\n                            <button className=\"btn btn-ghost\" onClick={() => setDialogState({type: 'none'})}\n                                    disabled={deleting}>Cancel\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {/* Edit Dialog */}\n            {dialogState.type === 'edit' && (\n                <div className=\"modal modal-open\">\n                    <div className=\"modal-box bg-blue-50 border border-blue-200 rounded-2xl shadow-2xl\">\n                        <h3 className=\"font-bold text-lg text-blue-800\">Edit Media</h3>\n                        <div className=\"py-4\">\n                            <label className=\"label\">\n                                <span className=\"label-text text-blue-700 font-medium\">Filename</span>\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={dialogState.filename}\n                                onChange={(e) => setDialogState({\n                                    ...dialogState,\n                                    filename: (e.target as HTMLInputElement).value\n                                })}\n                            />\n                        </div>\n                        <div className=\"modal-action\">\n                            <button className=\"btn btn-primary\" onClick={handleEditSave}\n                                    disabled={editing || !dialogState.filename.trim()}>\n                                {editing ? 'Saving...' : 'Save'}\n                            </button>\n                            <button className=\"btn btn-ghost\" onClick={() => setDialogState({type: 'none'})}\n                                    disabled={editing}>Cancel\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            <style>{`\n                @keyframes slide-left {\n                    from {\n                        transform: translateX(100%);\n                    }\n                    to {\n                        transform: translateX(0);\n                    }\n                }\n            `}</style>\n        </dialog>\n    );\n};","import {INTENT_TYPES} from '@supergrowthai/next-blog-types';\nimport {IntentRegistration} from '../intent-registry';\nimport {MediaSelector} from '../components/MediaSelector';\n\nexport const MediaSelectorRegistration: IntentRegistration = {\n    intentType: INTENT_TYPES.SELECT_MEDIA,\n    component: MediaSelector,\n    launch: 'replace' // Only one media selector at a time\n};","// Main entry point for intent system\nexport {IntentProvider, useIntent} from './IntentProvider';\nexport {intentRegistry} from './intent-registry';\n\n// Import and register built-in intents\nimport {MediaSelectorRegistration} from './handlers/media-selector-handler';\nimport {intentRegistry} from './intent-registry';\n\n// Register built-in intents\nintentRegistry.register(MediaSelectorRegistration);","import {h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport {useIntent} from '../../../intent';\nimport {MediaDynamicFormField} from './types';\nimport {INTENT_TYPES} from \"@supergrowthai/next-blog-types\";\n\ninterface MediaFieldProps {\n    field: MediaDynamicFormField;\n    onChange: (key: string, value: string | null) => void;\n}\n\ninterface MediaItem {\n    _id: string;\n    filename: string;\n    url: string;\n    mimeType: string;\n    size?: number;\n}\n\nconst MediaField = ({field, onChange}: MediaFieldProps) => {\n    const {startIntent} = useIntent();\n    const [selectedMedia, setSelectedMedia] = useState<MediaItem | null>(null);\n    const [loading, setLoading] = useState(false);\n\n    // Initialize with existing value if provided\n    useEffect(() => {\n        if (field.value && field.mediaData && !selectedMedia) {\n            // Use the provided media data\n            setSelectedMedia(field.mediaData);\n        } else if (field.value && !field.mediaData && !selectedMedia) {\n            // If we have a media ID but no media object, show a placeholder\n            setSelectedMedia({\n                _id: field.value,\n                filename: 'Loading...',\n                url: '',\n                mimeType: '',\n                size: 0\n            });\n        }\n    }, [field.value, field.mediaData, selectedMedia]);\n\n    const handleSelectMedia = async () => {\n        if (!field.intentOptions) {\n            console.error('No intent options provided for media field');\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const intentOptions = {\n                options: {\n                    ...field.intentOptions.options,\n                    selectedMediaId: selectedMedia?._id\n                }\n            };\n\n            const result: { media: MediaItem } = await startIntent(INTENT_TYPES.SELECT_MEDIA, intentOptions);\n\n            if (result) {\n                setSelectedMedia(result.media);\n                onChange(field.key, result.media._id);\n            }\n        } catch (error) {\n            console.error('Error selecting media:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleRemoveMedia = () => {\n        setSelectedMedia(null);\n        onChange(field.key, null);\n    };\n\n    const renderMediaPreview = () => {\n        if (!selectedMedia) return null;\n\n        const isImage = selectedMedia.mimeType?.startsWith('image/');\n\n        return (\n            <div className=\"mt-2 p-3 border border-gray-200 rounded-md bg-gray-50\">\n                <div className=\"flex items-center justify-between\">\n                    <div\n                        className=\"flex items-center space-x-3 flex-1 cursor-pointer hover:bg-gray-100 p-2 rounded transition-colors\"\n                        onClick={handleSelectMedia}\n                        title=\"Click to replace media\"\n                    >\n                        {isImage && selectedMedia.url ? (\n                            <img\n                                src={selectedMedia.url}\n                                alt={selectedMedia.filename}\n                                className=\"w-12 h-12 object-cover rounded border\"\n                            />\n                        ) : (\n                            <div className=\"w-12 h-12 bg-gray-200 rounded border flex items-center justify-center\">\n                                <span className=\"text-xs text-gray-500\">\n                                    {selectedMedia.mimeType?.split('/')[0] || 'File'}\n                                </span>\n                            </div>\n                        )}\n                        <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-gray-900\">\n                                {selectedMedia.filename}\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                                {selectedMedia.mimeType}  {formatFileSize(selectedMedia.size || 0)}\n                            </p>\n                            <p className=\"text-xs text-blue-600 mt-1\">\n                                Click to replace\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"flex flex-col gap-1 ml-2\">\n                        <button\n                            type=\"button\"\n                            onClick={handleSelectMedia}\n                            disabled={loading || field.disabled}\n                            className=\"text-blue-600 hover:text-blue-800 text-sm px-2 py-1 border border-blue-300 rounded hover:bg-blue-50 disabled:opacity-50\"\n                        >\n                            Replace\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={handleRemoveMedia}\n                            className=\"text-red-600 hover:text-red-800 text-sm px-2 py-1 border border-red-300 rounded hover:bg-red-50\"\n                        >\n                            Remove\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"mb-4\">\n            {field.label && (\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    {field.label}\n                    {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n                </label>\n            )}\n\n            {selectedMedia ? (\n                renderMediaPreview()\n            ) : (\n                <button\n                    type=\"button\"\n                    onClick={handleSelectMedia}\n                    disabled={loading || field.disabled}\n                    className=\"w-full h-32 border-2 border-dashed border-gray-300 rounded-md flex flex-col items-center justify-center text-gray-500 hover:border-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                    {loading ? (\n                        <div className=\"flex items-center\">\n                            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600 mr-2\"></div>\n                            Opening media selector...\n                        </div>\n                    ) : (\n                        <>\n                            <svg\n                                className=\"w-8 h-8 mb-2\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                viewBox=\"0 0 24 24\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                                />\n                            </svg>\n                            <span>Select Media</span>\n                        </>\n                    )}\n                </button>\n            )}\n        </div>\n    );\n};\n\nfunction formatFileSize(bytes: number): string {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n\nexport default MediaField;","import {h} from 'preact';\nimport {DynamicFormFieldType} from './types';\nimport TextField from './TextField';\nimport TextArea from './TextArea';\nimport RichText from './RichText';\nimport PasswordField from './PasswordField';\nimport AutocompleteField from './AutocompleteField';\nimport CheckboxGroupField from './CheckboxGroupField';\nimport HiddenField from './HiddenField';\nimport MediaField from './MediaField';\n\ninterface FormFieldProps {\n    field: DynamicFormFieldType;\n    onChange: (key: string, value: any) => void;\n}\n\nconst FormField = ({field, onChange}: FormFieldProps) => {\n    switch (field.type) {\n        case 'text':\n            return <TextField field={field} onChange={onChange}/>;\n        case 'textarea':\n            return <TextArea field={field} onChange={onChange}/>;\n        case 'richtext':\n            return <RichText field={field} onChange={onChange}/>;\n        case 'password':\n            return <PasswordField field={field} onChange={onChange}/>;\n        case 'select':\n            return <AutocompleteField field={field} onChange={onChange} multiple={false}/>;\n        case 'multiselect':\n            return <AutocompleteField field={field} onChange={onChange} multiple={true}/>;\n        case 'checkboxgroup':\n            return <CheckboxGroupField field={field} onChange={onChange}/>;\n        case 'hidden':\n            return <HiddenField field={field} onChange={onChange}/>;\n        case 'media':\n            return <MediaField field={field} onChange={onChange}/>;\n        default:\n            return null;\n    }\n};\n\nexport default FormField;","import {h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport FormField from './FormField';\nimport {DynamicFormFieldType} from './types';\nimport Loader from '../../Loader';\n\ninterface DynamicFormProps {\n    id: string;\n    fields: DynamicFormFieldType[];\n    submitLabel: string;\n    apiMethod: (data: any) => Promise<any>;\n    onFieldChange?: (key: string, value: any, formData: Record<string, any>) => Record<string, any> | null; // Optional callback when field changes\n}\n\nfunction DynamicForm(props: DynamicFormProps) {\n    const {\n        id,\n        fields,\n        submitLabel,\n        apiMethod\n    } = props;\n    //IMPORTANT only used to track local formdata for apiMethod call and nothing else. we could maybe ditch it later\n    const [formData, setFormData] = useState<Record<string, any>>({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    // Initialize form data from fields\n    useEffect(() => {\n        const initialData: Record<string, any> = {};\n        fields.forEach(field => {\n            if (field.value !== undefined) {\n                // Pay special attention to hidden fields - they need to be initialized right away\n                // since the user won't be able to interact with them\n                initialData[field.key] = field.value;\n            }\n        });\n        setFormData(initialData);\n    }, [fields]);\n\n    const handleFieldChange = (key: string, value: any) => {\n        setFormData(prevData => {\n            // Process specific field types\n            const processedValue = key === 'tags' && typeof value === 'string' ? value.split(',') : value;\n\n            // Create updated data with the new value\n            const updatedData = {\n                ...prevData,\n                [key]: processedValue\n            };\n\n            // Call custom field change handler if provided\n            if (props.onFieldChange) {\n                const additionalChanges = props.onFieldChange(key, value, updatedData);\n                if (additionalChanges) {\n                    // Merge additional changes into the updated data\n                    return {...updatedData, ...additionalChanges};\n                }\n            }\n\n            return updatedData;\n        });\n    };\n\n    const handleSubmit = async (event: any) => {\n        event.preventDefault();\n        setIsSubmitting(true);\n        setError(null);\n\n        // Get rich text data from CKEditor instances\n        const richTextFields = fields.filter(field => field.type === 'richtext');\n        const richTextData: Record<string, any> = {};\n\n        richTextFields.forEach(field => {\n            const editor = (window as any).editors?.[field.key];\n            if (editor) {\n                richTextData[field.key] = editor.getData();\n            }\n        });\n\n        // Merge form data with rich text data\n        const submitData: any = {\n            ...formData,\n            ...richTextData\n        };\n\n        try {\n            //usecase: when we have a create form we dont track the data on the page. if we start handling it everywhere then we can remove this apiMethod system the problem is the richtext field data\n            await apiMethod(submitData);\n        } catch (error) {\n            console.error('Error:', error);\n            if (error instanceof Error) {\n                setError(error.message);\n            }\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <form id={id} onSubmit={handleSubmit} className=\"w-full\">\n            <div className=\"flex flex-col space-y-4\">\n                {error && (\n                    <div className=\"p-4 bg-red-100 border-l-4 border-red-500 text-red-700 mb-4\">\n                        <p>{error}</p>\n                    </div>\n                )}\n\n                {fields.map((field, index) => (\n                    <FormField\n                        key={`${field.key}-${index}`}\n                        field={field}\n                        onChange={handleFieldChange}\n                    />\n                ))}\n\n                <button\n                    type=\"submit\"\n                    disabled={isSubmitting}\n                    className={`px-4 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mt-4 ${isSubmitting ? 'opacity-70 cursor-not-allowed' : ''}`}\n                >\n                    {isSubmitting ? <div className=\"flex items-center gap-2\"><Loader size=\"sm\" text=\"\"/>Submitting...\n                    </div> : submitLabel}\n                </button>\n            </div>\n        </form>\n    );\n}\n\nexport default DynamicForm;\nexport type {DynamicFormFieldType};","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from '../../../context/UserContext';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {Category, Tag} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\nconst uniqById = <T extends { _id: string }>(arr: T[]) => {\n    const map = new Map<string, T>();\n    arr.forEach(i => map.set(i._id, i));\n    return Array.from(map.values());\n};\n\nconst toOptions = <T extends { _id: string; name: string }>(arr: T[]) =>\n    arr.map(it => ({value: it._id, label: it.name}));\n\ninterface CreateBlogProps {\n    path?: string;\n}\n\nconst CreateBlog: FunctionComponent<CreateBlogProps> = () => {\n    const location = useLocation();\n    const {apis, user, loading: userLoading} = useUser();\n    const [categories, setCategories] = useState<Category[]>([]);\n    const [tags, setTags] = useState<Tag[]>([]);\n\n    useEffect(() => {\n        // Skip if not authenticated\n        if (!user) return;\n\n        // Function to fetch categories and tags from the API\n        const fetchData = async () => {\n            try {\n                // Fetch first page of categories and tags using paginated API\n                const [catsPage1, tagsPage1] = await Promise.all([\n                    apis.getCategories({page: 1}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []),\n                    apis.getTags({page: 1}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []),\n                ]);\n\n                setCategories(catsPage1);\n                setTags(tagsPage1);\n            } catch (err) {\n                console.error('Error fetching data:', err);\n            }\n        };\n\n        fetchData();\n    }, [user, apis]);\n\n    // Functions for handling search and adding new items\n    const searchCategories = async (query: string): Promise<{ value: string; label: string }[]> => {\n        const resp = await apis.getCategories({search: query, page: 1});\n        const results: Category[] = Array.isArray(resp.payload?.data) ? resp.payload?.data : [];\n\n        return toOptions(results);\n    };\n\n    const searchTags = async (query: string): Promise<{ value: string; label: string }[]> => {\n        const resp = await apis.getTags({search: query, page: 1});\n        const results: Tag[] = Array.isArray(resp.payload?.data) ? resp.payload?.data : [];\n\n        return toOptions(results);\n    };\n\n    const addNewCategory = async (item: { value: string; label: string }) => {\n        try {\n            const response = await apis.createCategory({\n                name: item.label,\n                description: '',\n                slug: item.label.toLowerCase().replace(/\\s+/g, '-'),\n            });\n            if (response.code !== 0) throw new Error(`Failed to create category: ${response.message}`);\n            const newCategory = response.payload!;\n            setCategories(old => uniqById<Category>([...old, newCategory]));\n            return {value: newCategory._id, label: newCategory.name};\n        } catch (error) {\n            console.error('Error adding new category:', error);\n            return null;\n        }\n    };\n\n    const addNewTag = async (item: { value: string; label: string }) => {\n        try {\n            const response = await apis.createTag({\n                name: item.label,\n                slug: item.label.toLowerCase().replace(/\\s+/g, '-'),\n            });\n            if (response.code !== 0) throw new Error(`Failed to create tag: ${response.message}`);\n            const newTag = response.payload!;\n            setTags(old => uniqById<Tag>([...old, newTag]));\n            return {value: newTag._id, label: newTag.name};\n        } catch (error) {\n            console.error('Error adding new tag:', error);\n            return null;\n        }\n    };\n\n    // Define form fields\n    const fields: DynamicFormFieldType[] = [\n        {key: 'title', label: 'Title', type: 'text', required: true},\n        {\n            key: 'slug', label: 'Slug', type: 'text', required: true,\n            validator: (value: string) => {\n                const cleanedValue = value.toLowerCase().replace(/[^a-z0-9\\-]/g, '');\n\n                //multiple ways of handling the validation issues, (inform user/clean it)\n                if (cleanedValue !== value)\n                    return {isValid: false, message: \"Cannot contain special characters\"}\n\n                if (cleanedValue === value)\n                    return {isValid: true}\n\n                return {\n                    isValid: true,\n                    value: cleanedValue\n                };\n            }\n        },\n        {key: 'excerpt', label: 'Excerpt', type: 'textarea'},\n        {\n            key: 'featuredMediaId',\n            label: 'Featured Media',\n            type: 'media',\n            intentOptions: {\n                options: {\n                    mimeTypes: ['image/png', 'image/jpeg', 'image/svg+xml'],\n                    maxSize: 2 * 1024 * 1024,\n                    allowUpload: true\n                }\n            }\n        },\n        {key: 'content', label: 'Content', type: 'richtext', required: true},\n        {\n            key: 'status',\n            label: 'Status',\n            type: 'select',\n            options: [{label: \"draft\", value: \"draft\"}, {label: \"published\", value: \"published\"}],\n            value: 'draft'\n        },\n        {\n            key: 'categoryId',\n            label: 'Category',\n            type: 'select',\n            options: toOptions(categories),\n            required: true,\n            onSearch: searchCategories,\n            onAdd: addNewCategory\n        },\n        {\n            key: 'tagIds',\n            label: 'Tags',\n            type: 'multiselect',\n            options: toOptions(tags),\n            onSearch: searchTags,\n            onAdd: addNewTag\n        },\n    ];\n\n    // Handler for blog creation using the API client directly\n    const handleCreateBlog = async (data: any) => {\n        const blogData = {\n            title: data.title,\n            slug: data.slug,\n            excerpt: data.excerpt,\n            content: data.content,\n            status: data.status,\n            categoryId: data.categoryId,\n            tagIds: Array.isArray(data.tagIds) ? data.tagIds : [],\n            featuredMediaId: data.featuredMediaId || null,\n        };\n\n        const result = await apis.createBlog(blogData);\n\n        // Navigate to list page after successful creation\n        location.route('/api/next-blog/dashboard/blogs');\n\n        return result;\n    };\n\n    if (userLoading) {\n        return <div className=\"flex justify-center py-8\">Loading user information...</div>;\n    }\n\n    if (!user) {\n        return null;\n    }\n\n    return (\n        <ExtensionZone name=\"blog-create\" context={{data: {fields}}}>\n            <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-semibold\">Create New Blog</h2>\n                    <button\n                        onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                    >\n                        Back to List\n                    </button>\n                </div>\n                <ExtensionPoint name=\"blog-create-form:toolbar\" context={{fields}}/>\n                <ExtensionZone name=\"blog-create-form\" context={{data: {fields}}}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <DynamicForm\n                            id=\"createBlog\"\n                            submitLabel=\"Create Blog\"\n                            apiMethod={handleCreateBlog}\n                            fields={fields}\n                        />\n                    </div>\n                </ExtensionZone>\n            </div>\n        </ExtensionZone>\n    )\n\n};\n\nexport default CreateBlog;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useMemo, useRef, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {Blog, BlogEditorContext, Category, Media, Tag} from \"@supergrowthai/next-blog-types\";\nimport {ExtensionPoint, ExtensionZone} from \"../../components/ExtensionZone\";\n\nconst uniqById = <T extends { _id: string }>(arr: T[]) => {\n    const map = new Map<string, T>();\n    arr.forEach(i => map.set(i._id, i));\n    return Array.from(map.values());\n};\n\nconst toOptions = <T extends { _id: string; name: string }>(arr: T[]) =>\n    arr.map(it => ({value: it._id, label: it.name}));\n\nconst UpdateBlog: FunctionComponent<{ id: string }> = ({id}) => {\n    const location = useLocation();\n    const [blog, setBlog] = useState<Blog | null>(null);\n    const [formData, setFormData] = useState<Partial<Blog> | null>(null);\n\n    const [categories, setCategories] = useState<Category[]>([]);\n    const [tags, setTags] = useState<Tag[]>([]);\n    const [featuredMedia, setFeaturedMedia] = useState<Media | null>(null);\n\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const {apis} = useUser();\n    const editorRef = useRef<any>(null); // Ref to hold the CKEditor instance\n\n    const [tempRefresher, setTempRefresher] = useState(Date.now());\n\n    // --- PLUGIN EVENT HANDLING ---\n    // A simple event bus for the editor\n    const editorEventBus = useMemo(() => {\n        const listeners: Record<string, Function[]> = {};\n        return {\n            on(event: string, callback: Function) {\n                if (!listeners[event]) {\n                    listeners[event] = [];\n                }\n                listeners[event].push(callback);\n\n                return () => {\n                    this.off(event, callback)\n                }\n            },\n            off(event: string, callback: Function) {\n                if (listeners[event]) {\n                    listeners[event] = listeners[event].filter(c => c !== callback);\n                }\n            },\n            emit(event: string, data?: any) {\n                if (listeners[event]) {\n                    listeners[event].forEach(cb => cb(data));\n                }\n            },\n        };\n    }, []);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (!id) {\n                setError('No blog ID provided');\n                setLoading(false);\n                return;\n            }\n            try {\n                const blogData = await apis.getBlog(id).then(resp => resp.payload!);\n                setBlog(blogData);\n                setFormData(blogData);\n\n                const [catsPage1, tagsPage1] = await Promise.all([\n                    apis.getCategories({page: 1}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []),\n                    apis.getTags({page: 1}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []),\n                ]);\n\n                const selectedCatId: string | undefined = blogData?.categoryId;\n                const selectedTagIds: string[] = Array.isArray(blogData?.tagIds) ? blogData.tagIds : [];\n                const featuredMediaId: string | undefined = blogData?.featuredMediaId;\n\n                const needCatFetch = selectedCatId && !catsPage1.some(c => c._id === selectedCatId);\n                const needTagsFetch = selectedTagIds.length > 0 && !selectedTagIds.every(id => tagsPage1.some(t => t._id === id));\n\n                const [selectedCats, selectedTags, selectedMedia] = await Promise.all([\n                    needCatFetch ? apis.getCategories({ids: selectedCatId}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []) : Promise.resolve([]),\n                    needTagsFetch ? apis.getTags({ids: selectedTagIds.join(',')}).then(r => Array.isArray(r.payload?.data) ? r.payload?.data : []) : Promise.resolve([]),\n                    featuredMediaId ? apis.getMediaById(featuredMediaId).then(r => r.payload).catch(() => null) : Promise.resolve(null),\n                ]);\n\n                setCategories(uniqById<Category>([...catsPage1, ...selectedCats]));\n                setTags(uniqById<Tag>([...tagsPage1, ...selectedTags]));\n                setFeaturedMedia(selectedMedia || null);\n            } catch (err) {\n                console.error('Error fetching data:', err);\n                setError(err instanceof Error ? err.message : 'Unknown error');\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchData();\n    }, [id, apis]);\n\n    // --- PLUGIN CONTEXT ---\n    const pluginContext = useMemo<BlogEditorContext | undefined>(() => {\n        if (!formData || !blog) return undefined;\n        return {\n            blogId: id,\n            contentOwnerId: blog?.userId,\n            form: {\n                data: formData,\n                getCategory: () => categories.find(category => formData.categoryId === category._id),\n                getTags: () => tags.filter(tag => formData.tagIds?.includes(tag._id)),\n                on: editorEventBus.on,\n                off: editorEventBus.off\n            },\n\n            //for backward compat will remove soon and update other plugins too\n            editor: {\n                getTitle: () => formData.title || '',\n                getContent: () => formData.content || '',\n            },\n            on: editorEventBus.on,\n            off: editorEventBus.off,\n            data: blog\n        };\n    }, [id, blog, categories, tags, formData, editorEventBus, tempRefresher]);\n\n    const handleFieldChange = (key: string, value: any) => {\n        setFormData(currentFormData => {\n            const newData = {...currentFormData, [key]: value};\n            editorEventBus.emit(`${key}:change`, value);\n            return newData;\n        });\n        return null;\n    };\n\n    const searchCategories = async (query: string): Promise<{ value: string; label: string }[]> => {\n        const resp = await apis.getCategories({search: query, page: 1});\n        const results: Category[] = Array.isArray(resp.payload?.data) ? resp.payload?.data : [];\n\n        return toOptions(results);\n    };\n\n    const searchTags = async (query: string): Promise<{ value: string; label: string }[]> => {\n        const resp = await apis.getTags({search: query, page: 1});\n        const results: Tag[] = Array.isArray(resp.payload?.data) ? resp.payload?.data : [];\n\n        return toOptions(results);\n    };\n\n    const addNewCategory = async (item: { value: string; label: string }) => {\n        try {\n            const response = await apis.createCategory({\n                name: item.label,\n                description: '',\n                slug: item.label.toLowerCase().replace(/\\s+/g, '-'),\n            });\n            if (response.code !== 0) throw new Error(`Failed to create category: ${response.message}`);\n            const newCategory = response.payload!;\n            setCategories(old => uniqById<Category>([...old, newCategory]));\n            return {value: newCategory._id, label: newCategory.name};\n        } catch (error) {\n            console.error('Error adding new category:', error);\n            return null;\n        }\n    };\n\n    const addNewTag = async (item: { value: string; label: string }) => {\n        try {\n            const response = await apis.createTag({\n                name: item.label,\n                slug: item.label.toLowerCase().replace(/\\s+/g, '-'),\n            });\n            if (response.code !== 0) throw new Error(`Failed to create tag: ${response.message}`);\n            const newTag = response.payload!;\n            setTags(old => uniqById<Tag>([...old, newTag]));\n            return {value: newTag._id, label: newTag.name};\n        } catch (error) {\n            console.error('Error adding new tag:', error);\n            return null;\n        }\n    };\n\n    const handleUpdateBlog = async (data: any) => {\n        const blogData = {\n            title: data.title,\n            slug: data.slug,\n            excerpt: data.excerpt,\n            content: data.content,\n            status: data.status,\n            categoryId: data.categoryId,\n            tagIds: Array.isArray(data.tagIds) ? data.tagIds : [],\n            featuredMediaId: data.featuredMediaId || null,\n        };\n\n        const result = await apis.updateBlog(blog!._id, blogData);\n\n        location.route('/api/next-blog/dashboard/blogs');\n\n        return result;\n    };\n\n    const getFormFields = useMemo((): DynamicFormFieldType[] => {\n        if (!formData) return [];\n        return [\n            {key: 'title', label: 'Title', type: 'text', value: formData.title, required: true},\n            {\n                key: 'slug', label: 'Slug', type: 'text', value: formData.slug, required: true,\n                validator: (value: string) => {\n                    const cleanedValue = value.toLowerCase().replace(/[^a-z0-9\\-]/g, '');\n                    if (cleanedValue !== value)\n                        return {isValid: false, message: \"Cannot contain special characters\"}\n\n                    if (cleanedValue === value)\n                        return {isValid: true}\n                    return {\n                        isValid: true,\n                        value: cleanedValue\n                    };\n                }\n            },\n            {key: 'excerpt', label: 'Excerpt', type: 'textarea', value: formData.excerpt},\n            {\n                key: 'featuredMediaId',\n                label: 'Featured Media',\n                type: 'media',\n                value: formData.featuredMediaId,\n                mediaData: featuredMedia || undefined,\n                intentOptions: {\n                    options: {\n                        mimeTypes: ['image/png', 'image/jpeg', 'image/svg+xml'],\n                        maxSize: 2 * 1024 * 1024,\n                        allowUpload: true\n                    }\n                }\n            },\n            {\n                key: 'content',\n                label: 'Content',\n                type: 'richtext',\n                value: formData.content,\n                required: true,\n                ref: editorRef\n            },\n            {\n                key: 'status',\n                label: 'Status',\n                type: 'select',\n                options: [{label: \"draft\", value: \"draft\"}, {label: \"published\", value: \"published\"}],\n                value: formData.status || 'draft'\n            },\n            {\n                key: 'categoryId',\n                label: 'Category',\n                type: 'select',\n                value: formData.categoryId,\n                options: toOptions(categories),\n                required: true,\n                onSearch: searchCategories,\n                onAdd: addNewCategory\n            },\n            {\n                key: 'tagIds',\n                label: 'Tags',\n                type: 'multiselect',\n                value: formData.tagIds,\n                options: toOptions(tags),\n                onSearch: searchTags,\n                onAdd: addNewTag\n            },\n        ];\n    }, [formData, categories, tags, featuredMedia, apis, editorRef.current]);\n\n    useEffect(() => {\n        if (!!editorRef.current) return\n        const i = setInterval(() => setTempRefresher(Date.now()), 500)\n        return () => {\n            clearInterval(i);\n        }\n    }, [tempRefresher]);\n\n    return (\n        <div className=\"max-w-7xl mx-auto p-2 md:p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Update Blog</h2>\n                <button onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\">\n                    Back to List\n                </button>\n            </div>\n            {loading ? <p>Loading blog data...</p> : error ?\n                <div className=\"p-4 bg-red-100 text-red-800 rounded\">Error: {error}</div> : !blog || !formData ?\n                    <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded\">Blog not found</div> : (\n                        <ExtensionZone name=\"blog-update-form\" context={pluginContext}>\n                            <div className=\"flex flex-col md:flex-row gap-8\">\n                                <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                                    <ExtensionPoint name=\"blog-update-before\" context={pluginContext}/>\n                                    <DynamicForm\n                                        id=\"updateBlog\"\n                                        submitLabel=\"Update Blog\"\n                                        apiMethod={handleUpdateBlog}\n                                        fields={getFormFields}\n                                        onFieldChange={handleFieldChange}\n                                    />\n                                    <ExtensionPoint name=\"blog-update-after\" context={pluginContext}/>\n                                </div>\n                                <div className=\"w-full md:w-1/3 lg:w-1/4 flex-shrink-0\">\n                                    <div className=\"sticky flex flex-col gap-2\">\n                                        {/*for backward compat*/}\n                                        <ExtensionPoint name=\"editor-sidebar-widget\" context={pluginContext}/>\n                                        <ExtensionPoint name=\"blog-update-sidebar-widget\" context={pluginContext}/>\n                                    </div>\n                                </div>\n                            </div>\n                        </ExtensionZone>\n                    )}\n        </div>\n    );\n};\n\nexport default UpdateBlog;\n","import {h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {Permission, User} from '@supergrowthai/next-blog-types';\nimport {useUser} from '../../../context/UserContext';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\n\nconst UserList = () => {\n    const location = useLocation();\n    const {hasPermission, apis} = useUser();\n\n    const {\n        entities: users,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        handlePageChange,\n        handleDelete,\n        page\n    } = useEntityList<User>({\n        fetchFn: apis.getUsers.bind(apis),\n        deleteFn: apis.deleteUser.bind(apis),\n        entityName: 'user'\n    });\n\n\n    // Helper function to display a user's permissions in a readable format\n    const formatPermissions = (permissions: Permission[]): string => {\n        if (!permissions || permissions.length === 0) return 'None';\n\n        // Check for admin permission\n        if (permissions.includes('all:all')) return 'Administrator';\n\n        // Show first 3 permissions with a count if there are more\n        const displayedPermissions = permissions.slice(0, 3).join(', ');\n        return permissions.length > 3 ?\n            `${displayedPermissions} and ${permissions.length - 3} more` :\n            displayedPermissions;\n    };\n\n    return (\n        <ExtensionZone name=\"users-list\" context={{data: users}}>\n            <div className=\"p-4\">\n                <ListPage paginationLoading={paginationLoading}>\n                    <ListPage.Header>\n                        <h1 className=\"text-2xl font-bold\">Users</h1>\n                        {hasPermission('users:create') && (\n                            <a\n                                href=\"/api/next-blog/dashboard/users/create\"\n                                className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                            >\n                                Add New User\n                            </a>\n                        )}\n                    </ListPage.Header>\n\n                    <ExtensionPoint name=\"users-list-toolbar\" context={{users}}/>\n\n                    <ListPage.Content\n                        loading={paginationLoading}\n                        error={error}\n                        empty={users.length === 0}\n                        emptyMessage=\"No users found.\"\n                    >\n                        <ExtensionZone name=\"users-table\" context={{data: users}}>\n                            <div className=\"overflow-x-auto\">\n                                <table className=\"min-w-full bg-white border border-gray-200\">\n                                    <thead>\n                                    <tr className=\"bg-gray-100\">\n                                        <th className=\"py-2 px-4 border-b text-left\">Name</th>\n                                        <th className=\"py-2 px-4 border-b text-left\">Username</th>\n                                        <th className=\"py-2 px-4 border-b text-left\">Email</th>\n                                        <th className=\"py-2 px-4 border-b text-left\">Permissions</th>\n                                        <th className=\"py-2 px-4 border-b text-left\">Actions</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {users.map(user => (\n                                        <>\n                                            <ExtensionPoint name=\"user-item:before\" context={{user}}/>\n                                            <tr key={user._id} className=\"hover:bg-gray-50\">\n                                                <td className=\"py-2 px-4 border-b\">{user.name}</td>\n                                                <td className=\"py-2 px-4 border-b\">{user.username}</td>\n                                                <td className=\"py-2 px-4 border-b\">{user.email}</td>\n                                                <td className=\"py-2 px-4 border-b\">{formatPermissions(user.permissions)}</td>\n                                                <td className=\"py-2 px-4 border-b\">\n                                                    <div className=\"flex space-x-2\">\n                                                        {hasPermission('users:update') && !user.isSystem && (\n                                                            <a\n                                                                href={`/api/next-blog/dashboard/users/${user._id}`}\n                                                                className=\"text-blue-500 hover:text-blue-700\"\n                                                            >\n                                                                Edit\n                                                            </a>\n                                                        )}\n                                                        {hasPermission('users:delete') && !user.isSystem && (\n                                                            <button\n                                                                onClick={() => handleDelete(user, 'Are you sure you want to delete this user?')}\n                                                                disabled={deletingIds.has(user._id)}\n                                                                className=\"text-red-500 hover:text-red-700 disabled:opacity-50\"\n                                                            >\n                                                                {deletingIds.has(user._id) ?\n                                                                    <Loader size=\"sm\" text=\"\"/> : 'Delete'}\n                                                            </button>\n                                                        )}\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <ExtensionPoint name=\"user-item:after\" context={{user}}/>\n                                        </>\n                                    ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </ExtensionZone>\n                    </ListPage.Content>\n\n                    <PaginationControls\n                        pagination={pagination}\n                        currentPage={page}\n                        dataLength={users.length}\n                        onPageChange={handlePageChange}\n                        loading={paginationLoading}\n                    />\n                </ListPage>\n            </div>\n        </ExtensionZone>\n    );\n};\n\nexport default UserList;","import {FunctionComponent, h} from 'preact';\nimport {useState} from 'preact/hooks';\nimport {Permission} from '@supergrowthai/next-blog-types';\nimport {useLocation} from 'preact-iso/router';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from '../../../context/UserContext';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\ninterface CreateUserProps {\n    path?: string;\n}\n\nconst CreateUser: FunctionComponent<CreateUserProps> = () => {\n    const location = useLocation();\n    const {apis} = useUser(); // Get API client from context\n    const [availablePermissions] = useState<Permission[]>([\n        'blogs:list', 'blogs:read', 'blogs:create', 'blogs:update', 'blogs:delete',\n        'categories:list', 'categories:read', 'categories:create', 'categories:update', 'categories:delete',\n        'tags:list', 'tags:read', 'tags:create', 'tags:update', 'tags:delete',\n        'users:list', 'users:read', 'users:create', 'users:update', 'users:delete',\n        'media:list', 'media:read', 'media:create', 'media:update', 'media:delete',\n        'blogs:all', 'categories:all', 'tags:all', 'users:all', 'media:all',\n        'all:list', 'all:read', 'all:create', 'all:update', 'all:delete', 'all:all'\n    ]);\n\n    // Group permissions by entity type for better UI organization\n    const groupPermissions = (permissions: Permission[]): Record<string, Permission[]> => {\n        const grouped: Record<string, Permission[]> = {};\n        permissions.forEach(permission => {\n            const [entity] = permission.split(':') as [string, string];\n            if (!grouped[entity]) {\n                grouped[entity] = [];\n            }\n            grouped[entity].push(permission);\n        });\n        return grouped;\n    };\n    const groupedPermissions = groupPermissions(availablePermissions);\n\n    // Define form fields\n    const fields: DynamicFormFieldType[] = [\n        {key: 'username', label: 'Username', type: 'text', required: true},\n        {key: 'email', label: 'Email', type: 'text', required: true},\n        {key: 'name', label: 'Name', type: 'text', required: true},\n        {\n            key: 'slug',\n            label: 'Slug',\n            type: 'text',\n            required: true,\n            placeholder: 'URL-friendly identifier. Auto-generated from name if left empty.'\n        },\n        {key: 'password', label: 'Password', type: 'password', required: true},\n        {key: 'bio', label: 'Bio', type: 'textarea'},\n        {\n            key: 'permissions',\n            label: 'User Permissions',\n            type: 'checkboxgroup',\n            value: ['blogs:read', 'blogs:list'], // Default permissions\n            groupedOptions: groupedPermissions,\n            showLabels: true\n        }\n    ]\n\n    // Auto-generate slug from name if slug is empty\n    const handleFieldChange = (key: string, value: any, formData: any) => {\n        // This function will be called by DynamicForm after field changes\n        // We can use it to implement auto-slug generation\n\n        if (key === 'name' && value && !formData.slug) {\n            const slug = value.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n            // Return an object of additional field updates to apply\n            return {slug};\n        }\n        return null;\n    };\n\n    // Handle the form submission through the API client\n    const handleCreateUser = async (formData: any) => {\n        try {\n            const response = await apis.createUser(formData);\n\n            if (response.code !== 0) {\n                throw new Error(response.message || 'Failed to create user');\n            }\n\n            // Navigate to list page after successful creation\n            location.route('/api/next-blog/dashboard/users');\n\n            return response;\n        } catch (err) {\n            console.error('Error creating user:', err);\n            throw err;\n        }\n    };\n\n    return (\n        <ExtensionZone name=\"user-create\" context={{data: {fields}}}>\n            <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-semibold\">Create New User</h2>\n                    <button\n                        onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                    >\n                        Back to List\n                    </button>\n                </div>\n\n                <ExtensionPoint name=\"user-create-form:toolbar\" context={{fields, availablePermissions}}/>\n                <ExtensionZone name=\"user-create-form\" context={{data: {fields, availablePermissions}}}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <DynamicForm\n                            id=\"createUser\"\n                            submitLabel=\"Create User\"\n                            fields={fields}\n                            apiMethod={handleCreateUser}\n                            onFieldChange={handleFieldChange}\n                        />\n                    </div>\n                </ExtensionZone>\n            </div>\n        </ExtensionZone>\n    );\n};\n\nexport default CreateUser;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useMemo, useState} from 'preact/hooks';\nimport {Permission, User, UserEditorContext} from '@supergrowthai/next-blog-types';\nimport {useLocation} from 'preact-iso/router';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from '../../../context/UserContext';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\ninterface UpdateUserProps {\n    path?: string;\n    id?: string;\n}\n\nconst UpdateUser: FunctionComponent<UpdateUserProps> = ({id: propId}) => {\n    const location = useLocation();\n    const {apis} = useUser(); // Get API client from context\n    const [userId, setUserId] = useState<string>('');\n    const [user, setUser] = useState<User | null>(null);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n    const [availablePermissions] = useState<Permission[]>([\n        'blogs:list', 'blogs:read', 'blogs:create', 'blogs:update', 'blogs:delete',\n        'categories:list', 'categories:read', 'categories:create', 'categories:update', 'categories:delete',\n        'tags:list', 'tags:read', 'tags:create', 'tags:update', 'tags:delete',\n        'users:list', 'users:read', 'users:create', 'users:update', 'users:delete',\n        'media:list', 'media:read', 'media:create', 'media:update', 'media:delete',\n        'blogs:all', 'categories:all', 'tags:all', 'users:all', 'media:all',\n        'all:list', 'all:read', 'all:create', 'all:update', 'all:delete', 'all:all'\n    ]);\n\n    // Parse user ID from query string or props\n    useEffect(() => {\n        if (propId) {\n            setUserId(propId);\n        } else {\n            const params = new URLSearchParams(location.query);\n            const queryId = params.get('id');\n            if (queryId) {\n                setUserId(queryId);\n            } else {\n                setError('No user ID provided');\n                setLoading(false);\n            }\n        }\n    }, [location, propId]);\n\n    // Fetch user data\n    useEffect(() => {\n        if (!userId) return;\n\n        const fetchUser = async () => {\n            setLoading(true);\n            setError(null);\n\n            try {\n                const response = await apis.getUser(userId);\n\n                if (response.code === 0 && response.payload) {\n                    const userData = response.payload;\n                    setUser(userData);\n                } else {\n                    setError(response.message || 'Failed to fetch user data');\n                }\n            } catch (err) {\n                setError('An error occurred while fetching user data');\n                console.error('Error fetching user:', err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchUser();\n    }, [userId]);\n\n    // Group permissions by entity type for better UI organization\n    const groupPermissions = (permissions: Permission[]): Record<string, Permission[]> => {\n        const grouped: Record<string, Permission[]> = {};\n        permissions.forEach(permission => {\n            const [entity] = permission.split(':') as [string, string];\n            if (!grouped[entity]) {\n                grouped[entity] = [];\n            }\n            grouped[entity].push(permission);\n        });\n        return grouped;\n    };\n\n    // Define form fields based on user data\n    const getFormFields = (): DynamicFormFieldType[] => {\n        if (!user) return [];\n\n        // Group permissions for UI display\n        const groupedPermissions = groupPermissions(availablePermissions);\n\n        const fields: DynamicFormFieldType[] = [\n            {key: 'username', label: 'Username', type: 'text', value: user.username, required: true},\n            {key: 'email', label: 'Email', type: 'text', value: user.email, required: true},\n            {key: 'name', label: 'Name', type: 'text', value: user.name, required: true},\n            {\n                key: 'slug',\n                label: 'Slug',\n                type: 'text',\n                value: user.slug,\n                required: true,\n                placeholder: 'URL-friendly identifier'\n            },\n            {key: 'password', label: 'Password (leave blank to keep current)', type: 'password', value: ''},\n            {key: 'bio', label: 'Bio', type: 'textarea', value: user.bio || ''},\n            {\n                key: 'permissions',\n                label: 'User Permissions',\n                type: 'checkboxgroup',\n                value: user.permissions || [],\n                groupedOptions: groupedPermissions,\n                showLabels: true\n            }\n        ];\n\n        return fields;\n    };\n\n    // Handle the form submission through the API client\n    const handleUpdateUser = async (formData: any) => {\n        if (!userId) return;\n\n        try {\n            // Transform formData to include permissions if needed\n            const response = await apis.updateUser(userId, formData);\n\n            if (response.code !== 0) {\n                throw new Error(response.message || 'Failed to update user');\n            }\n\n            location.route('/api/next-blog/dashboard/users');\n\n            return response;\n        } catch (err) {\n            console.error('Error updating user:', err);\n            throw err;\n        }\n    };\n\n    // Event bus for form field changes\n    const eventBus = useMemo(() => {\n        const listeners: Record<string, Function[]> = {};\n        return {\n            on(event: string, callback: Function) {\n                if (!listeners[event]) {\n                    listeners[event] = [];\n                }\n                listeners[event].push(callback);\n                return () => this.off(event, callback);\n            },\n            off(event: string, callback: Function) {\n                if (listeners[event]) {\n                    listeners[event] = listeners[event].filter(c => c !== callback);\n                }\n            },\n            emit(event: string, data?: any) {\n                if (listeners[event]) {\n                    listeners[event].forEach(cb => cb(data));\n                }\n            },\n        };\n    }, []);\n\n    const handleFieldChange = (key: string, value: any) => {\n        eventBus.emit(`${key}:change`, value);\n        return null;\n    };\n\n    const context = useMemo<UserEditorContext | undefined>(() => {\n        if (!user) return undefined;\n        return {\n            userId,\n            data: user,\n            form: {\n                data: user,\n                on: eventBus.on,\n                off: eventBus.off,\n                availablePermissions\n            }\n        };\n    }, [userId, user, availablePermissions, eventBus]);\n\n    return (\n        <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Update User</h2>\n                <button\n                    onClick={() => window.history.back()}\n                    className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                >\n                    Back to List\n                </button>\n            </div>\n\n            {loading ? (\n                <p>Loading user data...</p>\n            ) : error ? (\n                <div className=\"p-4 bg-red-100 text-red-800 rounded\">\n                    Error: {error}\n                </div>\n            ) : !user ? (\n                <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded\">\n                    User not found\n                </div>\n            ) : (\n                <ExtensionZone name=\"user-update-form\" context={context}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <ExtensionPoint name=\"user-update-before\" context={context}/>\n                        <DynamicForm\n                            id=\"updateUser\"\n                            submitLabel=\"Update User\"\n                            fields={getFormFields()}\n                            apiMethod={handleUpdateUser}\n                            onFieldChange={handleFieldChange}\n                        />\n                        <ExtensionPoint name=\"user-update-after\" context={context}/>\n                    </div>\n                    <ExtensionPoint name=\"user-update-sidebar-widget\" context={context}/>\n                </ExtensionZone>\n            )}\n        </div>\n    );\n};\n\nexport default UpdateUser;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\n\ninterface CategoriesListProps {\n    path?: string;\n}\n\n// Simple Category interface\ninterface Category {\n    _id: string;\n    name: string;\n    slug?: string;\n    createdAt?: number;\n    updatedAt?: number;\n}\n\nconst CategoriesList: FunctionComponent<CategoriesListProps> = () => {\n    const location = useLocation();\n    const {hasPermission, apis} = useUser();\n\n    const {\n        entities: categories,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        handlePageChange,\n        handleDelete,\n        page\n    } = useEntityList<Category>({\n        fetchFn: apis.getCategories.bind(apis),\n        deleteFn: apis.deleteCategory.bind(apis),\n        entityName: 'category'\n    });\n\n    const formatDate = (timestamp?: number) => {\n        return timestamp ? new Date(timestamp).toLocaleDateString() : 'N/A';\n    };\n\n\n    return (\n        <ExtensionZone name=\"categories-list\" context={{data: categories}}>\n            <ListPage paginationLoading={paginationLoading}>\n                <ListPage.Header>\n                    <h2 className=\"text-xl font-semibold m-0\">Categories</h2>\n                    {hasPermission('categories:create') && (\n                        <a\n                            href=\"/api/next-blog/dashboard/categories/create\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                location.route('/api/next-blog/dashboard/categories/create');\n                            }}\n                            className=\"inline-block bg-blue-500 hover:bg-blue-600 text-white no-underline px-4 py-2 rounded\"\n                        >\n                            Create New Category\n                        </a>\n                    )}\n                </ListPage.Header>\n\n                <ExtensionPoint name=\"categories-list-toolbar\" context={{categories}}/>\n\n                <ListPage.Content\n                    loading={paginationLoading}\n                    error={error}\n                    empty={categories.length === 0}\n                    emptyMessage=\"No categories found.\"\n                >\n                    <ExtensionZone name=\"categories-table\" context={{data: categories}}>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full border-collapse\">\n                                <thead>\n                                <tr className=\"bg-gray-100\">\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Name</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Slug</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Created</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Actions</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {categories.map(category => (\n                                    <>\n                                        <ExtensionPoint name=\"category-item:before\" context={{category}}/>\n                                        <tr key={category._id} className=\"border-b border-gray-200 hover:bg-gray-50\">\n                                            <td className=\"p-3\">{category.name}</td>\n                                            <td className=\"p-3\">{category.slug || 'N/A'}</td>\n                                            <td className=\"p-3\">{formatDate(category.createdAt)}</td>\n                                            <td className=\"p-3\">\n                                                {hasPermission('categories:update') && (\n                                                    <a\n                                                        href={`/api/next-blog/dashboard/categories/${category._id}`}\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            location.route(`/api/next-blog/dashboard/categories/${category._id}`);\n                                                        }}\n                                                        className=\"text-blue-500 hover:text-blue-700 no-underline mr-3\"\n                                                    >\n                                                        Edit\n                                                    </a>\n                                                )}\n                                                {hasPermission('categories:delete') && (\n                                                    <button\n                                                        onClick={() => handleDelete(category, `Are you sure you want to delete the category \"${category.name}\"?`)}\n                                                        disabled={deletingIds.has(category._id)}\n                                                        className=\"text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer p-0 font-inherit disabled:opacity-50\"\n                                                    >\n                                                        {deletingIds.has(category._id) ?\n                                                            <Loader size=\"sm\" text=\"\"/> : 'Delete'}\n                                                    </button>\n                                                )}\n                                            </td>\n                                        </tr>\n                                        <ExtensionPoint name=\"category-item:after\" context={{category}}/>\n                                    </>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </ExtensionZone>\n                </ListPage.Content>\n\n                <PaginationControls\n                    pagination={pagination}\n                    currentPage={page}\n                    dataLength={categories.length}\n                    onPageChange={handlePageChange}\n                    loading={paginationLoading}\n                />\n            </ListPage>\n        </ExtensionZone>\n    );\n};\n\nexport default CategoriesList;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {useUser} from '../../../context/UserContext';\n\ninterface CreateCategoryProps {\n    path?: string;\n}\n\nconst CreateCategory: FunctionComponent<CreateCategoryProps> = () => {\n    const location = useLocation();\n    const {apis} = useUser();\n\n    // Define form fields\n    const fields: DynamicFormFieldType[] = [\n        {key: 'name', label: 'Name', type: 'text', required: true},\n        {key: 'slug', label: 'Slug', type: 'text', required: true},\n        {key: 'description', label: 'Description', type: 'textarea'},\n    ];\n\n    const handleCreateCategory = async (data: any) => {\n        const result = await apis.createCategory(data);\n        location.route('/api/next-blog/dashboard/categories');\n        return result;\n    };\n\n    return (\n        <ExtensionZone name=\"category-create\" context={{data: {fields}}}>\n            <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-semibold\">Create New Category</h2>\n                    <button\n                        onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                    >\n                        Back to List\n                    </button>\n                </div>\n\n                <ExtensionPoint name=\"category-create-form:toolbar\" context={{fields}}/>\n                <ExtensionZone name=\"category-create-form\" context={{data: {fields}}}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <DynamicForm\n                            id=\"createCategory\"\n                            submitLabel=\"Create Category\"\n                            fields={fields}\n                            apiMethod={handleCreateCategory}\n                        />\n                    </div>\n                </ExtensionZone>\n            </div>\n        </ExtensionZone>\n    );\n};\n\nexport default CreateCategory;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useMemo, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {Category, CategoryEditorContext} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\ninterface UpdateCategoryProps {\n    path?: string;\n    id?: string;\n}\n\nconst UpdateCategory: FunctionComponent<UpdateCategoryProps> = ({id}) => {\n    const location = useLocation();\n    const [category, setCategory] = useState<Category | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const {apis} = useUser();\n\n    useEffect(() => {\n        // Function to fetch category from the API\n        const fetchCategory = async () => {\n            if (!id) {\n                setError('No category ID provided');\n                setLoading(false);\n                return;\n            }\n\n            try {\n                // Fetch category data from API\n                const response = await apis.getCategory(id);\n\n                if (response.code !== 0) {\n                    throw new Error(`Error fetching category: ${response.message}`);\n                }\n\n                const data = response.payload!;\n                setCategory(data);\n                setLoading(false);\n            } catch (err) {\n                console.error('Error fetching category:', err);\n                setError(err instanceof Error ? err.message : 'Unknown error');\n                setLoading(false);\n\n            }\n        };\n\n        fetchCategory();\n    }, [id]);\n\n    // Define form fields based on category data\n    const getFormFields = (): DynamicFormFieldType[] => {\n        if (!category) return [];\n\n        return [\n            {key: 'id', label: 'ID', type: 'text', value: category._id, disabled: true},\n            {key: 'name', label: 'Name', type: 'text', value: category.name, required: true},\n            {key: 'slug', label: 'Slug', type: 'text', value: category.slug, required: true},\n            {key: 'description', label: 'Description', type: 'textarea', value: category.description || ''},\n        ];\n    };\n\n    // Event bus for form field changes\n    const eventBus = useMemo(() => {\n        const listeners: Record<string, Function[]> = {};\n        return {\n            on(event: string, callback: Function) {\n                if (!listeners[event]) {\n                    listeners[event] = [];\n                }\n                listeners[event].push(callback);\n                return () => this.off(event, callback);\n            },\n            off(event: string, callback: Function) {\n                if (listeners[event]) {\n                    listeners[event] = listeners[event].filter(c => c !== callback);\n                }\n            },\n            emit(event: string, data?: any) {\n                if (listeners[event]) {\n                    listeners[event].forEach(cb => cb(data));\n                }\n            },\n        };\n    }, []);\n\n    const handleFieldChange = (key: string, value: any) => {\n        eventBus.emit(`${key}:change`, value);\n        return null;\n    };\n\n    const handleUpdateCategory = async (data: any) => {\n        const result = await apis.updateCategory(category!._id, data);\n        location.route('/api/next-blog/dashboard/categories');\n        return result;\n    };\n\n    const context = useMemo<CategoryEditorContext | undefined>(() => {\n        if (!category) return undefined;\n        return {\n            categoryId: id!,\n            data: category,\n            form: {\n                data: category,\n                on: eventBus.on,\n                off: eventBus.off\n            }\n        };\n    }, [id, category, eventBus]);\n\n    return (\n        <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Update Category</h2>\n                <button\n                    onClick={() => window.history.back()}\n                    className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                >\n                    Back to List\n                </button>\n            </div>\n\n            {loading ? (\n                <p>Loading category data...</p>\n            ) : error ? (\n                <div className=\"p-4 bg-red-100 text-red-800 rounded\">\n                    Error: {error}\n                </div>\n            ) : !category ? (\n                <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded\">\n                    Category not found\n                </div>\n            ) : (\n                <ExtensionZone name=\"category-update-form\" context={context}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <ExtensionPoint name=\"category-update-before\" context={context}/>\n                        <DynamicForm\n                            id=\"updateCategory\"\n                            submitLabel=\"Update Category\"\n                            apiMethod={handleUpdateCategory}\n                            fields={getFormFields()}\n                            onFieldChange={handleFieldChange}\n                        />\n                        <ExtensionPoint name=\"category-update-after\" context={context}/>\n                    </div>\n                    <ExtensionPoint name=\"category-update-sidebar-widget\" context={context}/>\n                </ExtensionZone>\n            )}\n        </div>\n    );\n};\n\nexport default UpdateCategory;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\n\ninterface TagsListProps {\n    path?: string;\n}\n\n// Simple Tag interface\ninterface Tag {\n    _id: string;\n    name: string;\n    slug?: string;\n    createdAt?: number;\n    updatedAt?: number;\n}\n\nconst TagsList: FunctionComponent<TagsListProps> = () => {\n    const location = useLocation();\n    const {hasPermission, apis} = useUser();\n\n    const {\n        entities: tags,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        handlePageChange,\n        handleDelete,\n        page\n    } = useEntityList<Tag>({\n        fetchFn: apis.getTags.bind(apis),\n        deleteFn: apis.deleteTag.bind(apis),\n        entityName: 'tag'\n    });\n\n    // Format date for display\n    const formatDate = (timestamp?: number) => {\n        return timestamp ? new Date(timestamp).toLocaleDateString() : 'N/A';\n    };\n\n\n    return (\n        <ExtensionZone name=\"tags-list\" context={{data: tags}}>\n            <ListPage paginationLoading={paginationLoading}>\n                <ListPage.Header>\n                    <h2 className=\"text-xl font-semibold m-0\">Tags</h2>\n                    {hasPermission('tags:create') && (\n                        <a\n                            href=\"/api/next-blog/dashboard/tags/create\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                location.route('/api/next-blog/dashboard/tags/create');\n                            }}\n                            className=\"inline-block bg-blue-500 hover:bg-blue-600 text-white no-underline px-4 py-2 rounded\"\n                        >\n                            Create New Tag\n                        </a>\n                    )}\n                </ListPage.Header>\n\n                <ExtensionPoint name=\"tags-list-toolbar\" context={{tags}}/>\n\n                <ListPage.Content\n                    loading={paginationLoading}\n                    error={error}\n                    empty={tags.length === 0}\n                    emptyMessage=\"No tags found.\"\n                >\n                    <ExtensionZone name=\"tags-table\" context={{data: tags}}>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full border-collapse\">\n                                <thead>\n                                <tr className=\"bg-gray-100\">\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Name</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Slug</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Created</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Actions</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {tags.map(tag => (\n                                    <>\n                                        <ExtensionPoint name=\"tag-item:before\" context={{tag}}/>\n                                        <tr key={tag._id} className=\"border-b border-gray-200 hover:bg-gray-50\">\n                                            <td className=\"p-3\">{tag.name}</td>\n                                            <td className=\"p-3\">{tag.slug || 'N/A'}</td>\n                                            <td className=\"p-3\">{formatDate(tag.createdAt)}</td>\n                                            <td className=\"p-3\">\n                                                {hasPermission('tags:update') && (\n                                                    <a\n                                                        href={`/api/next-blog/dashboard/tags/${tag._id}`}\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            location.route(`/api/next-blog/dashboard/tags/${tag._id}`);\n                                                        }}\n                                                        className=\"text-blue-500 hover:text-blue-700 no-underline mr-3\"\n                                                    >\n                                                        Edit\n                                                    </a>\n                                                )}\n                                                {hasPermission('tags:delete') && (\n                                                    <button\n                                                        onClick={() => handleDelete(tag, `Are you sure you want to delete the tag \"${tag.name}\"?`)}\n                                                        disabled={deletingIds.has(tag._id)}\n                                                        className=\"text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer p-0 font-inherit disabled:opacity-50\"\n                                                    >\n                                                        {deletingIds.has(tag._id) ?\n                                                            <Loader size=\"sm\" text=\"\"/> : 'Delete'}\n                                                    </button>\n                                                )}\n                                            </td>\n                                        </tr>\n                                        <ExtensionPoint name=\"tag-item:after\" context={{tag}}/>\n                                    </>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </ExtensionZone>\n                </ListPage.Content>\n\n                <PaginationControls\n                    pagination={pagination}\n                    currentPage={page}\n                    dataLength={tags.length}\n                    onPageChange={handlePageChange}\n                    loading={paginationLoading}\n                />\n            </ListPage>\n        </ExtensionZone>\n    );\n};\n\nexport default TagsList;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {useUser} from '../../../context/UserContext';\n\ninterface CreateTagProps {\n    path?: string;\n}\n\nconst CreateTag: FunctionComponent<CreateTagProps> = () => {\n    const location = useLocation();\n    const {apis} = useUser();\n\n    // Define form fields\n    const fields: DynamicFormFieldType[] = [\n        {key: 'name', label: 'Name', type: 'text', required: true},\n        {key: 'slug', label: 'Slug', type: 'text', required: true},\n        {key: 'description', label: 'Description', type: 'textarea'},\n    ];\n\n    const handleCreateTag = async (data: any) => {\n        const result = await apis.createTag(data);\n        location.route('/api/next-blog/dashboard/tags');\n        return result;\n    };\n\n    return (\n        <ExtensionZone name=\"tag-create\" context={{data: {fields}}}>\n            <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-semibold\">Create New Tag</h2>\n                    <button\n                        onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                    >\n                        Back to List\n                    </button>\n                </div>\n\n                <ExtensionPoint name=\"tag-create-form:toolbar\" context={{fields}}/>\n                <ExtensionZone name=\"tag-create-form\" context={{data: {fields}}}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <DynamicForm\n                            id=\"createTag\"\n                            submitLabel=\"Create Tag\"\n                            fields={fields}\n                            apiMethod={handleCreateTag}\n                        />\n                    </div>\n                </ExtensionZone>\n            </div>\n        </ExtensionZone>\n    );\n};\n\nexport default CreateTag;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useMemo, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {Tag, TagEditorContext} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\ninterface UpdateTagProps {\n    path?: string;\n    id?: string;\n}\n\nconst UpdateTag: FunctionComponent<UpdateTagProps> = ({id}) => {\n    const location = useLocation();\n    const [tag, setTag] = useState<Tag | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const {apis} = useUser();\n\n    useEffect(() => {\n        // Function to fetch tag from the API\n        const fetchTag = async () => {\n            if (!id) {\n                setError('No tag ID provided');\n                setLoading(false);\n                return;\n            }\n\n            try {\n                // Fetch tag data from API\n                const response = await apis.getTag(id);\n\n                if (response.code !== 0) {\n                    throw new Error(`Error fetching tag: ${response.message}`);\n                }\n\n                const data = response.payload!;\n                setTag(data);\n                setLoading(false);\n            } catch (err) {\n                console.error('Error fetching tag:', err);\n                setError(err instanceof Error ? err.message : 'Unknown error');\n                setLoading(false);\n            }\n        };\n\n        fetchTag();\n    }, [id]);\n\n    // Define form fields based on tag data\n    const getFormFields = (): DynamicFormFieldType[] => {\n        if (!tag) return [];\n\n        return [\n            {key: 'id', label: 'ID', type: 'text', value: tag._id, disabled: true},\n            {key: 'name', label: 'Name', type: 'text', value: tag.name, required: true},\n            {key: 'slug', label: 'Slug', type: 'text', value: tag.slug, required: true},\n            {key: 'description', label: 'Description', type: 'textarea', value: tag.description || ''},\n        ];\n    };\n\n    // Event bus for form field changes\n    const eventBus = useMemo(() => {\n        const listeners: Record<string, Function[]> = {};\n        return {\n            on(event: string, callback: Function) {\n                if (!listeners[event]) {\n                    listeners[event] = [];\n                }\n                listeners[event].push(callback);\n                return () => this.off(event, callback);\n            },\n            off(event: string, callback: Function) {\n                if (listeners[event]) {\n                    listeners[event] = listeners[event].filter(c => c !== callback);\n                }\n            },\n            emit(event: string, data?: any) {\n                if (listeners[event]) {\n                    listeners[event].forEach(cb => cb(data));\n                }\n            },\n        };\n    }, []);\n\n    const handleFieldChange = (key: string, value: any) => {\n        eventBus.emit(`${key}:change`, value);\n        return null;\n    };\n\n    const handleUpdateTag = async (data: any) => {\n        const result = await apis.updateTag(tag!._id, data);\n        location.route('/api/next-blog/dashboard/tags');\n        return result;\n    };\n\n    const context = useMemo<TagEditorContext | undefined>(() => {\n        if (!tag) return undefined;\n        return {\n            tagId: id!,\n            data: tag,\n            form: {\n                data: tag,\n                on: eventBus.on,\n                off: eventBus.off\n            }\n        };\n    }, [id, tag, eventBus]);\n\n    return (\n        <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Update Tag</h2>\n                <button\n                    onClick={() => window.history.back()}\n                    className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                >\n                    Back to List\n                </button>\n            </div>\n\n            {loading ? (\n                <p>Loading tag data...</p>\n            ) : error ? (\n                <div className=\"p-4 bg-red-100 text-red-800 rounded\">\n                    Error: {error}\n                </div>\n            ) : !tag ? (\n                <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded\">\n                    Tag not found\n                </div>\n            ) : (\n                <ExtensionZone name=\"tag-update-form\" context={context}>\n\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <ExtensionPoint name=\"tag-update-before\" context={context}/>\n                        <DynamicForm\n                            id=\"updateTag\"\n                            submitLabel=\"Update Tag\"\n                            apiMethod={handleUpdateTag}\n                            fields={getFormFields()}\n                            onFieldChange={handleFieldChange}\n                        />\n                        <ExtensionPoint name=\"tag-update-after\" context={context}/>\n                    </div>\n                    <ExtensionPoint name=\"tag-update-sidebar-widget\" context={context}/>\n                </ExtensionZone>\n            )}\n        </div>\n    );\n};\n\nexport default UpdateTag;","import {FunctionComponent, h} from 'preact';\nimport {useLocation} from 'preact-iso';\nimport {useState} from 'preact/hooks';\nimport {useUser} from '../../../context/UserContext';\nimport {ExtendedSettingsEntry} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\n\ninterface SettingsListProps {\n    path?: string;\n}\n\nconst SettingsList: FunctionComponent<SettingsListProps> = () => {\n    const location = useLocation();\n    const {apis, hasPermission} = useUser();\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const [search, setSearch] = useState(urlParams.get('search') || '');\n\n    const updateSearchURL = (newSearch: string) => {\n        const params = new URLSearchParams(window.location.search);\n        if (newSearch) {\n            params.set('search', newSearch);\n        } else {\n            params.delete('search');\n        }\n        const newURL = window.location.pathname + (params.toString() ? '?' + params.toString() : '');\n        window.history.replaceState({}, '', newURL);\n    };\n\n    const {\n        entities: settings,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        handlePageChange,\n        handleDelete,\n        page\n    } = useEntityList<ExtendedSettingsEntry>({\n        fetchFn: (params) => apis.getSettings({...params, search}),\n        deleteFn: apis.deleteSetting.bind(apis),\n        entityName: 'setting',\n        dependencies: [search]\n    });\n\n    const formatDate = (timestamp: number) => {\n        return new Date(timestamp).toLocaleDateString();\n    };\n\n    const formatValue = (value: string | boolean | number | boolean[] | string[] | number[], masked?: boolean) => {\n        if (masked) {\n            return '***';\n        }\n        if (Array.isArray(value)) {\n            return JSON.stringify(value);\n        }\n        return String(value);\n    };\n\n    const handleSearchChange = (newSearch: string) => {\n        setSearch(newSearch);\n        updateSearchURL(newSearch);\n    };\n\n    const searchInput = (\n        <div className=\"mb-4\">\n            <input\n                type=\"text\"\n                placeholder=\"Search settings...\"\n                value={search}\n                onInput={(e) => {\n                    handleSearchChange((e.target as HTMLInputElement).value);\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n        </div>\n    );\n\n    return (\n        <ExtensionZone name=\"settings-list\" context={{data: settings}}>\n            <ListPage paginationLoading={paginationLoading}>\n                <ListPage.Header>\n                    <h2 className=\"text-xl font-semibold m-0\">Settings</h2>\n                    {hasPermission('settings:create') && (\n                        <a\n                            href=\"/api/next-blog/dashboard/settings/create\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                location.route('/api/next-blog/dashboard/settings/create');\n                            }}\n                            className=\"inline-block bg-blue-500 hover:bg-blue-600 text-white no-underline px-4 py-2 rounded\"\n                        >\n                            Create New Setting\n                        </a>\n                    )}\n                </ListPage.Header>\n\n                <ExtensionPoint name=\"settings-list-toolbar\" context={{settings}}/>\n\n                {searchInput}\n\n                <ListPage.Content\n                    loading={paginationLoading}\n                    error={error}\n                    empty={settings.length === 0}\n                    emptyMessage=\"No settings found. Create your first setting!\"\n                >\n                    <ExtensionZone name=\"settings-table\" context={{data: settings}}>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full border-collapse\">\n                                <thead>\n                                <tr className=\"bg-gray-100\">\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Key</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Value</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Scope</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Created</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Updated</th>\n                                    <th className=\"p-3 text-left border-b border-gray-200\">Actions</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {settings.map(setting => (\n                                    <>\n                                        <ExtensionPoint name=\"setting-item:before\" context={{setting}}/>\n                                        <tr key={setting._id} className=\"border-b border-gray-200 hover:bg-gray-50\">\n                                            <td className=\"p-3\">\n                                                {setting.key}\n                                                {setting.isSecure && (\n                                                    <span className=\"ml-2 text-yellow-600\" title=\"Secure Setting\"></span>\n                                                )}\n                                                {setting.isOrphaned && (\n                                                    <span className=\"ml-2 text-red-600\" title=\"Orphaned Setting - Plugin Deleted\"></span>\n                                                )}\n                                            </td>\n                                            <td className=\"p-3\">{formatValue(setting.value, setting.masked)}</td>\n                                            <td className=\"p-3\">\n                                                <span className={`px-2 py-1 rounded text-xs font-semibold ${\n                                                    setting.scope === 'global' ? 'bg-green-100 text-green-800' :\n                                                        setting.scope === 'user' ? 'bg-blue-100 text-blue-800' :\n                                                            'bg-purple-100 text-purple-800'\n                                                }`}>\n                                                    {setting.scope || 'unknown'}\n                                                </span>\n                                            </td>\n                                            <td className=\"p-3\">{formatDate(setting.createdAt)}</td>\n                                            <td className=\"p-3\">{formatDate(setting.updatedAt)}</td>\n                                            <td className=\"p-3\">\n                                                {hasPermission('settings:update') && (\n                                                    <a\n                                                        href={`/api/next-blog/dashboard/settings/${setting._id}`}\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            location.route(`/api/next-blog/dashboard/settings/${setting._id}`);\n                                                        }}\n                                                        className=\"text-blue-500 hover:text-blue-700 no-underline mr-3\"\n                                                    >\n                                                        Edit\n                                                    </a>\n                                                )}\n                                                {hasPermission('settings:delete') && (\n                                                    <button\n                                                        onClick={() => handleDelete(setting, `Are you sure you want to delete \"${setting.key}\"?`)}\n                                                        disabled={deletingIds.has(setting._id)}\n                                                        className=\"text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer p-0 font-inherit disabled:opacity-50\"\n                                                    >\n                                                        {deletingIds.has(setting._id) ?\n                                                            <Loader size=\"sm\" text=\"\"/> : 'Delete'}\n                                                    </button>\n                                                )}\n                                            </td>\n                                        </tr>\n                                        <ExtensionPoint name=\"setting-item:after\" context={{setting}}/>\n                                    </>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </ExtensionZone>\n                </ListPage.Content>\n\n                <PaginationControls\n                    pagination={pagination}\n                    currentPage={page}\n                    dataLength={settings.length}\n                    onPageChange={handlePageChange}\n                    loading={paginationLoading}\n                />\n            </ListPage>\n        </ExtensionZone>\n    );\n};\n\nexport default SettingsList;\n","import {FunctionComponent, h} from 'preact';\nimport {useEffect} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from '../../../context/UserContext';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\n\ninterface CreateSettingProps {\n    path?: string;\n}\n\nconst CreateSetting: FunctionComponent<CreateSettingProps> = () => {\n    const location = useLocation();\n    const {apis, user, loading: userLoading} = useUser();\n\n    useEffect(() => {\n        // Skip if not authenticated\n        if (!user) return;\n\n        // No need to fetch additional data for settings\n    }, [user]);\n\n    // Define form fields\n    const fields: DynamicFormFieldType[] = [\n        {key: 'key', label: 'Key', type: 'text', required: true},\n        {\n            key: 'value',\n            label: 'Value',\n            type: 'textarea',\n            required: true,\n            placeholder: 'For arrays or objects, enter valid JSON'\n        },\n        {\n            key: 'scope',\n            label: 'Scope',\n            type: 'select',\n            required: false,\n            value: 'global',\n            options: [\n                {value: 'global', label: 'Global (accessible to all plugins)'},\n                {value: 'user', label: 'User (specific to current user)'}\n            ]\n        },\n        {\n            key: 'isSecure',\n            label: 'Secure Setting (encrypts value, masks in dashboard)',\n            type: 'select',\n            required: false,\n            value: \"\",\n            options: [{value: \"\", label: \"False\"}, {value: \"1\", label: \"True\"}],\n        }\n    ];\n\n    // Handler for setting creation using the API client directly\n    const handleCreateSetting = async (data: any) => {\n        let parsedValue = data.value;\n\n        // Try to parse the value as JSON if it starts with [ or {\n        if (typeof data.value === 'string' && (data.value.trim().startsWith('[') || data.value.trim().startsWith('{'))) {\n            try {\n                parsedValue = JSON.parse(data.value);\n            } catch (e) {\n                console.error('Failed to parse value as JSON:', e);\n                // Keep the original string if parsing fails\n            }\n        }\n\n        const settingData = {\n            key: data.key,\n            value: parsedValue,\n            scope: data.scope,\n            isSecure: data.isSecure\n        };\n\n        const result = await apis.createSetting(settingData);\n\n        // Navigate to list page after successful creation\n        location.route('/api/next-blog/dashboard/settings');\n\n        return result;\n    };\n\n    if (userLoading) {\n        return <div className=\"flex justify-center py-8\">Loading user information...</div>;\n    }\n\n    if (!user) {\n        return null; // Will redirect to login\n    }\n\n    return (\n        <ExtensionZone name=\"setting-create\" context={{data: {fields}}}>\n            <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-semibold\">Create New Setting</h2>\n                    <button\n                        onClick={() => window.history.back()}\n                        className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                    >\n                        Back to List\n                    </button>\n                </div>\n\n                <ExtensionPoint name=\"setting-create-form:toolbar\" context={{fields}}/>\n                <ExtensionZone name=\"setting-create-form\" context={{data: {fields}}}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <DynamicForm\n                            id=\"createSetting\"\n                            submitLabel=\"Create Setting\"\n                            apiMethod={handleCreateSetting}\n                            fields={fields}\n                        />\n                    </div>\n                </ExtensionZone>\n            </div>\n        </ExtensionZone>\n    );\n};\n\nexport default CreateSetting;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useMemo, useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport DynamicForm, {DynamicFormFieldType} from '../../../components/utils/dynamic-form';\nimport {useUser} from \"../../../context/UserContext\";\nimport {SettingEditorContext, SettingsEntry} from '@supergrowthai/next-blog-types';\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PasswordDynamicFormField, TextAreaDynamicFormField} from \"../../../components/utils/dynamic-form/types.ts\";\n\ninterface SettingsEntryWithScope extends SettingsEntry {\n    scope?: 'global' | 'user' | 'plugin';\n    masked?: boolean;\n}\n\nconst UpdateSetting: FunctionComponent<{ id: string }> = ({id}) => {\n    const location = useLocation();\n    const [setting, setSetting] = useState<SettingsEntryWithScope | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const {apis} = useUser();\n\n    useEffect(() => {\n        // Function to fetch setting from the API\n        const fetchData = async () => {\n            if (!id) {\n                setError('No setting ID provided');\n                setLoading(false);\n                return;\n            }\n\n            try {\n                // Fetch setting data\n                const response = await apis.getSetting(id);\n\n                if (response.code !== 0) {\n                    throw new Error(`Error fetching setting: ${response.message}`);\n                }\n\n                setSetting(response.payload!);\n                setLoading(false);\n            } catch (err) {\n                console.error('Error fetching data:', err);\n                setError(err instanceof Error ? err.message : 'Unknown error');\n                setLoading(false);\n            }\n        };\n\n        fetchData();\n    }, [id]);\n\n    // Define form fields based on setting data\n    const getFormFields = (): DynamicFormFieldType[] => {\n        if (!setting) return [];\n\n        // Format the value for display in the form\n        let displayValue = setting.value;\n        if (typeof displayValue !== 'string') {\n            displayValue = JSON.stringify(displayValue, null, 2);\n        }\n\n        // For secure settings, show a password field for new value entry\n        const valueField: PasswordDynamicFormField | TextAreaDynamicFormField = setting.isSecure || setting.masked\n            ? {\n                key: 'value',\n                label: 'Value (Secure)',\n                type: 'password',\n                value: '', // Don't show masked value\n                required: true,\n                placeholder: 'Enter new value (existing value is hidden for security)'\n            }\n            : {\n                key: 'value',\n                label: 'Value',\n                type: 'textarea',\n                value: displayValue,\n                required: true,\n                placeholder: 'For arrays or objects, enter valid JSON'\n            };\n\n        return [\n            {key: 'id', label: 'ID', type: 'text', value: setting._id, disabled: true},\n            {key: 'key', label: 'Key', type: 'text', value: setting.key, required: true, disabled: true},\n            valueField,\n            {\n                key: 'scope',\n                label: 'Scope',\n                type: 'select',\n                value: setting.scope || 'global',\n                disabled: true, // Scope cannot be changed after creation\n                options: [\n                    {value: 'global', label: 'Global (accessible to all plugins)'},\n                    {value: 'user', label: 'User (specific to current user)'},\n                    {value: 'plugin', label: 'Plugin (specific to a plugin)'}\n                ]\n            },\n            {\n                key: 'ownerId',\n                label: 'Owner ID',\n                type: 'text',\n                value: setting.ownerId,\n                disabled: true\n            }\n        ];\n    };\n\n    // Handler for setting update using the API client directly\n    const handleUpdateSetting = async (data: any) => {\n        // Skip update if secure setting with no new value provided\n        if ((setting?.isSecure || setting?.masked) && !data.value) {\n            alert('Please enter a new value for the secure setting');\n            return;\n        }\n\n        let parsedValue = data.value;\n\n        // Try to parse the value as JSON if it starts with [ or {\n        if (typeof data.value === 'string' && (data.value.trim().startsWith('[') || data.value.trim().startsWith('{'))) {\n            try {\n                parsedValue = JSON.parse(data.value);\n            } catch (e) {\n                console.error('Failed to parse value as JSON:', e);\n                // Keep the original string if parsing fails\n            }\n        }\n\n        const settingData = {\n            key: data.key,\n            value: parsedValue\n        };\n\n        const result = await apis.updateSetting(id, settingData);\n\n        location.route('/api/next-blog/dashboard/settings');\n\n        return result;\n    };\n\n    // Event bus for form field changes\n    const eventBus = useMemo(() => {\n        const listeners: Record<string, Function[]> = {};\n        return {\n            on(event: string, callback: Function) {\n                if (!listeners[event]) {\n                    listeners[event] = [];\n                }\n                listeners[event].push(callback);\n                return () => this.off(event, callback);\n            },\n            off(event: string, callback: Function) {\n                if (listeners[event]) {\n                    listeners[event] = listeners[event].filter(c => c !== callback);\n                }\n            },\n            emit(event: string, data?: any) {\n                if (listeners[event]) {\n                    listeners[event].forEach(cb => cb(data));\n                }\n            },\n        };\n    }, []);\n\n    const handleFieldChange = (key: string, value: any) => {\n        eventBus.emit(`${key}:change`, value);\n        return null;\n    };\n\n    const context = useMemo<SettingEditorContext | undefined>(() => {\n        if (!setting) return undefined;\n        return {\n            settingId: id,\n            data: setting,\n            form: {\n                data: setting,\n                on: eventBus.on,\n                off: eventBus.off\n            }\n        };\n    }, [id, setting, eventBus]);\n\n    return (\n        <div className=\"max-w-4xl mx-auto p-2 md:p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Update Setting</h2>\n                <button\n                    onClick={() => window.history.back()}\n                    className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100\"\n                >\n                    Back to List\n                </button>\n            </div>\n\n            {loading ? (\n                <p>Loading setting data...</p>\n            ) : error ? (\n                <div className=\"p-4 bg-red-100 text-red-800 rounded\">\n                    Error: {error}\n                </div>\n            ) : !setting ? (\n                <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded\">\n                    Setting not found\n                </div>\n            ) : (\n                <ExtensionZone name=\"setting-update-form\" context={context}>\n                    <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                        <ExtensionPoint name=\"setting-update-before\" context={context}/>\n                        <DynamicForm\n                            id=\"updateSetting\"\n                            submitLabel=\"Update Setting\"\n                            apiMethod={handleUpdateSetting}\n                            fields={getFormFields()}\n                            onFieldChange={handleFieldChange}\n                        />\n                        <ExtensionPoint name=\"setting-update-after\" context={context}/>\n                    </div>\n                    <ExtensionPoint name=\"setting-update-sidebar-widget\" context={context}/>\n                </ExtensionZone>\n            )}\n        </div>\n    );\n};\n\nexport default UpdateSetting;","import {h} from 'preact';\nimport {Plugin} from '@supergrowthai/next-blog-types';\nimport Loader from '../../components/Loader';\n\ninterface PluginActionsDropdownProps {\n    plugin: Plugin;\n    onUpdate: () => void;\n    onReinstall: () => void;\n    onDelete: () => void;\n    onSettings?: () => void;\n    isProcessing?: boolean;\n    permissions: {\n        canUpdate: boolean;\n        canReinstall: boolean;\n        canDelete: boolean;\n    };\n}\n\nexport const PluginActionsDropdown = ({\n                                          plugin,\n                                          onUpdate,\n                                          onReinstall,\n                                          onDelete,\n                                          onSettings,\n                                          isProcessing,\n                                          permissions\n                                      }: PluginActionsDropdownProps) => {\n    return (\n        <div className=\"flex gap-2\">\n            {onSettings && (\n                <a\n                    href=\"#\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        onSettings();\n                    }}\n                    className=\"text-blue-500 hover:text-blue-700 no-underline mr-3\"\n                >\n                    Settings\n                </a>\n            )}\n\n            {!plugin.isSystem && (\n                <div className=\"dropdown dropdown-end\">\n                    <button\n                        tabIndex={0}\n                        className=\"text-gray-600 hover:text-gray-800 bg-transparent border-none cursor-pointer p-0 font-inherit disabled:opacity-50\"\n                        disabled={isProcessing}\n                    >\n                        {isProcessing ? <Loader size=\"sm\" text=\"\"/> : (\n                            <>Actions <svg className=\"w-4 h-4 inline ml-1\" fill=\"none\" stroke=\"currentColor\"\n                                           viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\"/>\n                            </svg></>\n                        )}\n                    </button>\n                    <ul tabIndex={0}\n                        className=\"dropdown-content z-[1] menu p-2 shadow-lg bg-white border border-gray-200 rounded-md w-52\">\n                        {permissions.canUpdate && (\n                            <li><a onClick={onUpdate} className=\"hover:bg-gray-100\">Update</a></li>\n                        )}\n                        {permissions.canReinstall && (\n                            <li><a onClick={onReinstall} className=\"hover:bg-gray-100\">Reinstall</a></li>\n                        )}\n                        {permissions.canDelete && (\n                            <li><a onClick={onDelete} className=\"text-red-500 hover:bg-red-50\">Delete</a></li>\n                        )}\n                    </ul>\n                </div>\n            )}\n        </div>\n    );\n};","import {h} from 'preact';\nimport {Plugin} from '@supergrowthai/next-blog-types';\nimport {useEffect, useState} from 'preact/hooks';\nimport {useUser} from '../../context/UserContext';\nimport {usePlugins} from '../../context/PluginContext';\n\ninterface UpdatePluginDialogProps {\n    plugin: Plugin | null;\n    show: boolean;\n    onClose: () => void;\n}\n\nexport const UpdatePluginDialog = ({\n                                       plugin,\n                                       show,\n                                       onClose\n                                   }: UpdatePluginDialogProps) => {\n    const {apis} = useUser();\n    const {hardReloadPlugins} = usePlugins();\n    const [updateUrl, setUpdateUrl] = useState('');\n    const [isUpdating, setIsUpdating] = useState(false);\n\n    useEffect(() => {\n        if (plugin) {\n            setUpdateUrl(plugin.url || '');\n        }\n    }, [plugin]);\n\n    const handleUpdate = async () => {\n        if (!plugin) return;\n\n        setIsUpdating(true);\n        try {\n            const response = await apis.updatePlugin(\n                plugin._id,\n                updateUrl !== plugin.url ? {url: updateUrl} : undefined\n            );\n\n            if (response.code === 0) {\n                await hardReloadPlugins();\n                alert('Plugin updated successfully');\n                onClose();\n            } else {\n                alert(`Failed to update plugin: ${response.message}`);\n            }\n        } catch (error: any) {\n            alert(`Error updating plugin: ${error.message || error}`);\n        } finally {\n            setIsUpdating(false);\n        }\n    };\n\n    const handleCancel = () => {\n        if (!isUpdating) {\n            setUpdateUrl('');\n            onClose();\n        }\n    };\n\n    if (!show || !plugin) return null;\n\n    return (\n        <div className=\"modal modal-open\">\n            <div className=\"modal-box bg-white\">\n                <h3 className=\"font-bold text-lg\">Update Plugin</h3>\n                <p className=\"py-2\">\n                    Updating: <strong>{plugin.name}</strong>\n                </p>\n\n                <div className=\"form-control\">\n                    <label className=\"label\">\n                        <span className=\"label-text\">Plugin URL</span>\n                    </label>\n                    <input\n                        type=\"text\"\n                        className=\"input input-bordered w-full bg-white\"\n                        value={updateUrl}\n                        onChange={(e) => setUpdateUrl((e.target as HTMLInputElement).value)}\n                        disabled={isUpdating}\n                    />\n                </div>\n\n                <div className=\"modal-action\">\n                    <button\n                        className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded disabled:opacity-50\"\n                        onClick={handleCancel}\n                        disabled={isUpdating}\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        className=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded disabled:opacity-50\"\n                        onClick={handleUpdate}\n                        disabled={isUpdating}\n                    >\n                        {isUpdating ? 'Updating...' : 'Update'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};","import {useUser} from '../../../context/UserContext';\nimport {Plugin} from '@supergrowthai/next-blog-types';\nimport {usePlugins} from \"../../../context/PluginContext.tsx\";\nimport {useLocation} from \"preact-iso\";\nimport {useEffect, useState} from \"preact/hooks\";\nimport {ExtensionPoint, ExtensionZone} from '../../components/ExtensionZone';\nimport {PaginationControls} from '../../../components/PaginationControls';\nimport Loader from '../../../components/Loader';\nimport {useEntityList} from '../../../hooks/useEntityList';\nimport ListPage from '../../../components/ListPageLayout';\nimport {PluginActionsDropdown} from '../../components/PluginActionsDropdown';\nimport {UpdatePluginDialog} from '../../components/UpdatePluginDialog';\n\nconst PluginsList = () => {\n    const {hasPermission, hasAllPermissions, apis: api} = useUser();\n    const {loadedPlugins, hardReloadPlugins} = usePlugins();\n    const location = useLocation();\n    const [isReloading, setIsReloading] = useState(false);\n    const [selectedPlugin, setSelectedPlugin] = useState<Plugin | null>(null);\n    const [showUpdateDialog, setShowUpdateDialog] = useState(false);\n\n    const {\n        entities: plugins,\n        paginationLoading,\n        error,\n        pagination,\n        deletingIds,\n        actioningIds,\n        handlePageChange,\n        handleDelete,\n        actionHandlers,\n        page\n    } = useEntityList<Plugin>({\n        fetchFn: api.getPlugins.bind(api),\n        deleteFn: api.deletePlugin.bind(api),\n        entityName: 'plugin',\n        additionalActions: {\n            reinstall: {\n                fn: async (id: string) => {\n                    const response = await api.reinstallPlugin(id);\n                    if (response.code === 0) {\n                        hardReloadPlugins();\n                    }\n                    return response;\n                },\n                confirmMessage: 'Are you sure you want to reinstall this plugin? This will re-run its installation script.'\n            }\n        }\n    });\n\n    const reinstallingIds = actioningIds.reinstall || new Set();\n    const handleReinstall = actionHandlers.reinstall;\n\n    const handleReloadPlugins = async () => {\n        setIsReloading(true);\n        try {\n            await hardReloadPlugins();\n        } finally {\n            setIsReloading(false);\n        }\n    };\n\n    const columns = [\n        {\n            header: 'Name',\n            accessor: 'name',\n            cell: (plugin: Plugin) => (\n                <div>\n                    <div className=\"font-medium\">{plugin.name}</div>\n                    {plugin.url && (\n                        <div className=\"text-xs text-gray-500 mt-1\">{plugin.url}</div>\n                    )}\n                </div>\n            )\n        },\n        {header: 'Version', accessor: 'version'},\n        {header: 'Author', accessor: 'author'},\n        {\n            header: 'Actions',\n            accessor: '_id',\n            cell: (plugin: Plugin) => {\n                const clientModule = loadedPlugins.get(plugin._id);\n                const hasSettingsPanel = clientModule?.hasSettingsPanel;\n                const isProcessing = reinstallingIds.has(plugin._id) || deletingIds.has(plugin._id);\n\n                return (\n                    <PluginActionsDropdown\n                        plugin={plugin}\n                        onSettings={hasSettingsPanel ?\n                            () => location.route(`/api/next-blog/dashboard/plugins/${plugin._id}`) :\n                            undefined\n                        }\n                        onUpdate={() => {\n                            setSelectedPlugin(plugin);\n                            setShowUpdateDialog(true);\n                        }}\n                        onReinstall={() => handleReinstall(plugin._id)}\n                        onDelete={() => handleDelete(plugin, 'Are you sure you want to delete this plugin? This will also delete all hook mappings for this plugin.')}\n                        isProcessing={isProcessing}\n                        permissions={{\n                            canUpdate: hasPermission('plugins:create'),\n                            canReinstall: hasAllPermissions(['plugins:create', 'plugins:delete']),\n                            canDelete: hasPermission('plugins:delete')\n                        }}\n                    />\n                )\n            },\n        },\n    ];\n\n    useEffect(() => {\n        if (location.query.r === '1') {\n            console.log(\"Detected a refresh request\")\n            hardReloadPlugins();\n            const {r, ...rest} = location.query;\n            const qs = new URLSearchParams(rest as Record<string, string>).toString();\n            location.route(location.path + (qs ? `?${qs}` : ''), /* replaceHistory */ true);\n        }\n    }, [location.query.r]);\n\n    return (\n        <ExtensionZone name=\"plugins-list\" context={{data: plugins}}>\n            <div className=\"p-4\">\n                <ListPage paginationLoading={paginationLoading}>\n                    <ListPage.Header>\n                        <h1 className=\"text-2xl font-bold\">Plugins</h1>\n                        <div className=\"flex space-x-2\">\n                            <button\n                                onClick={handleReloadPlugins}\n                                disabled={isReloading}\n                                className=\"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50\"\n                                title=\"Clear cache and reload all plugins\"\n                            >\n                                {isReloading ? <Loader size=\"sm\" text=\"\"/> : 'Reload Plugins'}\n                            </button>\n                            {hasPermission('plugins:create') && (\n                                <a\n                                    href=\"/api/next-blog/dashboard/plugins/create\"\n                                    className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                                >\n                                    Add New Plugin\n                                </a>\n                            )}\n                        </div>\n                    </ListPage.Header>\n\n                    <ExtensionPoint name=\"plugins-list-toolbar\" context={{plugins, loadedPlugins}}/>\n\n                    <ListPage.Content\n                        loading={paginationLoading}\n                        error={error}\n                        empty={plugins.length === 0}\n                        emptyMessage=\"No plugins found.\"\n                    >\n                        <ExtensionZone name=\"plugins-table\" context={{data: {plugins, loadedPlugins}}}>\n                            <div className=\"overflow-x-auto\">\n                                <table className=\"min-w-full bg-white border border-gray-200\">\n                                    <thead>\n                                    <tr className=\"bg-gray-100\">\n                                        {columns.map((column) => (\n                                            <th key={column.header}\n                                                className=\"py-2 px-4 border-b text-left\">{column.header}</th>\n                                        ))}\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {plugins.map((plugin: any) => (\n                                        <>\n                                            <ExtensionPoint name=\"plugin-item:before\" context={{plugin}}/>\n                                            <tr key={plugin._id} className=\"hover:bg-gray-50\">\n                                                {columns.map((column) => (\n                                                    <td key={column.accessor} className=\"py-2 px-4 border-b\">\n                                                        {column.cell ? column.cell(plugin) : plugin[column.accessor]}\n                                                    </td>\n                                                ))}\n                                            </tr>\n                                            <ExtensionPoint name=\"plugin-item:after\" context={{plugin}}/>\n                                        </>\n                                    ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </ExtensionZone>\n                    </ListPage.Content>\n\n                    <PaginationControls\n                        pagination={pagination}\n                        currentPage={page}\n                        dataLength={plugins.length}\n                        onPageChange={handlePageChange}\n                        loading={paginationLoading}\n                    />\n                </ListPage>\n            </div>\n\n            <UpdatePluginDialog\n                plugin={selectedPlugin}\n                show={showUpdateDialog}\n                onClose={() => {\n                    setShowUpdateDialog(false);\n                    setSelectedPlugin(null);\n                }}\n            />\n        </ExtensionZone>\n    );\n};\n\nexport default PluginsList;\n","import {h} from 'preact';\nimport {useEffect, useMemo, useState} from 'preact/hooks';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {useLocation} from \"preact-iso\";\nimport {usePlugins} from \"../../../context/PluginContext.tsx\";\n\ninterface AvailablePlugin {\n    id: string;\n    name: string;\n    version: string;\n    author: string;\n    path: string;\n    files: {\n        client: string;\n        server: string;\n        plugin: string;\n    };\n    description: string;\n}\n\nexport const AvailablePlugins = () => {\n    const {apis: api} = useUser();\n    const {route} = useLocation();\n    const {plugins: installedPlugins} = usePlugins();\n    const [installingPlugin, setInstallingPlugin] = useState<string | null>(null);\n    const [availablePlugins, setAvailablePlugins] = useState<AvailablePlugin[]>([]);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // Create a map of installed plugin IDs for quick lookup\n    const installedPluginIds = useMemo(() => new Set(installedPlugins.map(p => p.id)), [installedPlugins]);\n\n    useEffect(() => {\n        const fetchAvailablePlugins = async () => {\n            try {\n                const response = await fetch(`https://next-blog-test-app.vercel.app/plugins/available.json`);\n                if (response.ok) {\n                    const data = await response.json();\n                    setAvailablePlugins(data.plugins || []);\n                }\n            } catch (err) {\n                console.error('Failed to fetch available plugins:', err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchAvailablePlugins();\n    }, []);\n\n    const handleInstall = async (plugin: AvailablePlugin) => {\n        setInstallingPlugin(plugin.id);\n        setError(null);\n\n        try {\n            // Construct the full URL for the plugin\n            const pluginUrl = plugin.files.plugin;\n            const response = await api.createPlugin({url: pluginUrl});\n            if (response.code === 0) {\n                route('/api/next-blog/dashboard/plugins?r=1');\n            } else {\n                setError(response.message || 'Failed to install plugin');\n            }\n        } catch (err) {\n            setError('An error occurred while installing the plugin');\n            console.error(err);\n        } finally {\n            setInstallingPlugin(null);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"mb-8\">\n                <div className=\"flex justify-center items-center py-8\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"></div>\n                </div>\n            </div>\n        );\n    }\n\n    if (availablePlugins.length === 0) {\n        return null;\n    }\n\n    return (\n        <div className=\"mb-8\">\n            <h3 className=\"text-xl font-semibold mb-4\">Available Plugins</h3>\n\n            {error && (\n                <div className=\"p-3 mb-4 bg-red-100 text-red-800 rounded-md text-sm\">\n                    {error}\n                </div>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\n                {availablePlugins.map((plugin) => {\n                    const isInstalled = installedPluginIds.has(plugin.id);\n                    return (\n                        <div key={plugin.id}\n                             className=\"bg-white p-4 rounded-lg shadow-sm border border-gray-200 flex flex-col h-48\">\n                            <div className=\"flex-1 overflow-hidden\">\n                                <h4 className=\"text-base font-semibold mb-1 truncate\" title={plugin.name}>\n                                    {plugin.name}\n                                </h4>\n                                <p className=\"text-xs text-gray-600 mb-1\">\n                                    v{plugin.version}  {plugin.author}\n                                </p>\n                                <p className=\"text-xs text-gray-700 line-clamp-3\">\n                                    {plugin.description}\n                                </p>\n                            </div>\n                            <div className=\"mt-auto pt-3\">\n                                {isInstalled ? (\n                                    <div\n                                        className=\"w-full px-3 py-1.5 bg-gray-100 text-gray-600 rounded-md text-center text-sm font-medium\">\n                                        Installed\n                                    </div>\n                                ) : (\n                                    <button\n                                        className=\"w-full px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\"\n                                        onClick={() => handleInstall(plugin)}\n                                        disabled={installingPlugin === plugin.id}\n                                    >\n                                        {installingPlugin === plugin.id ? (\n                                            <span className=\"flex items-center justify-center\">\n                                                <div\n                                                    className=\"inline-block animate-spin h-3 w-3 border-t-2 border-b-2 border-white rounded-full mr-1.5\"></div>\n                                                Installing...\n                                            </span>\n                                        ) : (\n                                            'Install'\n                                        )}\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};","import {h} from 'preact';\nimport {useState} from 'preact/hooks';\nimport {useUser} from \"../../../context/UserContext.tsx\";\nimport {useLocation} from \"preact-iso\";\nimport {AvailablePlugins} from \"../../components/plugins/AvailablePlugins.tsx\";\n\nconst CreatePlugin = () => {\n    const {apis: api} = useUser();\n    const {route} = useLocation();\n    const [loading, setLoading] = useState<boolean>(false);\n    const [error, setError] = useState<string | null>(null);\n    const [url, setUrl] = useState<string>('');\n\n    const handleSubmit = async (e: any) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(null);\n\n        try {\n            const response = await api.createPlugin({url});\n            if (response.code === 0) {\n                route('/api/next-blog/dashboard/plugins?r=1');\n            } else {\n                setError(response.message || 'Failed to create plugin');\n            }\n        } catch (err) {\n            setError('An error occurred while creating the plugin');\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"container mx-auto px-4 py-8\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-semibold\">Install Plugin</h2>\n            </div>\n\n            {error && (\n                <div className=\"p-4 mb-4 bg-red-100 text-red-800 rounded-md flex justify-between items-center\">\n                    <span>{error}</span>\n                    <button\n                        onClick={() => setError(null)}\n                        className=\"text-red-600 hover:text-red-800\"\n                    >\n                        \n                    </button>\n                </div>\n            )}\n\n            <AvailablePlugins/>\n\n            {/* Custom URL Section */}\n            <div className=\"flex-grow bg-white p-6 rounded-lg shadow-md mb-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Install from URL</h3>\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"url\">\n                            Plugin URL\n                        </label>\n                        <input\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                            id=\"url\"\n                            type=\"text\"\n                            name=\"url\"\n                            value={url}\n                            onChange={(e: any) => setUrl(e.target.value)}\n                            placeholder=\"https://example.com/plugin.js\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                        <button\n                            type=\"button\"\n                            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 disabled:opacity-50\"\n                            onClick={() => route('/api/next-blog/dashboard/plugins')}\n                            disabled={loading}\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            type=\"submit\"\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n                            disabled={loading}\n                        >\n                            {loading ? (\n                                <span className=\"flex items-center\">\n                                    <div\n                                        className=\"inline-block animate-spin h-4 w-4 border-t-2 border-b-2 border-white rounded-full mr-2\"></div>\n                                    Installing...\n                                </span>\n                            ) : (\n                                'Install Plugin'\n                            )}\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default CreatePlugin;","import {FunctionComponent, h} from 'preact';\nimport {usePlugins} from '../../../context/PluginContext.tsx';\nimport {ExtensionPoint} from '../../components/ExtensionZone';\nimport {useUser} from \"../../../context/UserContext.tsx\";\n\nconst PluginPanel: FunctionComponent<{ pluginId: string }> = ({pluginId}) => {\n    const {plugins} = usePlugins();\n    const {config} = useUser();\n    const plugin = plugins.find(p => p._id === pluginId);\n\n    if (!plugin) {\n        return <div>Plugin not found or not loaded.</div>;\n    }\n\n    return (\n        <div className=\"plugin-panel\">\n            <ExtensionPoint\n                name=\"system:plugin:settings-panel\"\n                pluginFilter={pluginId}\n            />\n        </div>\n    );\n};\n\nexport default PluginPanel;\n","import {FunctionComponent, h} from 'preact';\nimport {useState} from 'preact/hooks';\nimport {useLocation} from 'preact-iso';\nimport {useUser} from '../../context/UserContext';\n\nconst Login: FunctionComponent = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [isLoggingIn, setIsLoggingIn] = useState(false);\n    const {login, error} = useUser();\n    const location = useLocation();\n\n    const handleSubmit = async (e: Event) => {\n        e.preventDefault();\n\n        if (!username || !password) {\n            return;\n        }\n\n        setIsLoggingIn(true);\n\n        try {\n            const success = await login(username, password);\n\n            if (success) {\n                location.route('/api/next-blog/dashboard');\n            }\n        } finally {\n            setIsLoggingIn(false);\n        }\n    };\n\n    return (\n        <div className=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md\">\n            <h1 className=\"text-2xl font-bold mb-6 text-center\">Login</h1>\n\n            {error && (\n                <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\n                    {error}\n                </div>\n            )}\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"mb-4\">\n                    <label htmlFor=\"username\" className=\"block mb-1 font-medium\">\n                        Username\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"username\"\n                        value={username}\n                        onChange={(e) => setUsername((e.target as HTMLInputElement).value)}\n                        className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        disabled={isLoggingIn}\n                        required\n                    />\n                </div>\n\n                <div className=\"mb-6\">\n                    <label htmlFor=\"password\" className=\"block mb-1 font-medium\">\n                        Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        id=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword((e.target as HTMLInputElement).value)}\n                        className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        disabled={isLoggingIn}\n                        required\n                    />\n                </div>\n\n                <button\n                    type=\"submit\"\n                    className=\"w-full py-2 px-4 bg-blue-500 text-white font-medium rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                    disabled={isLoggingIn}\n                >\n                    {isLoggingIn ? 'Logging in...' : 'Login'}\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;","import {FunctionComponent, h} from 'preact';\nimport {useEffect, useState} from 'preact/hooks';\nimport {useLocation} from \"preact-iso\";\nimport {useUser} from '../../context/UserContext';\nimport {ExtensionZone} from '../components/ExtensionZone';\nimport Loader from '../../components/Loader';\n\ninterface HomeProps {\n    path?: string;\n}\n\nconst Home: FunctionComponent<HomeProps> = () => {\n    const [isClient, setIsClient] = useState(false);\n    const {user, config, loading} = useUser();\n    const location = useLocation();\n\n    // Effect to run client-side code\n    useEffect(() => {\n        setIsClient(true);\n        console.log('Home component mounted');\n    }, []);\n\n    // Redirect to login if not authenticated\n    useEffect(() => {\n        if (isClient && !loading && !user) {\n            location.route('/api/next-blog/dashboard/login');\n        }\n    }, [isClient, loading, user, location]);\n\n    // Get welcome text from config or use default\n    const welcomeText = config?.branding?.description ||\n        'Welcome to the Next-Blog dashboard. Use the navigation above to manage your content.';\n\n    if (loading) {\n        return <Loader text=\"Loading...\" />;\n    }\n\n    if (!user) {\n        return null; // Will redirect to login\n    }\n\n    return (\n        <ExtensionZone name=\"dashboard-home\" context={{data: {user}}}>\n            <h2 className=\"text-xl font-semibold mb-5\">Dashboard Home</h2>\n\n            <div className=\"mb-8\">\n                <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6\">\n                    <div className=\"flex\">\n                        <div className=\"ml-3\">\n                            <p className=\"text-sm text-blue-700\">\n                                {`Welcome, ${user.name}! You are logged in with ${user.permissions.join(\",\")} permissions.`}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                <p className=\"mb-4\">{welcomeText}</p>\n            </div>\n\n            <ExtensionZone name=\"stats-section\" context={{data: {user}}}>\n                <div className=\"flex flex-wrap gap-5\">\n                    <div className=\"flex-1\">\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 mb-5\">\n                            {/* Top row: Blogs and Categories */}\n                            <SectionCard\n                                title=\"Blogs\"\n                                description=\"Manage your blog posts\"\n                                link=\"/api/next-blog/dashboard/blogs\"\n                                color={config?.theme?.primaryColor}\n                            />\n                            <SectionCard\n                                title=\"Categories\"\n                                description=\"Organize content with categories\"\n                                link=\"/api/next-blog/dashboard/categories\"\n                                color={config?.theme?.primaryColor}\n                            />\n                        </div>\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5\">\n                            {/* Bottom row: Tags and Users */}\n                            <SectionCard\n                                title=\"Tags\"\n                                description=\"Add tags to your content\"\n                                link=\"/api/next-blog/dashboard/tags\"\n                                color={config?.theme?.primaryColor}\n                            />\n                            <SectionCard\n                                title=\"Authors\"\n                                description=\"Manage content creators\"\n                                link=\"/api/next-blog/dashboard/users\"\n                                color={config?.theme?.primaryColor}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </ExtensionZone>\n        </ExtensionZone>\n    );\n};\n\ninterface SectionCardProps {\n    title: string;\n    description: string;\n    link: string;\n    color?: string;\n}\n\nconst SectionCard: FunctionComponent<SectionCardProps> = ({title, description, link, color = '#3498db'}) => {\n    const location = useLocation();\n\n    return (\n        <div\n            className=\"p-5 bg-white rounded-lg shadow-sm flex flex-col border border-gray-100 hover:shadow-md transition-shadow\">\n            <h3 className=\"text-lg font-medium mb-2\">{title}</h3>\n            <p className=\"text-sm text-gray-600 mb-4 flex-grow\">{description}</p>\n            <a\n                href={link}\n                onClick={(e) => {\n                    e.preventDefault();\n                    location.route(link);\n                }}\n                className=\"inline-block no-underline font-semibold text-sm\"\n                style={{color: color}}\n            >\n                Manage \n            </a>\n        </div>\n    );\n};\n\nexport default Home;","import {h, render} from 'preact';\nimport {createPortal} from 'preact/compat';\nimport {LocationProvider, Route, Router, useLocation} from 'preact-iso';\nimport {UserProvider} from '../context/UserContext';\nimport '../styles/styles.css';\n// Import pages\nimport {Layout} from './components/Layout';\n\n// Import blogs pages\nimport BlogsList from './pages/blogs/List';\nimport CreateBlog from './pages/blogs/Create';\nimport UpdateBlog from './pages/blogs/Update';\n\n// Import users pages (replacing authors)\nimport UsersList from './pages/users/List';\nimport CreateUser from './pages/users/Create';\nimport UpdateUser from './pages/users/Update';\n\n// Import categories pages\nimport CategoriesList from './pages/categories/List';\nimport CreateCategory from './pages/categories/Create';\nimport UpdateCategory from './pages/categories/Update';\n\n// Import tags pages\nimport TagsList from './pages/tags/List';\nimport CreateTag from './pages/tags/Create';\nimport UpdateTag from './pages/tags/Update';\n\n// Import settings pages\nimport SettingsList from './pages/settings/List';\nimport CreateSetting from './pages/settings/Create';\nimport UpdateSetting from './pages/settings/Update';\n\n// Import plugins pages\nimport PluginsList from './pages/plugins/List';\nimport CreatePlugin from './pages/plugins/Create';\nimport PluginPanel from './pages/plugins/Panel';\n\nimport {Toaster} from 'react-hot-toast';\nimport {PluginProvider} from '../context/PluginContext';\nimport {IntentProvider} from '../intent';\nimport Login from \"./pages/Login.tsx\";\nimport Home from \"./pages/Home.tsx\";\n\n\nexport const withLayout = (Page: any) => (props: any) => {\n    const {path} = useLocation();\n    return (\n        <Layout currentPath={path}>\n            <Page {...props} />\n        </Layout>\n    );\n};\n\n// Main Dashboard App\nfunction DashboardApp() {\n\n    // Use route change callback to track current path\n    const handleRouteChange = (url: string) => {\n        console.log('Route changed to:', url);\n    };\n\n    return (\n        <LocationProvider>\n            <>\n                <UserProvider>\n                    <PluginProvider>\n                        <IntentProvider>\n\n                            <Router onRouteChange={handleRouteChange}>\n                                <Route path={\"/api/next-blog/dashboard/login\"} component={Login}/>\n\n                                {/* Home route */}\n                                <Route path=\"/api/next-blog/dashboard\" component={withLayout(Home)}/>\n\n                                {/* Blog routes */}\n                                <Route path=\"/api/next-blog/dashboard/blogs\" component={withLayout(BlogsList)}/>\n                                <Route path=\"/api/next-blog/dashboard/blogs/create\"\n                                       component={withLayout(CreateBlog)}/>\n                                <Route path=\"/api/next-blog/dashboard/blogs/:id\"\n                                       component={withLayout(UpdateBlog)}/>\n\n                                {/* User routes */}\n                                <Route path=\"/api/next-blog/dashboard/users\" component={withLayout(UsersList)}/>\n                                <Route path=\"/api/next-blog/dashboard/users/create\"\n                                       component={withLayout(CreateUser)}/>\n                                <Route path=\"/api/next-blog/dashboard/users/:id\"\n                                       component={withLayout(UpdateUser)}/>\n\n                                {/* Category routes */}\n                                <Route path=\"/api/next-blog/dashboard/categories\"\n                                       component={withLayout(CategoriesList)}/>\n                                <Route path=\"/api/next-blog/dashboard/categories/create\"\n                                       component={withLayout(CreateCategory)}/>\n                                <Route path=\"/api/next-blog/dashboard/categories/:id\"\n                                       component={withLayout(UpdateCategory)}/>\n\n                                {/* Tag routes */}\n                                <Route path=\"/api/next-blog/dashboard/tags\" component={withLayout(TagsList)}/>\n                                <Route path=\"/api/next-blog/dashboard/tags/create\"\n                                       component={withLayout(CreateTag)}/>\n                                <Route path=\"/api/next-blog/dashboard/tags/:id\" component={withLayout(UpdateTag)}/>\n\n                                {/* Settings routes */}\n                                <Route path=\"/api/next-blog/dashboard/settings\"\n                                       component={withLayout(SettingsList)}/>\n                                <Route path=\"/api/next-blog/dashboard/settings/create\"\n                                       component={withLayout(CreateSetting)}/>\n                                <Route path=\"/api/next-blog/dashboard/settings/:id\"\n                                       component={withLayout(UpdateSetting)}/>\n\n                                {/* Plugin routes */}\n                                <Route path=\"/api/next-blog/dashboard/plugins\" component={withLayout(PluginsList)}/>\n                                <Route path=\"/api/next-blog/dashboard/plugins/create\"\n                                       component={withLayout(CreatePlugin)}/>\n                                <Route path=\"/api/next-blog/dashboard/plugins/:pluginId\"\n                                       component={withLayout(PluginPanel)}/>\n\n\n                                {/* 404 route */}\n                                <Route default component={() => <div>Not Found</div>}/>\n                            </Router>\n                        </IntentProvider>\n                    </PluginProvider>\n                </UserProvider>\n                {createPortal(<Toaster/>, document.body)}\n            </>\n        </LocationProvider>\n    );\n}\n\n// Initialize client-side rendering\nfunction initDashboard() {\n    const appContainer = document.getElementById('app');\n    if (appContainer) {\n        console.log('Dashboard client initializing');\n        render(<DashboardApp/>, appContainer);\n    } else {\n        console.error('Dashboard container not found');\n    }\n}\n\n// Run initialization when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initDashboard);\n} else {\n    // DOM already ready, run now\n    initDashboard();\n}\n"],"names":["t","u","i","o","f","c","n","e","a","v","l","m","s","p","d","h","D","r","y","C","_","T","q","j","B","w","k","g","E","N","F","V","W","P","H","Z","Y","$","Q","useReducer","useMemo","url","useLayoutEffect","useContext","useRef","toChildArray","cloneElement","createContext","options","useState","useEffect","jsx","version","target","logger","useCallback","fn","hooks","te","oe","ee","ne","A","X","z","K","M","pe","fe","ue","ye","U","xe","b.createElement","J","G","y.memo","y.createElement","y.Fragment","Ve","x.createElement","x.useCallback","_e","toast","createRenderer","Fragment","memo","jsxs","location","item","urlParams","ElementType","isTag","_a","isTagRaw","CharCodes","BinTrieFlags","EntityDecoderState","DecodingMode","State","QuoteType","intentRegistry","error","uniqById","toOptions","id","UsersList","createPortal","Toaster","render"],"mappings":"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","x_google_ignoreList":[0,1,2,3,7,15,16,30,31,32,33,34,35,36,37,38,39]}